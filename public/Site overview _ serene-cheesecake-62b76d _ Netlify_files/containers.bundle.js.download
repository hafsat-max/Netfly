"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[2244],{75467:(Y,B,t)=>{t.d(B,{Z:()=>T});var o=t(24246),L=t(27378),h=t(80715),d=t(23979),p=t(64614),f=t(84673),a=t(52968),E=t(12648),m=t(34571),c=t(7311);const e=n=>Math.floor(new Date().getTime()/1e3)-60*60*24*n,s=n=>{const{setIsLoadingApp:l}=(0,c.bn)(),u=n.site.get("analytics_instance_id");(0,L.useEffect)(()=>{n.onLoad(n),l(!1)},[u]);const r=n.component||n.children;return(0,o.jsx)(r,{...n})};function i(n,l){let{site:u,account:r}=l;return{paymentMethod:(0,a.DY)(n,r),paymentProvider:(0,p.nY)(r),pageviews:(0,d.PO)(n,u),uniqueVisitors:(0,d.lW)(n,u),topLocations:(0,d.Z$)(n,u),topSources:(0,d.nV)(n,u),topPages:(0,d.gg)(n,u),bandwidthUsed:(0,d.Tf)(n,u),notFound:(0,d.p_)(n,u),summary:(0,d.mq)(n,u),realUserMetrics:{enabled:u.get("rum_enabled")||!1,filterSelected:(0,E.ot)(),FCP:(0,E.Pn)(n,u,"FCP"),LCP:(0,E.Pn)(n,u,"LCP"),FID:(0,E.Pn)(n,u,"FID"),CLS:(0,E.Pn)(n,u,"CLS")},filterSelected:(0,d._$)()}}function P(n,l){let{account:u,site:r,hasCharts:S,apiVersion:D}=l;return{onEnable:_=>n((0,d.Dc)(_)),onEnableRUM:_=>{n((0,m.L3)(_,{rum_enabled:!0})).then(()=>{n((0,E.bF)(_,"FCP")),n((0,E.bF)(_,"LCP")),n((0,E.bF)(_,"FID")),n((0,E.bF)(_,"CLS"))})},onDisableRUM:_=>{n((0,m.L3)(_,{rum_enabled:!1}))},onLoad:()=>{S&&r.get("analytics_instance_id")?(n((0,d.Te)(r)),n((0,d.Pc)(r)),n((0,d.mE)(r)),n((0,d.bc)(r)),n((0,d.Ww)(r)),n((0,d.Wo)(r)),n((0,d.XF)(r))):n((0,a.nS)(u)),S&&r.get("rum_enabled")&&(n((0,E.bF)(r,"FCP")),n((0,E.bF)(r,"LCP")),n((0,E.bF)(r,"FID")),n((0,E.bF)(r,"CLS")),n((0,f.lZ)(r,{filter:r.getIn(["build_settings","repo_branch"]),state:"ready",from:e(7)})))},onPaymentProviderTokenUsed:_=>n((0,p.Uc)(u,_)),onSavePaymentMethod:_=>n((0,a.BX)(_,u)),onUpdateFilter:(_,M)=>{let{resolution:O,days:R,minusOffsetDays:U}=M;n((0,d.Te)(_,{resolution:O,days:R,minusOffsetDays:U})),n((0,d.Pc)(_,{resolution:O,days:R,minusOffsetDays:U})),n((0,d.Wo)(_,{resolution:O,days:R,minusOffsetDays:U})),n((0,d.Ww)(_,{resolution:O,days:R,minusOffsetDays:U})),n((0,d.bc)(_,{resolution:O,days:R,minusOffsetDays:U})),n((0,d.XF)(_,{resolution:O,days:R,minusOffsetDays:U})),n((0,d.mE)(_,{resolution:O,days:R,minusOffsetDays:U}))},onUpdateRUMFilter:(_,M,O)=>{let{resolution:R,days:U,minusOffsetDays:W}=M;n((0,E.bF)(_,"FCP",{resolution:"hour",days:U},O)),n((0,E.bF)(_,"LCP",{resolution:"hour",days:U},O)),n((0,E.bF)(_,"FID",{resolution:"hour",days:U},O)),n((0,E.bF)(_,"CLS",{resolution:"hour",days:U},O)),n((0,f.lZ)(_,{filter:_.getIn(["build_settings","repo_branch"]),state:"ready",from:e(U)}))},onDelete:()=>n((0,d.Ji)(r))}}const T=(0,h.$j)(i,P)(s)},84633:(Y,B,t)=>{t.d(B,{Z:()=>te,Q:()=>Hn});var o=t(24246),L=t(62935),h=t(63636),d=t(60042),p=t.n(d),f=t(90046),a=t(27378),E=t(80715),m=t(34740),c=t(45106),e=t(31425),s=t(91800),i=t(941),P=t(60653),T=t(64614),n=t(84673),l=t(38086),u=t(5774),r=t(32712),S=t(34571),D=t(38751),_=t(93716),M=t(7442),O=t(65539),R=t(22716),U=t(32322),W=t(54187),y=t(2909),K=t(99365),v=t(64276),C=t(70977),x=t(4711),z=t(76273),j=t(9633),F=t(64419),Z=t(46998),N=t(58041),k=t(38978),at=t(71032),q=t(66520);const H=g=>{const[A,I]=(0,a.useState)(""),X=w=>{let{a11yMessage:J}=w;J&&(setTimeout(()=>{I(J)},50),setTimeout(()=>{I("")},500))};return(0,a.useEffect)(()=>{X(g)},[g]),(0,o.jsx)("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"tw-sr-only",children:A})};function nt(g){return{a11yMessage:(0,_._P)(g)}}const tt=(0,E.$j)(nt,{setLoading:_.K4,setA11yMessage:_.FY})(H);var ot=t(1576),Q=t(77962),dt=t(6433);function Tt(g){let{account:A,router:I}=g;var X;const{deployPath:w,firstDeployModal:J,site:st}=(0,E.v9)(Ot=>{var zt,It;const V=Ot.ui.getIn(["ui","firstDeployModal"]),mt=(0,S.gG)(Ot,(zt=V==null?void 0:V.data)==null?void 0:zt.site_id);return{deployPath:(0,Q.DD)(mt,"deploys",(It=V==null?void 0:V.data)==null?void 0:It.id),firstDeployModal:V,site:mt==null?void 0:mt.toJS()}}),rt=((X=J==null?void 0:J.data)==null?void 0:X.state)==="ready",lt=(0,E.I0)(),Dt=Ot=>{Ot!==dt.Ct.onSubmit&&M.iND.appFirstDeployModalInteraction({modalInteraction:"dismissed"}),lt((0,_.Ic)())},Mt=window.location.pathname===w,yt=()=>{M.iND.appFirstDeployModalInteraction({modalInteraction:"primaryCtaClicked"}),Mt?I.push((0,Q.l_)(A)):I.push(w)},ht=J==null?void 0:J.show;return(0,a.useEffect)(()=>{ht&&M.iND.appFirstDeployModalDisplayed({site_id:st.id,pageUrlPath:window.location.pathname,success:rt})},[ht,st,rt]),ht?(0,o.jsx)(ot.Z,{site:st,onHide:Dt,onSave:yt,isOnDeployPage:Mt,success:rt}):null}const vt=Tt;var it=t(24986),Et=t(61543),et=t(66632),At=t(60147),bt=t(4446),Wt=t(7311),Ht=t(28739),nn=t(1081),$=t(45180),ut=t(41726),Qt=t(8989),wt=t(26563),b=t(17320),Bn=t(72746),gn=t(54034),Wn=t(72814),yn=t(71731),Kn=t(46408),Pt=t(68854),xn=t(12419),en=t(54856),gt=t(13287),on=t(53562),Fn=t(55492),_n=t(74225),jn=t(81840),Nn=t(57742),Zn=t(87230),bn=t(9925),zn=t(77528);function Vn({isMobileNavOpen:g,setIsMobileNavOpen:A,event:I,secondaryNav:X,mobileNavButton:w}){var J;const{key:st,shiftKey:rt,target:lt}=I;if(!g||st!=="Tab"&&st!=="Escape")return;const Dt=(J=X==null?void 0:X.querySelectorAll("a, button"))!=null?J:[],Mt=Dt[Dt.length-1];(st==="Escape"||!rt&&lt===Mt||rt&&lt===w)&&(A(!1),lt!==w&&(I.preventDefault(),w==null||w.focus()))}const Gn=10*60*1e3;let Xt="",vn="",Yt;const St=g=>{let{site:A,account:I}=g;return(0,gt.CY)(A,I)},$n=()=>!0,Pn=()=>!1,Dn=(0,Wn.o)({sites:{overview:{label:"Site overview",path:b.Z6.SITES_OVERVIEW,isVisible:St},deploys:{label:"Deploys",path:b.Z6.SITES_DEPLOYS_ALL,isVisible:g=>{let{site:A,account:I}=g;return(0,gt.Md)(A,I)}},functions:{label:"Functions",path:b.Z6.SITES_FUNCTIONS_ALL,isVisible:St},"edge-functions":{label:"Edge Functions",path:b.Z6.EDGE_FUNCTIONS_BASE,isVisible:St},integrations:{label:"Integrations",path:b.Z6.SITES_INTEGRATIONS,isVisible:(0,gt.Vc)("sites","u"),isActive:g=>g===b.Z6.SITES_IDENTITY_DETAIL},forms:{label:"Forms",path:b.Z6.SITES_FORMS_ALL,isVisible:St},"large-media":{label:"Large Media",path:b.Z6.SITES_LARGE_MEDIA,isVisible:St},splits:{label:"Split Testing",path:b.Z6.SITES_SPLIT_TESTING,isVisible:St},analytics:{label:"Analytics",path:b.Z6.SITES_ANALYTICS,isVisible:St,isActive:g=>g.startsWith(b.Z6.SITES_ANALYTICS)},settings:{label:"Site settings",path:b.Z6.SITES_SETTINGS_BASE,isVisible:St,isActive:g=>g===b.Z6.SITES_SETTINGS_DOMAIN_SETUP}},teams:{overview:{label:"Team overview",path:b.Z6.TEAM_OVERVIEW,isVisible:g=>{let{account:A}=g;return(0,gt.Vc)("accounts","r")({account:A})}},sites:{label:"Sites",path:b.Z6.TEAM_SITES,isVisible:(0,gt.Vc)("sites","u")},builds:{label:"Builds",path:b.Z6.TEAM_BUILDS,isVisible:g=>{let{account:A}=g;return(0,gt.Yz)(A)}},integrations:{label:"Integrations",path:b.Z6.TEAM_INTEGRATIONS,isVisible:(0,gt.Vc)("sites","u")},connect:{label:O.OJ,path:b.Z6.TEAM_CONNECT,isVisible:g=>{let{account:A}=g;return(0,gt.f1)(A)}},dns:{label:"Domains",path:b.Z6.TEAM_DNS_BASE,isVisible:(0,gt.Vc)("sites","u")},members:{label:"Members",path:b.Z6.TEAM_MEMBERS,isVisible:(0,gt.Vc)("members","r"),isActive:g=>g===b.Z6.TEAM_CONTRIBUTORS||g===b.Z6.TEAM_REVIEWERS},deploys:{label:"Deploys",path:b.Z6.TEAM_DEPLOYS,isVisible:g=>{let{account:A}=g;return(0,gt.zv)(A)}},log:{label:"Audit log",path:b.Z6.TEAM_LOG,isVisible:g=>{let{account:A}=g;return(0,gt.Vc)("accounts","r")&&(A==null?void 0:A.getIn(["user_capabilities","sites","c"]))}},billing:{label:"Billing",path:b.Z6.TEAM_BILLING_BASE,isVisible:(0,gt.Vc)("billing","r")},settings:{label:"Team settings",path:b.Z6.TEAM_SETTINGS_BASE,isVisible:g=>{let{account:A}=g;return A&&(A.getIn(["user_capabilities","accounts","r"])||A.getIn(["user_capabilities","billing","r"]))&&!(0,gt.F0)(A)}}},user:{applications:{label:"Applications",path:b.Z6.USER_APPLICATIONS,isVisible:Pn},security:{label:"Security",path:b.Z6.USER_SECURITY,isVisible:Pn}}});function Hn(g){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location.pathname;const{account:I,site:X,params:w}=g,J=(0,Q.fR)(A,w),st=Dn.getIn(J.slice(0,2));return((st==null?void 0:st.get("isVisible"))||$n)({account:I,site:X})}function Xn(g){let{location:A,params:I}=g;const X=(0,Q.fR)(A.pathname)[0],w=Dn.get(X);return w==null?void 0:w.map(J=>J.get("path").startsWith("http")?J:J.set("path",(0,Q.Gn)(J.get("path"),I)))}function Yn(g){var A;return(A=g[g.length-1])==null?void 0:A.back}function Jn(g){let{routes:A,location:I,params:X,navigation:w}=g;const{pathname:J,search:st}=I,rt=(0,Q.fR)(J,X)[1],lt=Yn(A)&&(w==null?void 0:w.get(rt));return lt&&[b.Z6.TEAM_PLUGINS].some(Dt=>(0,Q.LX)(Dt,lt.get("path")))?lt:lt&&lt.set("path",`/${(0,Q.Kn)(J).slice(0,-1).join("/")}${st}`)}function sn(){if(!(0,Pt.St)("tracking_session_id")){const g=(0,e.Z)();(0,Pt.D9)("tracking_session_id",g)}}function mn(){(0,Pt.St)("tracking_session_id")&&(0,Pt.lD)("tracking_session_id")}function Qn(g){Xt=window._sift=window._sift||[],Xt.push(["_setAccount",q.default.siftBeaconKey]),Xt.push(["_setSessionId",g]),Xt.push(["_setUserId",""]),Xt.push(["_trackPageview"]);const A=document.createElement("script");A.src="https://cdn.sift.com/s.js",document.body.prepend(A)}const wn=g=>{const{isAuthViewReady:A,account:I,accounts:X,api:w,children:J,excludeAppNav:st=!1,excludeSecondaryNav:rt=!1,loadNotifications:lt,loadSitesNavList:Dt,onDragEnter:Mt,onDragLeave:yt,onDragOver:ht,onDrop:Ot,onLoad:zt,redirect:It,user:V,userId:mt,params:Ct,routePath:ct,onChangeRoutePath:Vt,showGuidedOnboarding:ft,currentProviderSecureDecision:kt,onCancelDeploy:Gt,site:Kt,sitesNavList:an,location:xt}=g,{isLoadingApp:Jt}=(0,Wt.bn)(),[Ft,jt]=(0,a.useState)(!0),[rn,Nt]=(0,a.useState)(!1),[qt,ln]=(0,a.useState)(null),[cn,Zt]=(0,a.useState)(null),[fn,ne]=(0,a.useState)(kt),[pn,Mn]=(0,a.useState)(!1),[ee,On]=(0,a.useState)(!1),[oe,Ln]=(0,a.useState)(!1),Tn=I?Number(I.getIn(["support_level"])):0,se=V?V.get("email"):null,ae=I?I.getIn(["support_priority"]):0,un=I==null?void 0:I.get("slug"),An=(0,Qt.Z)(mt),dn=(0,Fn.I)(),{themePreference:ie,setThemePreference:re}=(0,Ht.Fg)(),[Rt,tn]=(0,a.useState)(!1),hn=(0,a.useRef)(null),In=(0,a.useRef)(null),Cn=G=>Vn({isMobileNavOpen:Rt,setIsMobileNavOpen:tn,event:G,secondaryNav:In.current,mobileNavButton:hn.current}),Rn=(0,$.P)("project_bonsly_ui"),le=(0,$.P)("project_golduck_ui"),ce=()=>{rn||(Nt(!0),zt({siteName:Ct.name}).then(G=>{Nt(!1),!G&&jt(!1)}).catch(G=>{Nt(!1),ln(G),jt(!1)}).finally(()=>{requestIdleCallback(()=>{Array.isArray(window._asyncScriptsWaitingLoad)&&(window._asyncScriptsWaitingLoad.map(G=>G()),window._asyncScriptsWaitingLoad=[])},{timeout:2e3})}))},Sn=()=>{const G=window.location.hash;G&&G!==cn&&Zt((0,yn.dP)(G)&&G)},ue=()=>{window.addEventListener("hashchange",Sn,!1),document.addEventListener("dragenter",Mt,!1),document.addEventListener("dragleave",yt,!1),document.addEventListener("dragover",ht,!1),document.addEventListener("drop",Ot,!1)},de=()=>{window.removeEventListener("hashchange",Sn),document.removeEventListener("dragenter",Mt),document.removeEventListener("dragleave",yt),document.removeEventListener("dragover",ht),document.removeEventListener("drop",Ot)};(0,ut.Z)(()=>{lt(g)},Gn),(0,a.useEffect)(()=>{An!==mt&&ce()},[mt,An]),(0,a.useEffect)(()=>{vn!==ct&&(vn=ct,Yt=(0,on.ao)({routePath:ct}),Yt.whenDataFullyLoaded({timeout:15e3,whenDFLCallback:G=>{let{viewDFLTimedOut:_t}=G;Yt.markDataFullyLoaded({viewDFLTimedOut:_t})}})),!Ft&&!Jt&&Yt&&Yt.markInitialRender()},[Ft,Jt,ct]),(0,a.useEffect)(()=>{!I||!V||((0,on.AC)({id:V.get("id")||"",email:V.get("email"),accountId:I.get("id"),plan:I.get("type_slug")}),(0,on._z)("buildUTCTime",1687282667648))},[I,V]);const En=Kt==null?void 0:Kt.get("name");(0,a.useEffect)(()=>{!un||!En||Dt(un,En)},[un,En,Dt]),(0,a.useEffect)(()=>{V&&!A&&jt(!0),A&&(jt(!1),en.Z.setContext("sites",[],async(G,_t)=>{const{data:pt}=await w.sites({searchTerm:G,page:_t});return pt.map(Ut=>(0,Bn.rm)(Ut))}))},[V,A,w]),(0,a.useEffect)(()=>{xt.search.includes("request_hp_edge=true")?On(!0):xt.search.includes("request_background_functions=true")&&Ln(!0)},[xt.search]),(0,a.useEffect)(()=>{var G;V!=null&&V.get("id")&&(I!=null&&I.get("slug"))&&en.Z.launch({accountSlug:(G=I.get("slug"))!=null?G:"",dispatch:dn,setThemePreference:re,themePreference:ie,user:V})},[V==null?void 0:V.get("id"),I==null?void 0:I.get("slug")]),(0,a.useEffect)(()=>(ue(),sn(),Qn((0,Pt.St)("tracking_session_id")),(0,Pt.St)("team_upgrade_flow")||(0,Pt.D9)("team_upgrade_flow",JSON.stringify({})),()=>{de(),mn()}),[]),(0,a.useEffect)(()=>{if(It)return m.mW.replace(It)},[It]),(0,a.useEffect)(()=>{const G=m.mW.listen(()=>{tn(!1)}),_t=(0,nn.X)("lg",pt=>{pt&&tn(!1)});return()=>{_t(),G()}},[]),(0,a.useEffect)(()=>m.mW.listenBefore(_t=>{let{pathname:pt,search:Ut,hash:$t}=_t,Bt=pt||"";if(Bt.length>1&&Bt.endsWith("/")&&(Bt=Bt.slice(0,-1)),b.mS.includes(Bt)||b.Vi.some(Lt=>Lt(Bt))){jt(!0);const Lt=new URL(pt,window.location.origin);Lt.search=Ut,Lt.hash=$t,console.log("direct navigation to a token managing route. triggering full page nav",Lt.toString()),window.location.href===Lt.toString()?window.location.reload():(window.location.href=Lt.toString(),setTimeout(()=>{window.location.reload()},50))}}),[]),(0,a.useEffect)(()=>{Vt(ct),(0,Pt.D9)("routePath",ct)},[Vt,ct]),(0,a.useEffect)(()=>{A&&fn&&g.setPaymentProviderSecureDecisionState(!0)},[A,fn]),(0,a.useEffect)(()=>{const G=(0,Pt.le)("drop-token"),_t=(0,Pt.le)("dropUploadInterrupted"),pt=(0,Pt.le)("dropDeployId"),Ut=(0,Pt.le)("dropSiteName");_t&&pt?(Gt(Ut,pt),(0,l.Tu)()):A&&G&&Ut&&dn((0,l.ag)())},[Gt,A,dn]);const Un=g.router;(0,a.useEffect)(()=>{var G;window!=null&&window.drift&&Rn&&(0,Kn.z$)(I)&&((G=window==null?void 0:window.drift)==null||G.load(gn.k))},[Rn,I,window.drift]),(0,a.useEffect)(()=>{window.drift&&Un.location.search.includes("supportChat=true")&&window.drift.on("ready",G=>{G.startInteraction({interactionId:gn.x})})},[Un,window.drift]);const Ee=()=>{const G=ct===b.Z6.TEAM_OVERVIEW,_t=ct===b.Z6.DROP_BASE||ct.startsWith(b.Z6.DROP_DETAIL),pt=ft&&G,Ut="before:tw-bg-gray-lighter dark:before:tw-bg-gray-darkest before:tw-h-[660px] md:before:tw-h-[560px] lg:before:tw-h-[460px]",$t=ct===b.Z6.USER_LABS,Bt=p()("dark:hover:tw-text-white focus:tw-text-teal-darkest hover:tw-bg-teal-lightest hover:tw-text-teal-darkest tw-w-full lg:tw-w-4 lg:tw-h-4",$t?"dark:tw-text-white":"dark:tw-text-gray-light",$t?"dark:tw-bg-gray-dark":"dark:tw-bg-transparent",$t?"tw-bg-gray-lighter":"tw-bg-transparent",$t?"tw-text-black":"tw-text-gray-darker"),Lt=V?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,o.jsx)(jn.Z,{level:"tertiary",to:b.Z6.USER_LABS,onClick:()=>{M.iND.appPrimaryNavLabsClicked({currentPage:ct,accountId:(I==null?void 0:I.get("id"))||"",accountType:(I==null?void 0:I.get("type_name"))||""})},className:Bt,children:(0,o.jsx)(Zn.C,{height:24,name:"labs",title:"Netlify Labs",width:24,className:"tw-align-bottom"})})}),(0,o.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,o.jsx)(bn.Z,{items:g.notifications,lastReadAt:g.lastNotificationReadAt,onRead:g.onReadNotifications,onClick:g.onClickNotification,align:"right"})}),(0,o.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,o.jsx)(N.Z,{account:I,align:"right",level:Tn,onClickUpgrade:()=>Mn(!0),supportPriority:ae,userEmail:se})}),pn&&(0,o.jsx)(k.Z,{supportLevel:Tn,show:pn,onHide:()=>Mn(!1),user:V,account:I,accounts:X})]}):(0,o.jsx)(v.V,{});return A&&kt!==!0&&le&&setTimeout(()=>Promise.resolve(ne(!0))),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tt,{}),(0,o.jsx)(bt.Z,{account:I,user:V}),(0,o.jsx)(At.Z,{}),(0,o.jsx)(it.Z,{account:I,user:V}),(0,o.jsx)(Et.Z,{channel:"UserChannel",listener:xn.Qm}),(0,o.jsxs)("div",{"data-no-secondary-nav":st||rt?"true":void 0,className:"app tw-relative tw-h-full tw-w-full"+(_t?" page-drop__wrapper":""),children:[(0,o.jsx)(x.Z,{}),!st&&(0,o.jsx)(y.Z,{user:V,isDrop:_t,isMobileNavOpen:rt?!1:Rt,notifications:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.Z,{...g}),(0,o.jsx)(Z.Z,{account:I})]}),mobileMenu:!V||rt?null:(0,o.jsx)(C.S2,{ref:hn,isSecondaryNavOpen:Rt,onClick:()=>tn(ge=>!ge),onKeyDown:Cn}),appSwitcher:(0,o.jsx)(_n.Z,{organization:g.organization,organizations:g.organizations,account:I,accounts:g.accounts,site:Kt,sites:an,isDrop:_t,user:V}),actions:Lt,logo:(0,o.jsx)(_n.g,{isDrop:_t,isPublic:Kt==null?void 0:Kt.get("public"),account:I}),commandPalette:V&&(0,o.jsx)(K.Z,{onClick:()=>{M.iND.appPrimaryNavCommandPaletteClicked({currentPage:ct,variant:"fauxinputty"}),en.Z.open()}}),userDropdown:(0,o.jsx)(z.Z,{user:V,onLogout:g.onLogout,className:"tw-h-[36px] tw-w-[36px]"})}),(0,o.jsxs)("div",{className:"tw-relative tw-flex tw-min-h-full",children:[!st&&!rt&&(0,o.jsx)("div",{className:'tw-min-w-0 lg:tw-w-1/4 lg:tw-max-w-[360px] [[data-page="not-found"]_&]:tw-hidden '+(Rt?"tw-w-full":"lg:tw--mt-[var(--headerHeight)]"),children:(0,o.jsx)("div",{className:"tw-sticky tw-inset-x-0 tw-top-0 lg:tw-min-h-screen "+(Rt?"tw-min-h-full":"tw-hidden tw-pt-[var(--headerHeight)] lg:tw-flex"),children:(0,o.jsx)("div",{className:"tw-sticky tw-top-0 tw-bottom-0 tw-w-full tw-border-gray-light dark:tw-border-gray-dark lg:tw-border-r lg:tw-border-r-solid "+(Rt?"tw-h-full":"lg:tw-h-[calc(100vh-var(--headerHeight))] lg:tw-overflow-y-auto"),children:(0,o.jsxs)("div",{className:"tw-columns tw-flex tw-h-full tw-w-full tw-flex-col tw-break-words tw-p-1",children:[(0,o.jsx)(C.aJ,{ref:In,className:"tw-pb-1",actions:Lt,navigation:g.navigation,router:g.router,backTo:g.backTo,routePath:ct,account:I,onKeyDown:Rt?Cn:void 0}),(0,o.jsx)("div",{className:"tw-sticky tw-bottom-3 tw-left-0 tw-mt-auto tw-hidden tw-bg-bgApp tw-px-2 lg:tw-block",children:!Rt&&(0,o.jsx)(at.Y,{account:I})})]})})})}),(0,o.jsx)("div",{className:"tw-w-full"+(Rt?" tw-hidden":""),children:(0,o.jsxs)("div",{className:"tw-relative tw-mx-auto tw-grid tw-min-h-full tw-grid-cols-1",children:[(0,o.jsxs)("main",{id:"main",className:p()("app-main",pt&&Ut),tabIndex:-1,children:[(0,o.jsx)(Nn.Z,{}),(0,o.jsx)(j.Z,{account:I}),qt?(0,o.jsx)(wt.Z,{error:qt}):J]}),!st&&(0,o.jsx)(W.Z,{})]})})]})]}),(0,o.jsx)(vt,{router:g.router,account:I}),I&&X&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(U.Z,{show:ee,currentAccount:I,hideTaskModal:()=>On(!1)}),(0,o.jsx)(R.Z,{show:oe,account:I,accounts:X,onHide:()=>Ln(!1)})]})]})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(zn.Z,{show:(Jt||Ft)&&!A}),!Ft&&!It&&(0,o.jsx)(et.Z,{isAuthViewReady:A,children:Ee()})]})},kn=(g,A)=>{let{params:I,routes:X,location:w,children:J}=A;var st,rt,lt,Dt,Mt,yt,ht,Ot;const{name:zt,account_slug:It,organization_slug:V}=I,mt=(0,S.lH)(g,zt),Ct=(0,P.HF)(g),ct=(0,s.L3)(g),Vt=It||mt&&mt.get("account_slug"),ft=Vt&&(0,s.bk)(g,Vt)||(0,s.uW)(g),kt=(0,_.Jh)(g,Vt);!I.account_slug&&(ft!=null&&ft.get("slug"))&&!I.name&&(I.account_slug=ft.get("slug"));const Gt=V?null:(0,r.Hh)(g),Kt=ft==null?void 0:ft.get("organization_id"),an=V?(0,r.mT)(g,V):Gt==null?void 0:Gt.find(Zt=>Zt.get("id")===Kt),xt=Xn({location:w,params:I}),Jt=X.map(Zt=>Zt.path).filter(Boolean).pop();let Ft=(rt=(st=[...X])==null?void 0:st.pop())==null?void 0:rt.excludeAppNav;const jt=(Dt=(lt=[...X])==null?void 0:lt.pop())==null?void 0:Dt.excludeSecondaryNav;if(!((Mt=J==null?void 0:J.props)!=null&&Mt.route))throw new Error("Children of <App> must be a route");(Ot=(ht=(yt=J==null?void 0:J.props)==null?void 0:yt.route)==null?void 0:ht.component)!=null&&Ot.excludeAppNav&&!(Ct!=null&&Ct.get("id"))&&(Ft=!0);const rn=!!Ct&&!!ft,Nt=w.pathname==="/"&&ft&&(0,Q.l_)(ft),qt=Nt&&w.search?`${Nt}${w.search}`:Nt,ln=(0,_.jS)(g),cn=(0,T.xm)(g);return{isAuthViewReady:rn,user:Ct,site:mt,sitesNavList:kt,params:I,account:ft,accounts:ct,api:(0,i.ac)(g),organization:an,organizations:Gt,navigation:xt==null?void 0:xt.filter(Zt=>Zt.get("isVisible")({account:ft,site:mt})),redirect:qt,backTo:Jn({routes:X,location:w,params:I,navigation:xt}),userId:Ct&&Ct.get("id")||null,notifications:(0,u._6)(g),lastNotificationReadAt:(0,u.P$)(g),excludeAppNav:Ft,excludeSecondaryNav:jt,routePath:Jt,showGuidedOnboarding:ln,currentProviderSecureDecision:cn}},qn=g=>({setA11yMessage:function(){return g((0,_.FY)(...arguments))},onLoad:A=>{let{siteName:I}=A;return g((0,P.$D)()).then(X=>(I&&g((0,S.EQ)(I)),X&&(g((0,r.Wu)()),g((0,s.vP)()),g((0,u.oA)()),sn()),X)).catch(X=>X.code===401?g((0,P.Ov)(window.location.pathname)):Promise.reject(X))},loadNotifications:A=>{let{user:I}=A;return I&&g((0,u.oA)())},loadSitesNavList:(A,I)=>g((0,_.Gh)(A,I)),onReadNotifications:A=>g((0,u.A7)(A)),onClickNotification:A=>g((0,u.y9)(A)),onLogout:A=>{g((0,P.TX)(A)),mn(),sn()},onDragEnter:A=>{g((0,l.f$)())},onDragLeave:A=>{(A.clientX<=0||A.clientY<=0||A.clientX>window.innerWidth||A.clientY>window.innerHeight)&&g((0,l.Xs)())},onDragOver:A=>{A.preventDefault()},onDrop:A=>{A.preventDefault(),g((0,l.Xs)())},trackUpgrade:(A,I)=>{g((0,D.L9)({event:A,...I}))},onCancelDeploy:(A,I)=>{g((0,n.li)((0,f.Map)({name:A}),(0,f.Map)({id:I})))},onChangeRoutePath:A=>{g((0,_.Qf)(A))},setPaymentProviderSecureDecisionState:A=>g((0,T.ot)(A))}),te=(0,h.oS)({sdkKey:"dvc_client_7b35e45b_dd67_444b_b114_46804faa770d_ab0f202",options:{apiProxyURL:"https://featureflags.netlify.com",deferInitialization:!0}})((0,c.qC)((0,E.$j)(kn,qn))(wn))},9251:(Y,B,t)=>{t.d(B,{Z:()=>K});var o=t(24246),L=t(90046),h=t(27378),d=t(80715),p=t(941),f=t(84673),a=t(34571),E=t(44601),m=t(97736),c=t(46822),e=t(32587);const s=v=>{const C=[/Failed during stage/i,/Failing build/i,/Build exited unexpectedly/i,/Build exceeded (maximum allowed runtime|memory limits)/i];for(const x of C)if(x.test(v))return"fail"};function i(v){return{log:"Deploy skipped",ts:v.get("created_at")}}function P(v){return{log:"[WARNING] We are experiencing internal issues storing deploy logs. Some log lines may be missing.",ts:v.get("created_at")}}function T(v){return{log:"Deploy request is pending review",ts:v.get("created_at")}}function n(v){return{log:"Deploy request was rejected",ts:v.get("updated_at")}}function l(){return{log:"[ERROR] Deploy logs are currently unavailable. We are working on resolving the issue.",ts:new Date}}function u(v){return{log:v.get("state")==="new"?"Queueing build":"There is no log for this deploy",ts:new Date().toString()}}function r(v){return v&&!!v.get("skipped")}function S(v){return v&&!!v.get("skipped_log")}function D(v){return v&&v.get("state")==="pending_review"}function _(v){return v&&v.get("state")==="ready"}function M(v){return v&&v.get("state")==="rejected"}function O(v){return v&&v.get("state")==="error"}function R(v){const C=(0,m.f3)(v),x=v.log||v.msg||"",z=/(Failed during stage 'building site': Build script returned non-zero|Command failed with) exit code:? ([\d]+)/i;if(x.match(z)){const[,,j]=x.match(z);return`${C} (https://ntl.fyi/exit-code-${j})`}return C}function U(v){const{deploy:C,children:x,onDone:z,overview:j,onLoadDeployPluginRuns:F}=v,[Z,N]=(0,h.useState)(!1),[k,at]=(0,h.useState)(null),q=(0,h.useRef)(!1),H=(0,h.useRef)(null),nt=(0,h.useRef)(null),tt=(0,h.useRef)(null),ot=(0,h.useRef)(null),Q=C==null?void 0:C.get("id"),dt=C?D(C):!1,Tt=C?O(C):!1;(0,h.useEffect)(()=>{_(C)&&N(!0)},[C]),(0,h.useEffect)(()=>{if(!(!Q||j))return Et(C),()=>{q.current=!0,it()}},[Q,dt,j]),(0,h.useEffect)(()=>{Z&&z(v)},[Z]);const vt=$=>{if(!$)return;if(r($))return et(i($));if(M($))return et(n($));if(D($))return et(T($));S($)&&et(P($),!1);const ut={type:"socketeer",siteId:$.get("site_id"),deployId:$.get("id"),resource:e.Z.BUILD};if(H.current=(0,c.u)(ut),!H.current)return et(u($));H.current.listen(At,bt),nt.current=setInterval(Wt,1e3)},it=()=>{nt.current&&clearInterval(nt.current),H.current&&H.current.close()},Et=$=>{it(),vt($)},et=function($){let ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;q.current||(tt.current=(tt.current||(0,L.List)()).push($),ut&&Wt())},At=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(C);const ut=$.log,Qt=$.ts||$.time;if($.section){const wt=s(ut);et({...$,...wt&&{status:wt}},!1)}else et($,!1);/site is live|error deploying site|finished processing build request|canceling deploy|command was cancelled|Command did not finish within the time limit/i.test(ut)?Ht():/Fetching cached dependencies/.test(ut)?ot.current=Qt:/Starting post processing/.test(ut)?nn(ot.current,Qt):(/onSuccess complete/.test(ut)||/In "onSuccess" event in "@netlify\/plugin-lighthouse"/.test(ut))&&(F==null||F(C==null?void 0:C.get("id")))},bt=$=>{et(l()),it()},Wt=()=>{!q.current&&at(tt.current)},Ht=()=>{q.current||N(!0)},nn=($,ut)=>$&&ut&&v.onBuildDone(C,$,ut);return x?(0,h.cloneElement)(x,{...v,log:k}):(0,o.jsx)(E.Z,{...v,log:k,streaming:!Z,formatLogEntry:Tt?R:m.f3,deployIsDone:Z})}function W(v,C){let{deploy:x,site:z,overview:j}=C;return{deploy:j?(0,f.dk)(v,z):x,fetchLog:function(){return(0,p.ac)(v).deployLog(...arguments)}}}function y(v){return{onDone:C=>{let{deploy:x,site:z,onLoadDeployPluginRuns:j}=C;x&&v((0,f.N2)(x.get("id"))),z&&v((0,a.EQ)(z.get("name"))),j&&j(x==null?void 0:x.get("id"))},onBuildDone:(C,x,z)=>{v((0,f.E)(C,x,z))}}}const K=(0,d.$j)(W,y)(U)},43346:(Y,B,t)=>{t.d(B,{Z:()=>a});var o=t(24246),L=t(80715),h=t(34571),d=t(80642);const p=E=>{let{dragging:m,uploading:c,intro:e,image:s,site:i,accountSlug:P,dispatch:T,trackEvent:n,scrollIntoView:l=!0,createdVia:u=""}=E;const r=S=>(n&&n(),(i?()=>Promise.resolve(i):()=>T((0,h.UJ)(P,u)))().then(_=>T((0,h.mV)(_,S))));return(0,o.jsx)(d.Z,{scrollIntoView:l,onUpload:r,dragging:m,uploading:c,image:s,intro:e})};function f(E,m){return{dragging:E.dragging&&E.dragging.get("active"),uploading:!!E.uploadState}}const a=(0,L.$j)(f)(p)},87061:(Y,B,t)=>{t.d(B,{Z:()=>f});var o=t(24246),L=t(27378),h=t(17079),d=t(7311);const f=a=>{const{site:E}=a,{setIsLoadingApp:m}=(0,d.bn)();return(0,L.useEffect)(()=>{m(!1)},[m]),(0,o.jsx)(h.Z,{...a,usesEdgeFunctions:E.get("use_edge_functions")})}},35074:(Y,B,t)=>{t.d(B,{Z:()=>m});var o=t(24246),L=t(27378),h=t(80715),d=t(57240),p=t(43543);const f=c=>((0,L.useEffect)(()=>{c.onLoad(c)},[]),(0,o.jsx)(p.Z,{...c})),a=(c,e)=>{let{site:s}=e;return{services:(0,d.M2)(c,s)}},E=c=>({onLoad:e=>{let{site:s}=e;return c((0,d.k4)(s))}}),m=(0,h.$j)(a,E)(f)},84467:(Y,B,t)=>{t.d(B,{Z:()=>U});var o=t(24246),L=t(90046),h=t.n(L),d=t(19783),p=t.n(d),f=t(27378),a=t(62021),E=t(96666),m=t(7442),c=t(10295),e=t(3926),s=t(32365),i=t(97736),P=t(46822),T=t(32587),n=t(55492),l=t(34567);function u(W){const y=W==null?void 0:W.get("level");return y!=="WARN"&&y!=="ERROR"?"":"tw-border tw-border-r-0 tw-border-l-0 tw-border-solid "+(y==="WARN"?"tw-border-gold-darker tw-bg-gold-darkest":"tw-border-red-darker tw-bg-red-darkest")}const r=200,S="md:tw-mt-0 tw-ml-0 tw-mt-0 tw-mb-2 tw-w-full xl:tw-mb-0 xl:tw-basis-1 xl:tw-grow xl:tw-mr-0",D=()=>c.Z.getInitialDateRange(),_=W=>{const[y,K]=(0,f.useState)((0,L.List)()),v=(0,f.useRef)((0,L.List)()),C=(0,f.useRef)(null),{dateTimeRange:x,streaming:z}=W,j=(0,f.useCallback)(p()(()=>{K(v.current)},r,{leading:!0}),[]);return(0,f.useEffect)(()=>{var F;const Z=()=>{var k,at;if(C.current)return;const{site:q,func:H,user:nt,log_type:tt}=W,ot=q.get("id"),Q=H.get("n"),dt=(0,e.XF)(H).replace(/\./g,"-"),Tt=`/functions/${ot}/${dt}/${Q}/log`;C.current=(0,P.u)({type:tt||"socketeer",resource:T.Z.FUNCTION,functionId:H.get("oid")||H.get("id"),siteId:ot,apiToken:nt.get("access_token"),awsAccountId:H.get("a"),path:Tt,fromDatetime:(k=x.from)==null?void 0:k.toISOString(),toDatetime:(at=x.to)==null?void 0:at.toISOString()}),C.current.listen(vt=>{vt&&(v.current=(0,L.fromJS)([...v.current,vt]),j())},vt=>{v.current=(0,L.fromJS)([...v.current,{ts:new Date,log:"[ERROR] Function logs are currently unavailable. We are working on resolving the issue."}]),j()})},N=()=>{C.current&&(C.current.close(),C.current=null)};if((F=v.current)!=null&&F.size&&(v.current=(0,L.List)(),K(v.current)),!z){N();return}return Z(),()=>{N()}},[z,x.to,x.from]),{logs:y,streaming:W.streaming,source:"stream"}},M=W=>{let{site:y,scope:K,filtersValue:v,func:C,dateTimeRange:x,streaming:z,...j}=W;var F,Z;const N=y==null?void 0:y.get("id"),k=C==null?void 0:C.get("n"),at=(0,n.I)(),q=(F=x.from)==null?void 0:F.getTime(),H=(Z=x.to)==null?void 0:Z.getTime(),nt=(0,n.v)(it=>{const Et=(0,E.x0)(it,y,K);return Et==null?void 0:Et.get("branch")}),tt=(0,n.v)(it=>(0,a.ZF)(it,N,k,{branch:nt,q:v.term,from:q,to:H})||null),ot=(0,n.v)(it=>(0,a.rm)(it,N,k,{branch:nt,q:v.term,from:q,to:H})||(0,L.List)()),Q=(0,n.v)(it=>(0,a.lf)(it,N,k,{branch:nt,q:v.term,from:q,to:H})),dt=(0,f.useRef)(new Set),Tt=!!(ot!=null&&ot.size)&&!tt,vt=async()=>{const it=`${tt||"initial"}-${v.term}-${q}-${H}-${nt}`;dt.current.has(it)||(dt.current.add(it),await at((0,a.X4)(N,k,{from:new Date(q).getTime(),to:new Date(H).getTime(),q:v.term,next_cursor:tt,branch:nt})))};return(0,f.useEffect)(()=>{z||vt()},[z,v.term,q,H]),{logs:ot,lastPage:Tt,fetchMoreLogs:vt,streaming:!1,fetching:Q,source:"page"}},O=W=>{const y=_(W),K=M(W);return!W.streaming?K:y},U=W=>{var y;const{c:K}=((y=W.func)==null?void 0:y.toJS())||{},v=K&&new Date(K),[C,x]=(0,f.useState)({term:""}),[z,j]=(0,f.useState)(D()),[F,Z]=(0,f.useState)(!0),N=W.account.get("id")||"",{fetching:k,streaming:at,logs:q,lastPage:H,fetchMoreLogs:nt,source:tt}=O({...W,streaming:F,dateTimeRange:z,filtersValue:C}),ot=(0,f.useMemo)(()=>i.E1,[]),Q=(0,f.useMemo)(()=>i.Zh,[]);(0,f.useEffect)(()=>{x(et=>({...et,dateTimeRange:z}))},[z]);const dt=et=>{x(At=>({...At,term:et}))},Tt=(et,At)=>{const Wt=(et==null?void 0:et.get("type"))==="report"&&(et==null?void 0:et.get("level"))==="INFO"?et.set("level",""):et;return["log","requestId","level"].map(Ht=>Wt==null?void 0:Wt.get(Ht)).filter(Boolean).join(" ").toLowerCase().includes(At.term.toLowerCase())},vt=et=>{let{range:At,id:bt}=et;Z(bt==="Real-time"),j(At)},it=tt==="stream"||tt==="page"&&k?"Waiting for logs":"No results found for query",Et="lambda";return(0,o.jsx)(s.Z,{datepicker:(0,o.jsx)(c.Z,{account:W.account,lastDeploy:v,isUnsupportedBackgroundFunction:(0,e.Oj)(W.func),onChange:vt,functionsType:Et}),log:q.isEmpty()?null:q,fetching:k,streaming:at,fixedHeight:!0,noWrap:!0,emptyLogMessage:it,title:"Function log",formatLogEntry:ot,getLogLineClasses:u,scrollPause:!0,filters:C,lastPage:H,filterFn:tt==="stream"?Tt:null,loadMoreLogs:nt,search:(0,o.jsx)("div",{className:S,children:(0,o.jsx)(l.Z,{placeholder:"Filter by request ID, message, log level",value:C.term,onSearch:dt,onFocus:()=>m.iND.appFunctionLogsTextFilterFocused({accountId:N,functionsType:Et})})}),source:tt,formatForClipboard:Q,onCopyToClipboard:()=>m.iND.appFunctionLogsCopyClicked({accountId:N,functionsType:Et}),onPlayPause:()=>m.iND.appFunctionLogsPauseClicked({accountId:N,functionsType:Et}),onScrollToBottom:()=>m.iND.appFunctionLogsScrollBottomClicked({accountId:N,functionsType:Et}),onScrollToTop:()=>m.iND.appFunctionLogsScrollTopClicked({accountId:N,functionsType:Et})})}},60173:(Y,B,t)=>{t.d(B,{Z:()=>n});var o=t(24246),L=t(27378),h=t(80715),d=t(34740),p=t(91800),f=t(65628),a=t(71791),E=t(43256),m=t(34571),c=t(6692),e=t(88317);const s={[e.Lz.github_enterprise]:!0,[e.Lz.gitlab_self_hosted]:!0,[e.Lz.bitbucket_self_hosted]:!0},i=(l,u)=>{let{repo:r,onPrepareRepo:S,onMissingData:D,onError:_,loadMoreBranches:M,site:O,account:R,accounts:U,onSubmit:W,onApplyHeuristics:y,provider:K,outset:v,nameKey:C,template:x,trackChangeClick:z,form:j=c.Z,availablePlugins:F,availablePluginsError:Z,availablePluginsFetching:N,onLoadPlugins:k,skipPrepare:at=!1,gitUser:q,user:H,route:nt}=l;const tt=j,ot=r==null?void 0:r.getIn(["branchPagination","next"]),Q=r==null?void 0:r.get("error"),dt=r==null?void 0:r.get("id");return(0,L.useEffect)(()=>{!N&&!Z&&!(F!=null&&F.size)&&k()},[F,Z,N]),(0,L.useEffect)(()=>{if(!r){D("repo");return}at||S(r)},[dt]),(0,L.useEffect)(()=>{Q&&(_(Q),D("repo"))},[Q]),(0,L.useEffect)(()=>{K!==e.Lz.bitbucket&&ot&&M(r,ot)},[K,ot]),r?(0,o.jsx)(tt,{site:O,account:R,accounts:U,repo:r,onSubmit:W,outset:v,onApplyHeuristics:y,accountSpecificGitProvider:s[K],provider:K,nameKey:C,template:x,trackChangeClick:z,availablePlugins:F,availablePluginsError:Z,gitUser:q,user:H,route:nt}):null};function P(l,u){const{organization:r,name:S}=u.params,{repoFromURL:D}=u,_=u.params.repo||u.repo,M=r||"",O=M?`${M}/${_}`:_,R=(0,m.lH)(l,S),U=!R&&(0,p.L3)(l),W=U&&(0,p.uW)(l),y=decodeURIComponent(O),K=(0,a.f6)(l),v=(0,a.iQ)(l),C=(0,a.WF)(l);return{repo:(D==null?void 0:D.mergeDeep((0,E.Wo)(l,y)))||(0,E.Wo)(l,y),provider:(0,f.oI)(l),gitUser:(0,f.z8)(l),site:R,accounts:U,account:W,availablePlugins:K,availablePluginsError:v,availablePluginsFetching:C,user:l.user}}function T(l,u){const{site:r,provider:S,onError:D,onSubmit:_}=u;return{onLoadPlugins:()=>l((0,a.bl)()),onPrepareRepo:M=>l((0,E.vb)(M)),loadMoreBranches:(M,O)=>l((0,E.Qg)(M,O)),onApplyHeuristics:(M,O,R)=>l((0,E.I0)(M,O,{baseDir:R,provider:S})),onSubmit:(M,O)=>_?_(M,O):l((0,m.Er)(r,O,M.toJS(),"onboarding")).then(R=>{let{site:U}=R;return d.mW.push(`/sites/${U.name}`)}).catch(R=>D(R))}}const n=(0,h.$j)(P,T)(i)},8566:(Y,B,t)=>{t.d(B,{Z:()=>n});var o=t(24246),L=t(27378),h=t(80715),d=t(34740),p=t(91800),f=t(65628),a=t(71791),E=t(43256),m=t(34571),c=t(30440),e=t(88317);const s={[e.Lz.github_enterprise]:!0,[e.Lz.gitlab_self_hosted]:!0,[e.Lz.bitbucket_self_hosted]:!0},i=(l,u)=>{let{repo:r,onPrepareRepo:S,onMissingData:D,onError:_,loadMoreBranches:M,site:O,account:R,accounts:U,onSubmit:W,onApplyHeuristics:y,provider:K,outset:v,nameKey:C,template:x,trackChangeClick:z,form:j=c.Z,availablePlugins:F,availablePluginsError:Z,availablePluginsFetching:N,onLoadPlugins:k,skipPrepare:at=!1,gitUser:q,user:H,route:nt}=l;const tt=j,ot=r==null?void 0:r.getIn(["branchPagination","next"]),Q=r==null?void 0:r.get("error"),dt=r==null?void 0:r.get("id");return(0,L.useEffect)(()=>{!N&&!Z&&!(F!=null&&F.size)&&k()},[F,Z,N]),(0,L.useEffect)(()=>{if(!r){D("repo");return}at||S(r)},[dt]),(0,L.useEffect)(()=>{Q&&(_(Q),D("repo"))},[Q]),(0,L.useEffect)(()=>{K!==e.Lz.bitbucket&&ot&&M(r,ot)},[K,ot]),r?(0,o.jsx)(tt,{site:O,account:R,accounts:U,repo:r,onSubmit:W,outset:v,onApplyHeuristics:y,accountSpecificGitProvider:s[K],provider:K,nameKey:C,template:x,trackChangeClick:z,availablePlugins:F,availablePluginsError:Z,gitUser:q,user:H,route:nt}):null};function P(l,u){const{organization:r,name:S}=u.params,{repoFromURL:D}=u,_=u.params.repo||u.repo,M=r||"",O=M?`${M}/${_}`:_,R=(0,m.lH)(l,S),U=!R&&(0,p.L3)(l),W=U&&(0,p.uW)(l),y=decodeURIComponent(O),K=(0,a.f6)(l),v=(0,a.iQ)(l),C=(0,a.WF)(l);return{repo:(D==null?void 0:D.mergeDeep((0,E.Wo)(l,y)))||(0,E.Wo)(l,y),provider:(0,f.oI)(l),gitUser:(0,f.z8)(l),site:R,accounts:U,account:W,availablePlugins:K,availablePluginsError:v,availablePluginsFetching:C,user:l.user}}function T(l,u){const{site:r,provider:S,onError:D,onSubmit:_}=u;return{onLoadPlugins:()=>l((0,a.bl)()),onPrepareRepo:M=>l((0,E.vb)(M)),loadMoreBranches:(M,O)=>l((0,E.Qg)(M,O)),onApplyHeuristics:(M,O,R)=>l((0,E.I0)(M,O,{baseDir:R,provider:S})),onSubmit:(M,O)=>_?_(M,O):l((0,m.Er)(r,O,M.toJS(),"onboarding")).then(R=>{let{site:U,deploy:W}=R;return d.mW.push(`/sites/${U.name}/deploys/${W==null?void 0:W.id}`)}).catch(R=>D(R))}}const n=(0,h.$j)(P,T)(i)},51115:(Y,B,t)=>{t.d(B,{Z:()=>e});var o=t(24246),L=t(80715),h=t(91800),d=t(65628),p=t(7442),f=t(48503),a=t(88317);const E=s=>{const{entryPoint:i,user:P,account:T}=s,n={userId:(P==null?void 0:P.get("id"))||"",entryPoint:i||"from direct visit",accountId:(T==null?void 0:T.get("id"))||""},l=u=>{switch(u){case a.Lz.github:p.iND.appSignupSetupProviderGithubSelected(n);break;case a.Lz.gitlab:p.iND.appSignupSetupProviderGitlabSelected(n);break;case a.Lz.github_enterprise:p.iND.appSignupSetupProviderGithubEnterpriseSelected(n);break;case"gitlab_enterprise":p.iND.appSignupSetupProviderGitlabEnterpriseSelected(n);break;case a.Lz.bitbucket:p.iND.appSignupSetupProviderBitbucketSelected(n);break;case a.Lz.bitbucket_self_hosted:p.iND.appSignupSetupProviderBitbucketSelfHostedSelected(n);break;case a.Lz.azure_devops:p.iND.appSignupSetupProviderAzureDevopsSelected(n);break;default:break}};return(0,o.jsx)(f.Z,{...s,trackSelectProvider:l})};function m(s){return{account:s.account||(0,h.uW)(s),user:s.user}}function c(s){return{onAuthenticate:i=>s((0,d.YR)(i))}}const e=(0,L.$j)(m,c)(E)},75703:(Y,B,t)=>{t.d(B,{Z:()=>e});var o=t(24246),L=t(80715),h=t(91800),d=t(65628),p=t(7442),f=t(43559),a=t(88317);const E=s=>{const{entryPoint:i,user:P,account:T}=s,n={userId:(P==null?void 0:P.get("id"))||"",entryPoint:i||"from direct visit",accountId:(T==null?void 0:T.get("id"))||""},l=u=>{switch(u){case a.Lz.github:p.iND.appSignupSetupProviderGithubSelected(n);break;case a.Lz.gitlab:p.iND.appSignupSetupProviderGitlabSelected(n);break;case a.Lz.github_enterprise:p.iND.appSignupSetupProviderGithubEnterpriseSelected(n);break;case"gitlab_enterprise":p.iND.appSignupSetupProviderGitlabEnterpriseSelected(n);break;case a.Lz.bitbucket:p.iND.appSignupSetupProviderBitbucketSelected(n);break;case a.Lz.azure_devops:p.iND.appSignupSetupProviderAzureDevopsSelected(n);break;default:break}};return(0,o.jsx)(f.Z,{...s,trackSelectProvider:l})};function m(s){return{account:s.account||(0,h.uW)(s),user:s.user}}function c(s){return{onAuthenticate:i=>s((0,d.YR)(i))}}const e=(0,L.$j)(m,c)(E)},82197:(Y,B,t)=>{t.d(B,{Z:()=>P});var o=t(24246),L=t(27378),h=t(80715),d=t(34740),p=t(91800),f=t(65628),a=t(72253),E=t(43256),m=t(87382),c=t(88317);function e(T){const{provider:n,organization:l,page:u,per_page:r,installationId:S,onError:D,onMissingData:_,loadRepos:M,loadGitUser:O,loadGitOrganizations:R,path:U,setSearchTerm:W,onboarding:y=!1,hideGitUser:K}=T;(0,L.useEffect)(()=>{n?v():_("provider")},[]),(0,L.useEffect)(()=>{var j;n&&(K&&!l||(j=M({organization:l,page:u,per_page:r,installationId:S}))==null||j.catch(F=>{D(F,{restart:F.code===401})}))},[n,u,l,M]);const v=()=>{Promise.resolve(O()).then(()=>{K||M({organization:l,page:u,per_page:r,installationId:S}),R()})},C=j=>{let{login:F}=j;R(),F&&F!==l?d.mW.push(`${U}/${F}/repos`):M({organization:l,page:u,per_page:r,installationId:S})},x=()=>{var j;return(j=M({organization:l,page:u,per_page:r,installationId:S,page:1}))==null?void 0:j.catch(F=>{D(F,{restart:F.code===401})})},z=j=>W(j);return n?(0,o.jsx)(m.Z,{...T,onSearch:x,onTerm:z,onAppInstall:C,onboarding:y}):null}function s(T,n){var l,u,r;const{organization:S}=n.params,D=T.account||(0,p.uW)(T),_=(0,f.z8)(T),M=(0,a.wc)(T,S),O=(0,a.YX)(T),R=(0,f.oI)(T),U=c._w.getIn([R,"hideGitUserFromRepoList"]),W=S||U&&((l=O==null?void 0:O.first())==null?void 0:l.get("api_id")),y=M||_&&_.get("login")===S&&_,K=y&&y.get("installation_id");return{account:D,page:((r=(u=n==null?void 0:n.location)==null?void 0:u.query)==null?void 0:r.page)||1,provider:(0,f.oI)(T),installationId:K,gitUser:_,organization:W,organizations:O,hideGitUser:U,searchTerm:(0,f.Lb)(T),repos:(0,E.yW)(T,W),pagination:(0,E.B$)(T,W)}}function i(T){return{loadRepos:n=>T((0,E.vD)(n)),loadGitUser:()=>T((0,f.Kd)()),loadGitOrganizations:()=>T((0,a.hi)()),setSearchTerm:n=>T((0,f.Cl)(n))}}const P=(0,h.$j)(s,i)(e)},2157:(Y,B,t)=>{t.d(B,{Z:()=>T});var o=t(24246),L=t(27378),h=t(80715),d=t(34740),p=t(91800),f=t(65628),a=t(72253),E=t(43256),m=t(82011),c=t(45180),e=t(88317);function s(n){const{provider:l,organization:u,page:r,per_page:S,installationId:D,onError:_,onMissingData:M,loadRepos:O,loadGitUser:R,loadGitOrganizations:U,path:W,setSearchTerm:y,onboarding:K=!1,hideGitUser:v}=n,C=(0,c.P)("project_snorlax_ui");(0,L.useEffect)(()=>{l?x():M("provider")},[]),(0,L.useEffect)(()=>{l&&(v&&!u||O({organization:u,page:r,per_page:S,installationId:D}).catch(Z=>{_(Z,{restart:Z.code===401})}))},[l,r,u,O]);const x=()=>{Promise.resolve(R()).then(()=>{v||O({organization:u,page:r,per_page:S,installationId:D}),U()})},z=Z=>{let{login:N}=Z;U(),N&&N!==u?d.mW.push(`${W}/${N}/repos`):O({organization:u,page:r,per_page:S,installationId:D})},j=()=>O({organization:u,page:r,per_page:S,installationId:D,page:1}).catch(Z=>{_(Z,{restart:Z.code===401})}),F=Z=>y(Z);return l?(0,o.jsx)(m.Z,{...n,onSearch:j,onTerm:F,onAppInstall:z,onboarding:K,project_snorlax_ui:C}):null}function i(n,l){var u,r,S;const{organization:D}=l.params,_=n.account||(0,p.uW)(n),M=(0,f.z8)(n),O=(0,a.wc)(n,D),R=(0,a.YX)(n),U=(0,f.oI)(n),W=e._w.get(U),y=W==null?void 0:W.get("hideGitUserFromRepoList"),K=D||y&&((u=R==null?void 0:R.first())==null?void 0:u.get("api_id")),v=O||M&&M.get("login")===D&&M,C=v&&v.get("installation_id");return{account:_,page:((S=(r=l==null?void 0:l.location)==null?void 0:r.query)==null?void 0:S.page)||1,provider:(0,f.oI)(n),installationId:C,gitUser:M,organization:K,organizations:R,hideGitUser:y,searchTerm:(0,f.Lb)(n),repos:(0,E.yW)(n,K),pagination:(0,E.B$)(n,K)}}function P(n){return{loadRepos:l=>n((0,E.vD)(l)),loadGitUser:()=>n((0,f.Kd)()),loadGitOrganizations:()=>n((0,a.hi)()),setSearchTerm:l=>n((0,f.Cl)(l))}}const T=(0,h.$j)(i,P)(s)},38098:(Y,B,t)=>{t.d(B,{Z:()=>u});var o=t(24246),L=t(90046),h=t.n(L),d=t(27378),p=t(80715),f=t(34740),a=t(91800),E=t(65628),m=t(71791),c=t(43256),e=t(34571),s=t(6692),i=t(88317);const P={[i.Lz.github_enterprise]:!0,[i.Lz.gitlab_self_hosted]:!0},T=r=>{let{entryPoint:S,repo:D,onPrepareRepo:_,onMissingData:M,onError:O,loadMoreBranches:R,site:U,sites:W,account:y,accounts:K,onSubmit:v,onApplyHeuristics:C,provider:x,outset:z,availablePlugins:j,availablePluginsError:F,availablePluginsFetching:Z,onLoadPlugins:N,user:k,route:at,isOnStartPage:q,setFormData:H}=r;const nt=D==null?void 0:D.getIn(["branchPagination","next"]),tt=D&&D.get("error");return(0,d.useEffect)(()=>{!Z&&!F&&!(j!=null&&j.size)&&N()},[j,F,Z]),(0,d.useEffect)(()=>{D?_(D):M("repo")},[]),(0,d.useEffect)(()=>{tt&&(O(tt),M("repo"))},[tt]),(0,d.useEffect)(()=>{x!==i.Lz.bitbucket&&nt&&R(D,nt)},[x,nt]),D?(0,o.jsx)(s.Z,{entryPoint:S,user:k,site:U,account:y,accounts:K,repo:D,onSubmit:v,outset:z,onApplyHeuristics:C,accountSpecificGitProvider:P[x],availablePlugins:j,availablePluginsError:F,route:at,isOnStartPage:q,setFormData:H}):null};function n(r,S){const{repo:D,name:_}=S.params,M=(0,e.lH)(r,_),O=M&&(0,a.L3)(r).find(x=>(x==null?void 0:x.get("slug"))===M.get("account_slug")),R=O?(0,L.List)([O]):(0,a.L3)(r),U=R&&(0,a.uW)(r),W=O||U,y=decodeURIComponent(D),K=(0,m.f6)(r),v=(0,m.iQ)(r),C=(0,m.WF)(r);return{repo:(0,c.Wo)(r,y),provider:(0,E.oI)(r),site:M,accounts:R,account:W,availablePlugins:K,availablePluginsError:v,availablePluginsFetching:C}}function l(r,S){const{site:D,provider:_,onError:M}=S;return{onLoadPlugins:()=>r((0,m.bl)()),onPrepareRepo:O=>{var R;return(R=r((0,c.oV)(O)))==null?void 0:R.then(()=>{r((0,c.vb)(O))})},loadMoreBranches:(O,R)=>r((0,c.Qg)(O,R)),onApplyHeuristics:function(O,R){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",W=arguments.length>3?arguments[3]:void 0;r((0,c.I0)(O,R,{baseDir:U,configFilePath:W,provider:_}))},onSubmit:(O,R)=>r((0,e.Er)(D,R,O.toJS(),"")).then(U=>{let{site:W}=U;return f.mW.push(`/sites/${W.name}`)}).catch(U=>M(U,{restart:U.code===401}))}}const u=(0,p.$j)(n,l)(T)},9128:(Y,B,t)=>{t.d(B,{Z:()=>m});var o=t(24246),L=t(27378),h=t(80715),d=t(44195),p=t(43637);const f=c=>((0,L.useEffect)(()=>{c.onLoad()},[]),(0,o.jsx)(p.Z,{...c}));function a(c,e){let{site:s}=e;return{identity:(0,d.jZ)(c,s)}}function E(c,e){let{site:s}=e;return{onLoad:()=>c((0,d.r6)(s)),onCreate:()=>c((0,d.XD)(s)),onUpdate:i=>c((0,d.EI)(s,i)),onDelete:()=>c((0,d.dU)(s))}}const m=(0,h.$j)(a,E)(f)},8329:(Y,B,t)=>{t.d(B,{Z:()=>m});var o=t(24246),L=t(90046),h=t.n(L),d=t(80715),p=t(60653);const f=c=>{let{component:e,children:s,...i}=c;const P=e||s;return P?(0,o.jsx)(P,{...i}):null};function a(c){const e=c.user;return{user:e,progress:e&&e.get("onboarding_progress")||(0,L.Map)()}}function E(c){return{onProgress:(e,s)=>c((0,p.fq)(e,s))}}const m=(0,d.$j)(a,E)(f)},59505:(Y,B,t)=>{t.d(B,{Z:()=>e});var o=t(24246),L=t(27378),h=t(80715),d=t(99695),p=t(941),f=t(76872),a=t(13287);const E=s=>{const{onLoad:i,account:P}=s,T=P.get("id");return(0,L.useEffect)(()=>{i(s)},[T]),(0,o.jsx)(f.Z,{...s})};function m(s,i){let{account:P}=i;const T=(0,p.ac)(s);return{receipts:(0,d.L6)(s,P),api:{receiptPdf:n=>T.accountReceiptPdf(P.get("slug"),n)}}}function c(s,i){let{account:P}=i;return{onLoad:()=>(0,a.gK)(P)&&s((0,d.V8)(P))}}const e=(0,h.$j)(m,c)(E)},22845:(Y,B,t)=>{t.d(B,{Z:()=>c});var o=t(24246),L=t(27378),h=t(80715),d=t(57240),p=t(37895),f=t(7311);const a=e=>{let{component:s,children:i,onLoad:P,...T}=e;const{setIsLoadingApp:n}=(0,f.bn)();(0,L.useEffect)(()=>{P(),n(!1)},[]);const l=s||i||p.Z;return(0,o.jsx)(l,{...T})};function E(e,s){let{site:i}=s;return{services:(0,d.M2)(e,i)}}function m(e,s){let{site:i}=s;return{onLoad:()=>e((0,d.k4)(i)),onCreate:(P,T)=>e((0,d.G6)(i,P,T)),onUpdate:(P,T)=>e((0,d.Pg)(i,P,T)),onDelete:P=>e((0,d.wo)(i,P)),onGenerateToken:(P,T)=>e((0,d.RA)(P,T))}}const c=(0,h.$j)(E,m)(a)},93389:(Y,B,t)=>{t.d(B,{Z:()=>e});var o=t(24246),L=t(27378),h=t(80715),d=t(32293),p=t(7121),f=t(7311),a=t(8989);const E=s=>{let{site:i,members:P,onLoad:T,user:n}=s;const{setIsLoadingApp:l}=(0,f.bn)();(0,L.useEffect)(()=>{l(!1)},[l]),(0,L.useEffect)(()=>{T({site:i})},[]);const u=i.get("account_slug"),r=(0,a.Z)(u);return(0,L.useEffect)(()=>{u!==r&&T({site:i})},[u,r]),(0,o.jsx)(p.Z,{site:i,members:P,user:n})},m=(s,i)=>{let{site:P}=i;return{members:(0,d.ad)(s,P)}},c=s=>({onLoad:i=>{let{site:P}=i;return s((0,d.el)(P))}}),e=(0,h.$j)(m,c)(E)},17844:(Y,B,t)=>{t.d(B,{Z:()=>c});var o=t(24246),L=t(27378),h=t(80715),d=t(91800),p=t(64614),f=t(52968);const a=e=>{(0,L.useEffect)(()=>{var i;(i=e.onLoad)==null||i.call(e,e)},[]);const s=e.component||e.children;return(0,o.jsx)(s,{...e})};function E(e,s){let{account:i}=s;return{paymentMethod:(0,f.DY)(e,i),paymentProvider:(0,p.nY)(i),plans:(0,d.qL)(e)}}function m(e,s){let{account:i}=s;return{onLoad:P=>{let{account:T}=P;e((0,d.vP)()),e((0,d.Ko)()),e((0,f.nS)(T))},onUpdate:(P,T)=>e((0,d.sG)(P,T)),onPaymentProviderTokenUsed:P=>e((0,p.Uc)(i,P)),onSavePaymentMethod:P=>e((0,f.BX)(P,i))}}const c=(0,h.$j)(E,m)(a)},33950:(Y,B,t)=>{t.d(B,{Z:()=>l});var o=t(2926),L=t.n(o),h=t(90046),d=t.n(h),p=t(54969),f=t.n(p),a=t(27378),E=t(80715),m=t(941),c=t(84673),e=t(36881);const s=8,i=u=>({publish:c.LT,delete:c.vQ,lock:c.Bn,unlock:c.FN,retry:c.kR,cancel:c.li})[u];function P(u,r,S){const D=r.path.replace(/^\//,"").split("/");let _=null;for(;D.length;)_=D.shift(),D.length?u=u.folder(_):u.file(_,S)}function T(u){const[r,S]=(0,a.useState)(null),D=y=>{S((0,h.Map)(y))},_=async y=>{const{user:K,config:v}=u,C=y.get("id"),x=(0,m.ac)({user:K,config:v});if(!x)return;D({state:"downloading"});const j=(await t.e(1578).then(t.t.bind(t,82858,23))).default,F=new j,Z=f()(s);x.deployFiles(C).then(N=>N.data.map(k=>Z(()=>x.deployFile(C,k.path)).then(at=>P(F,k,at)))).then(N=>Promise.all(N)).then(()=>F.generateAsync({type:"blob"})).then(N=>{D({state:"ready",zip:N})}).catch(N=>{D({state:"error",error:N})})},M=(y,K)=>{const v=`deploy-${y.get("id")}.zip`,C=K.get("zip");return(0,o.saveAs)(C,v)},O=(y,K)=>{K&&K.get("zip")?M(y,K):_(y)},R=(y,K,v)=>{const C=i(y);return u.dispatch(C(u.site,K,v))},{component:U,...W}=u;return(0,a.createElement)(U||e.Z,{...W,download:r,onDeployAction:R,onDownload:O})}function n(u){return{user:u.user,config:u.config,api:(0,m.ac)(u)}}const l=(0,E.$j)(n)(T)},55109:(Y,B,t)=>{t.d(B,{Z:()=>m});var o=t(27378),L=t(84673),h=t(34571),d=t(67928),p=t(69615);function f(c){const{poll:e,dispatch:s,site:i,page:P,perPage:T,filter:n}=c,{component:l,children:u,...r}=c,S=(0,o.useRef)(null);return(0,o.useEffect)(()=>{const D=()=>{s((0,L.Kr)(i,a({page:P,perPage:T,filter:n}))),s((0,h.EQ)(i.get("name")))};if(S.current&&clearInterval(S.current),e)return S.current=setInterval(D,(0,p.S)()),()=>{clearInterval(S.current)}},[P,T,n,e]),l?(0,o.createElement)(l,r,u):(0,o.cloneElement)(u,r)}function a({page:c,perPage:e,filter:s}){return{page:c,perPage:e,filter:s}}function E(c,e){const s=e.site,i=a(e);return{deploys:(0,L.Oh)(c,s,i),pagination:(0,L.ly)(c,s,i),pendingDeploys:(0,L.mh)(c,s)}}const m=(0,d.v)(E,c=>(0,L.Kr)(c.site,a(c)),"page","perPage","filter")(f)},89859:(Y,B,t)=>{t.d(B,{Z:()=>c});var o=t(27378),L=t(941),h=t(38504),d=t(77159),p=t(66080),f=t(67928);const a=({children:e,component:s=p.Z,...i})=>{const P=(l,u,r)=>i.dispatch((0,h.zH)(l,u,r)),T=(l,u)=>i.dispatch((0,h.XL)(l,u,{...E(i),page:1})),n=(l,u)=>i.dispatch((0,h.cJ)(l,u,{...E(i),page:1}));return i.onDelete=P,i.onMarkAsSpam=T,i.onMarkAsHam=n,e?(0,o.cloneElement)(e,i):(0,o.createElement)(s,i,e)};function E({page:e=1,perPage:s=d.F,formId:i,filter:P}){return{page:e,perPage:s,formId:i,filter:P}}function m(e,s){const i=s.site,P=E(s);return{...P,form:(0,h.jy)(e,P.formId),forms:(0,h.Jo)(e,i),submissions:(0,h.Rg)(e,i,P),pagination:(0,h.$d)(e,i,P),api:{formSubmissions:(...T)=>(0,L.ac)(e).formSubmissions(...T)}}}const c=(0,f.v)(m,e=>(0,h.A)(e.site,E(e)),"page","perPage","formId","filter")(a)},83302:(Y,B,t)=>{t.d(B,{Z:()=>a});var o=t(27378),L=t(44195),h=t(67928);function d({component:E,children:m,...c}){return E?(0,o.createElement)(E,c,m):(0,o.cloneElement)(m,c)}function p(E){return{...E.location.query}}function f(E,{site:m,...c}){const e=p(c),s=(0,L.dk)(E,m,e);return{...e,provisioned:!!m.get("identity_instance_id"),users:s,pagination:(0,L.PO)(E,m,e)}}const a=(0,h.v)(f,({site:E,...m})=>(0,L.FJ)(E,p(m)),"provisioned","page","per_page","sort","filter")(d)},70610:(Y,B,t)=>{t.d(B,{Jg:()=>a.Jg,ND:()=>a.ND,ZP:()=>s});var o=t(27378),L=t(80715),h=t(38504),d=t(65628),p=t(86981),f=t(57240),a=t(15010),E=t(15512);const m=({onLoad:i,component:P,...T})=>{var n,l;return(0,o.useEffect)(()=>{i()},[(n=T.account)==null?void 0:n.get("id"),(l=T.account)==null?void 0:l.get("type_slug")]),(0,o.createElement)(P||E.Z,T)};function c(i,{site:P}){return{hooks:(0,p.e_)(i,P),hookTypes:(0,p.o6)(i,P),forms:(0,h.Jo)(i,P),provider:(0,d.oI)(i)}}function e(i,{site:P,filter:T}){return{onLoad:()=>{i((0,p.Eq)(P)),i((0,p.v9)(P)),T===a.Jg&&i((0,h.jn)(P))},onDelete:n=>i((0,p.$_)(P,n)),onCreate:n=>i((0,p.Bi)(P,n)),onUpdate:(n,l)=>i((0,p.ny)(P,n,l)),onTokenRequest:(n,l)=>i((0,f.RA)(n,l))}}const s=(0,L.$j)(c,e)(m)},20558:(Y,B,t)=>{t.d(B,{BU:()=>c,PP:()=>T,B6:()=>S});var o=t(24246),L=t(27378),h=t(80715),d=t(64334),p=t(34571),f=t(50355);const a=D=>((0,L.useEffect)(()=>{D.onLoad()},[]),(0,o.jsx)(f.Z,{...D})),E=(D,_)=>{let{site:M}=_;return{branches:(0,p.Un)(D,M),buildHooks:(0,d.Kr)(D,M)}},m=(D,_)=>{let{site:M}=_;return{onLoad:()=>{D((0,d.xF)(M)),D((0,p.WV)(M))},onAdd:O=>D((0,d.HN)(M,O)),onRemove:O=>D((0,d.$T)(M,O))}},c=(0,h.$j)(E,m)(a);var e=t(76318);const s=D=>(0,o.jsx)(e.Z,{...D}),i=(D,_)=>{let{site:M}=_;return{deployKey:(0,p.mY)(D,M)}},P=(D,_)=>{let{state:M,site:O}=_;return{onLoad:()=>{const R=O.get("build_settings").get("deploy_key_id");R&&D((0,p.rC)(R,O))},onAdd:()=>D((0,p.G$)())}},T=(0,h.$j)(i,P)(s);var n=t(47529);const l=D=>((0,L.useEffect)(()=>{D.onLoad(D.site)},[]),D.children?(0,L.cloneElement)(D.children,{...D}):(0,o.jsx)(n.Z,{...D})),u=(D,_)=>({}),r=(D,_)=>{let{site:M}=_;return{onLoad:()=>{M.get("snippets")||D((0,p.Cu)(M))},onAdd:O=>D((0,p.IS)(M,O)),onRemove:O=>D((0,p.UQ)(M,O))}},S=(0,h.$j)(u,r)(l)},40659:(Y,B,t)=>{t.d(B,{Z:()=>E});var o=t(91800),L=t(34571),h=t(25108),d=t(67928);const p=15;function f(m){return{page:m.page,perPage:m.perPage||p,searchTerm:m.searchTerm,searchGlobally:m.searchGlobally,sortBy:m.sortBy,accountSlug:m.accountSlug}}function a(m,c){const e=f(c),s=(0,L.u)(m,e);return{sites:s,pagination:(0,L.OK)(m,e),loaded:!!s,user:m.user,account:(0,o.bk)(m,e.accountSlug),accounts:(0,o.L3)(m)}}const E=(0,d.v)(a,m=>(0,L.KZ)(f(m)),"page","perPage","searchTerm","searchGlobally","sortBy","accountSlug")(h.Z)},94709:(Y,B,t)=>{t.d(B,{Z:()=>m});var o=t(27378),L=t(80715),h=t(34571),d=t(45988),p=t(37416);const f=({component:c,...e})=>{const{onLoad:s,site:i}=e;return(0,o.useEffect)(()=>{s(i)},[]),(0,o.createElement)(c||p.Z,e)},a=(c,{site:e})=>({branches:(0,h.Un)(c,e),splits:(0,d.Fz)(c,e)}),E=c=>({onLoad:e=>{c((0,d.Dk)(e)),c((0,h.WV)(e))},onCreate:(e,s)=>c((0,d.vj)(e,s)),onUpdate:(e,s,i)=>c((0,d.af)(e,s,i)),onStart:(e,s)=>c((0,d.m6)(e,s)),onStop:(e,s)=>c((0,d.VO)(e,s)),onUpdateSite:(e,s)=>c((0,h.L3)(e,s))}),m=(0,L.$j)(a,E)(f)}}]);})();
