"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[5647],{63733:(ye,se,l)=>{l.d(se,{D4:()=>D,TR:()=>j,_O:()=>k,f4:()=>F,qj:()=>q,sw:()=>t,yx:()=>e});var d=l(81080),L=l.n(d),$=l(26527);const N=/(\d{1,4})/g,M={amex:/(\d{1,4})(\d{1,6})?(\d{1,5})?/},T={"american-express":"amex"},G={amex:4};function k(r){const u=L().number(r).card;if(u)return{...u,type:T[u.type]||u.type,cvcLength:[u.code.size]}}function W(r){return r.length>2?r:`${new Date().getFullYear().toString().slice(0,2)}${r}`}function J(r,u){if(r=r.trim(),u=W(u.trim()),!/^\d+$/.test(r)||!/^\d+$/.test(u)||!(parseInt(r,10)<=12))return!1;const c=new Date(u,r),m=new Date;return c.setMonth(c.getMonth()-1),c.setMonth(c.getMonth()+1,1),c>m}function q(r){r=r.replace(/\s/g,"");let[u,c]=r.split("/",2);return u=u&&parseInt(u,10),c=c&&parseInt(W(c),10),{month:u,year:c}}function D(r){return L().number(r).isValid}function j(r){const{month:u,year:c}=q(r);return J(String(u),String(c))}function F(r){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const c=G[u]||[3,4];return L().cvv(r,c).isValid}function U(r){if(!r)return null;const u=k(r);return u&&u.type}function e(r){const u=k(r);if(!u)return r;const c=u.lengths[u.lengths.length-1];r=r.replace(/\D/g,""),r=r.slice(0,c);const m=M[u.type]||N;if(m.global){const C=r.match(m);return C&&C.join(" ")}const v=m.exec(r);return v&&v.shift(),v&&v.join(" ")}const t=r=>{let{number:u,name:c,expiration:m,cvv:v,country:C,addressLine1:Z,city:te,state:B,zipCode:g}=r;return D(u)?(0,$.fp)(c)?{success:!1,reason:"The name is required"}:j(m)?F(v)?(0,$.fp)(C)?{success:!1,reason:"The country is required"}:(0,$.fp)(Z)?{success:!1,reason:"The address is required"}:(0,$.fp)(te)?{success:!1,reason:"The city is required"}:(0,$.fp)(B)?{success:!1,reason:"The state is required"}:(0,$.fp)(g)?{success:!1,reason:"The postal code is required"}:{success:!0,reason:"OK"}:{success:!1,reason:"The CVV provided is invalid"}:{success:!1,reason:"The expiration date provided is invalid"}:{success:!1,reason:"The card number provided is invalid"}}},30677:(ye,se,l)=>{l.d(se,{Z:()=>le});var d=l(24246),L=l(27378),$=l(75518);const N={type:"button",optionsSchema:{},render(b,f){let{title:S,id:R,variant:O}=b;if(!S||!R)return null;const H=()=>{f.surfaceHandler.postEventWithResponse(`${R}:click_UICALLBACK`,f.surfaceHandler.state)};return(0,d.jsx)($.Z,{title:S,onClick:H,id:R,variant:O,children:S})}};var M=l(5336);const T=b=>{let{children:f}=b;return f?(0,d.jsx)(M.Z,{allowedElements:["a","p","br","code","pre","em","strong"],markdown:f}):null},G={type:"text",optionsSchema:{},render(b){let{value:f}=b;return(0,d.jsx)(T,{children:f})}};var k=l(66488);const W={type:"card",optionsSchema:{},render(b,f){let{title:S,description:R,contents:O}=b;var H;return O?(0,d.jsx)(k.Z,{title:S,description:R&&(0,d.jsx)(T,{children:R}),children:(0,d.jsx)(k.Z.Panel,{children:(H=f==null?void 0:f.renderElements)==null?void 0:H.call(f,O,f)})}):null}};var J=l(91844),q=l(87230),D=l(4953);const j=b=>{let{providerName:f,connectWithMessage:S,contextOptions:R,isCustom:O}=b;var H,s;const{surfaceHandler:n,integrationSlug:i}=R,{providerOAuthToken:o,isConnected:a}=(s=(H=n.state)==null?void 0:H.integrationContext)!=null?s:{providerOAuthToken:void 0,isConnected:!1},h=!!o,[_,x]=(0,L.useState)(!1),[Y,ue]=(0,L.useState)(h||a),ge=`Connect your Netlify account to ${f}`;if(_)return(0,d.jsx)(J.Z,{title:ge,children:(0,d.jsx)(D.Z,{className:"tw-mt-1"})});const $e=async()=>{if(x(!0),O)n.postEventWithResponse(":custom_connect_UICALLBACK",n.state);else{const Me=new URLSearchParams;Me.append("redirect_uri",window.location.href);const Pe=await fetch(`/.netlify/functions/identeer-proxy/auth/${i}?${Me.toString()}`);if(Pe.ok){const{auth_url:Le}=await Pe.json();window.open(Le,"_self")}}x(!1)},Ie=async()=>{x(!0),O?n.postEventWithResponse(":custom_disconnect_UICALLBACK",n.state):(await fetch(`/.netlify/functions/identeer-proxy/disconnect/${i}`)).ok&&(ue(!1),n.save(Pe=>({...Pe,integrationContext:Pe!=null&&Pe.integrationContext?{...Pe.integrationContext,providerOAuthToken:void 0}:void 0}))),x(!1)};return(0,d.jsx)(J.Z,{title:`Connect your Netlify account to ${f}`,children:Y?(0,d.jsxs)("div",{className:"tw-flex tw-flex-col",children:[(0,d.jsxs)("div",{className:"tw-flex tw-flex-row tw-content-center tw-items-center tw-pt-2",children:[(0,d.jsx)(q.f,{name:"success",className:"tw-text-green-500 tw-mr-2"}),"You are connected to ",f]}),(0,d.jsx)($.Z,{className:"tw-mt-2 tw-w-max",onClick:Ie,children:"Disconnect"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:S}),(0,d.jsx)($.Z,{className:"tw-mt-2 tw-w-max",onClick:$e,children:"Connect"})]})})},F={type:"connection",optionsSchema:{},render(b,f){let{connectWithMessage:S,providerFriendlyName:R,isCustom:O}=b;return!S||!R||!f.integrationSlug?null:(0,d.jsx)(j,{connectWithMessage:S,providerName:R,contextOptions:f,isCustom:O})}};var U=l(39777);const e=b=>{let{value:f,label:S}=b;return(0,d.jsx)(U.Z,{label:S,value:f,placeholder:"Not set"})},t={type:"display",optionsSchema:{},render(b){return(0,d.jsx)(e,{...b})}};var r=l(71791),u=l(34571),c=l(68187),m=l(83611),v=l(55492),C=l(56299),Z=l(87287);const te=b=>{let{packageContext:f,site:S,title:R,description:O,targetPackage:H,illustration:s,surfaceHandler:n}=b;var i,o;const a=(0,v.I)(),{friendlyName:h}=f||{},[_,x]=(0,L.useState)(!1);if(!S||!H)return null;const Y=(0,c.hA)(S),ue=(0,d.jsx)(T,{children:O}),ge=(o=(i=S==null?void 0:S.get("plugins"))==null?void 0:i.toJS().some(Pe=>Pe.package===H))!=null?o:!1,$e=ge?"Disable":"Enable",Ie=`${$e} ${h}`;async function Me(){const Pe=S==null?void 0:S.get("plugins");let Le=(Pe==null?void 0:Pe.toJS())||[];if(ge)await n.onDisable(),Le=Le.filter(Ue=>Ue.package!==H),await a((0,u.L3)(S,{plugins:Le}));else{x(!0);try{await n.onEnable(),await a((0,r.QK)(S,H,Le,!1))}finally{x(!1)}}}return ge?(0,d.jsxs)(Z.Z,{title:Ie,description:ue,deleteLabel:$e,onDelete:Me,challenge:{label:"Type in the site\u2019s name to confirm",value:Y},children:[ue,(0,d.jsxs)("p",{children:["Are you sure you want to remove ",h," from ",Y,"?"]})]}):(0,d.jsx)(C.Z,{title:R,illustration:s,action:(0,d.jsx)($.Z,{onClick:Me,saving:_,children:Ie}),children:ue})},B=(b,f)=>{if(f)try{return new URL(f).pathname}catch{return[m.A8,b,f].filter(Boolean).join("/")}},g={type:"enablement",optionsSchema:{},render(b,f){let{title:S,description:R,illustration:O,targetPackage:H}=b,{site:s,packageContext:n,surfaceHandler:i}=f;return O=B(n==null?void 0:n.key,O),(0,d.jsx)(te,{title:S,description:R,illustration:O,site:s,packageContext:n,targetPackage:H,surfaceHandler:i})}},K=b=>{let{title:f,id:S,enabledDescription:R,disabledDescription:O,illustration:H,contextOptions:s,isEnabled:n}=b;const{site:i}=s,[o,a]=(0,L.useState)(!1);if(!i)return null;const h=(0,c.hA)(i),_=(0,d.jsx)(T,{children:n?O:R}),x=n?"Disable":"Enable",Y=`${x} ${f}`;async function ue(){a(!0),s.surfaceHandler.postEventWithResponse(`${S}:click_UICALLBACK`,s.surfaceHandler.state),a(!1)}return n?(0,d.jsxs)(Z.Z,{title:f,description:_,deleteLabel:x,onDelete:ue,challenge:{label:"Type in the site\u2019s name to confirm",value:h},children:[_,(0,d.jsxs)("p",{children:["Are you sure you want to remove ",f," from ",h,"?"]})]}):(0,d.jsx)(C.Z,{title:f,illustration:H,action:(0,d.jsx)($.Z,{onClick:ue,saving:o,children:Y}),children:_})},A={type:"enablementv2",optionsSchema:{},render(b,f){let{title:S,enabledDescription:R,disabledDescription:O,illustration:H,id:s,isEnabled:n}=b;return(0,d.jsx)(K,{contextOptions:f,title:S,enabledDescription:R,disabledDescription:O,illustration:H,id:s,isEnabled:n})}},E=b=>{const f={};return b.forEach((S,R)=>{if(!Reflect.has(f,R)){f[R]=S;return}Array.isArray(f[R])||(f[R]=[f[R]]),f[R].push(S)}),f},P=b=>{let{id:f,title:S,description:R,surfaceHandler:O,surfaceInputsData:H,renderElements:s}=b;const[n]=(0,L.useState)(H),[i,o]=(0,L.useState)(n);if(!f)return null;const a=_=>{let{name:x,value:Y}=_;o(ue=>({...ue,[x]:Y}))},h=async _=>{const x=new FormData(_.target),Y=E(x);await O.onSurfaceSave(f,Y)};return(0,d.jsxs)(k.Z,{title:S,description:R&&(0,d.jsx)(T,{children:R}),onSave:h,onCancel:()=>o(n),children:[(0,d.jsx)(k.Z.DefaultView,{className:"table-body",children:s({displayOnly:!0,surfaceInputsData:i})}),(0,d.jsx)(k.Z.FormView,{className:"table-body",children:s({onChange:a,surfaceInputsData:i})})]})},V={type:"form",optionsSchema:{},render(b,f){let{title:S,description:R,contents:O,id:H}=b;if(!O)return null;const{surfaceHandler:s,surfaceInputsData:n,renderElements:i}=f;return(0,d.jsx)(P,{title:S,id:H,description:R,surfaceHandler:s,surfaceInputsData:n,renderElements:o=>i==null?void 0:i(O,{...f,...o})})}};var X=l(69041),ne=l(69792),ce=l(84200);const ae=b=>b.map(f=>{if(typeof f=="string")return{value:f,label:f};const{value:S,label:R=S}=f;return{...f,label:R}}),y=(b,f)=>b.findLast(f),p=ce.z.array(ce.z.string()).optional(),z=b=>{const f=p.safeParse(b);return f.success?!0:(console.warn('"value" is not a valid checkbox value type',f.error),!1)},ie=b=>{const f=typeof b,S=f==="string"||f==="undefined";return S||console.warn('"value" is not a valid input value type. Received:',f),S},re=b=>{let{type:f,id:S,label:R,options:O,helpText:H,required:s,onChange:n,selected:i,leftLabel:o,floatingLabel:a}=b;const h=S||R,_=x=>{const{value:Y,checked:ue}=x.target,ge=new Set(i);f==="radio"&&ge.clear(),ue?ge.add(Y):ge.delete(Y),n({name:S,value:Array.from(ge)})};return(0,d.jsx)(ne.Z,{leftLabel:o,floatingLabel:a,name:S,label:R,helpText:H,controlled:!0,control:(0,d.jsx)("fieldset",{className:"tw-flex tw-flex-col tw-gap-2",children:O.map(x=>{let{value:Y,label:ue}=x;return(0,d.jsx)(X.Z,{type:f,name:h,value:Y,label:ue,checked:i.includes(Y),required:s&&!i.length,onChange:_},Y)})})})},he={type:"input-checkbox",optionsSchema:{},render(b,f){let{id:S,value:R,label:O,type:H,...s}=b,{displayOnly:n,surfaceInputsData:i,onChange:o}=f;var a;const h=ae(R),_=h.filter(Y=>{let{isSelected:ue}=Y;return!!ue}),x=(a=i[S])!=null?a:_.map(Y=>{let{value:ue}=Y;return ue});if(!z(x))return null;if(n){const Y=h.filter(ue=>{let{value:ge}=ue;return x.includes(ge)});return(0,d.jsx)(e,{label:O,value:Y.map(ue=>{let{label:ge}=ue;return ge}).join(", ")})}return(0,d.jsx)(re,{id:S,type:"checkbox",label:O,options:h,selected:x,onChange:o,...s})}};var de=l(26527),fe=l(50184);const pe=b=>{let{id:f,label:S,value:R,placeholder:O,helpText:H,required:s,onChange:n,leftLabel:i,floatingLabel:o}=b;return(0,d.jsx)(fe.Z,{leftLabel:i,floatingLabel:o,name:f,label:S,value:R,placeholder:O,helpText:H,required:s,onChange:a=>n({name:f,value:a.target.value}),controlled:!0})},_e={type:"input-password",optionsSchema:{},render(b,f){let{id:S,value:R,label:O,...H}=b,{displayOnly:s,surfaceInputsData:n,onChange:i}=f;var o;const a=(o=n[S])!=null?o:R;return ie(a)?s?(0,d.jsx)(e,{label:O,value:a&&de.Nw}):(0,d.jsx)(pe,{id:S,label:O,value:a,onChange:i,...H}):null}},be={type:"input-radio",optionsSchema:{},render(b,f){let{id:S,value:R,label:O,type:H,...s}=b,{displayOnly:n,onChange:i,surfaceInputsData:o}=f;var a;const h=ae(R),_=y(h,ue=>{let{isSelected:ge}=ue;return!!ge}),x=o[S];if(!z(x))return null;const Y=x?x[0]:_==null?void 0:_.value;return n?(0,d.jsx)(e,{label:O,value:Y&&((a=y(h,ue=>{let{value:ge}=ue;return ge===Y}))==null?void 0:a.label)}):(0,d.jsx)(re,{type:"radio",id:S,label:O,options:h,selected:[Y].filter(Boolean),onChange:i,...s})}},me=b=>{let{id:f,type:S="text",label:R,value:O,helpText:H,required:s,placeholder:n,onChange:i,leftLabel:o,floatingLabel:a,min:h,max:_}=b;return(0,d.jsx)(ne.Z,{type:S,leftLabel:o,floatingLabel:a,name:f,label:R,value:O,placeholder:n,helpText:H,required:s,min:h,max:_,onChange:x=>i({name:f,value:x.target.value}),controlled:!0})},Se={type:"input-text",optionsSchema:{},render(b,f){let{id:S,value:R,label:O,type:H,fieldType:s,...n}=b,{displayOnly:i,surfaceInputsData:o,onChange:a}=f;var h;const _=(h=o[S])!=null?h:R;return ie(_)?i?(0,d.jsx)(e,{label:O,value:_}):(0,d.jsx)(me,{id:S,type:s,label:O,value:_,onChange:a,...n}):null}};var we=l(43411);const ve=b=>{let{href:f,text:S}=b;if(!f||!S)return null;const R=!f.match(/^(https?:\/\/)?app\.netlify\.com/);return(0,d.jsx)(we.Z,{href:f,external:R,action:R,children:S})},w={type:"link",optionsSchema:{},render(b){let{href:f,text:S}=b;return(0,d.jsx)(ve,{href:f,text:S})}};var oe=l(30134);const Ee={type:"section",optionsSchema:{},render(b,f){let{title:S="",description:R,contents:O}=b;var H;return O?(0,d.jsx)("div",{className:"tw-mt-2",children:(0,d.jsx)(oe.Z,{title:S,description:R&&(0,d.jsx)(T,{children:R}),children:(H=f==null?void 0:f.renderElements)==null?void 0:H.call(f,O,f)})}):null}};var Ae=l(12069);const Re=b=>{let{id:f,label:S,options:R,selected:O,placeholder:H,helpText:s,required:n,onChange:i}=b;const o=a=>{const{value:h}=a.target.value;i({name:f,value:h})};return(0,d.jsx)(ne.Z,{leftLabel:!0,name:f,label:S,helpText:s,controlled:!0,control:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Ae.Z,{name:f,value:O,options:R,placeholder:H,required:n,onChange:o}),(0,d.jsx)("input",{type:"hidden",name:f,defaultValue:O})]})})},De={type:"select",optionsSchema:{},render(b,f){let{id:S,label:R,value:O,...H}=b,{displayOnly:s,surfaceInputsData:n,onChange:i}=f;var o;const a=ae(O),h=y(a,x=>{let{isSelected:Y}=x;return!!Y}),_=(o=n[S])!=null?o:h==null?void 0:h.value;if(!ie(_))return null;if(s){const x=y(a,Y=>{let{value:ue}=Y;return ue===_});return(0,d.jsx)(e,{label:R,value:_&&(x==null?void 0:x.label)})}return(0,d.jsx)(Re,{id:S,label:R,options:a,selected:_,...H,onChange:i})}},Te={[G.type]:G,[W.type]:W,[g.type]:g,[De.type]:De,[Se.type]:Se,[_e.type]:_e,[be.type]:be,[he.type]:he,[t.type]:t,[V.type]:V,[Ee.type]:Ee,[N.type]:N,[A.type]:A,[w.type]:w,[F.type]:F},Oe=b=>Te[b];function Ne(b){return b.type==="select"}function ke(b){return b.type.startsWith("input")}function Ce(b,f){const S=b.trim().split(".").filter(Boolean);return S.reduce((O,H,s)=>{if(s===0)switch(S[0]){case"$PKG":O=f.packageContext;break;case"$EL":O=f.surfaceInputsData;break}else typeof O!="object"||O===null?O=null:O=O[H];return O},null)}function I(b,f){var S,R;let O={...b};const H=b.if;let s=!1;if(H&&f&&(H.truthy&&Ce(H.truthy,f)&&(s=!0),H.falsy&&(Ce(H.falsy,f)||(s=!0)),H.equals&&Ce(H.equals[0],f)===H.equals[1]&&(s=!0),H.has)){const{type:n,name:i}=H.has;switch(n){case"plugin":(R=(S=f.site)==null?void 0:S.get("plugins"))!=null&&R.toJS().some(o=>o.package===i)&&(s=!0)}}return s&&(H!=null&&H.then)&&(O={...O,...H.then}),O}function ee(b,f,S){const[R,...O]=b.split("."),H=O.join(".");if(R!=="$ENV")return console.warn("WFUI - persistAs key other than $ENV is not supported:",R),S;const s=f.surfaceHandler.getEnvVarValue(H);return Ne(S)&&!S.label&&(S.label=H),ke(S)&&!S.label&&(S.label=H),s||console.log("WFUI - No value found for env var: ",b),S}function Q(b,f){const S={...f,renderElements:Q};return b.map(R=>{let O={...R};O.id||console.warn('No "id" found for element:',O);const{persistAs:H}=O;if(H&&(O=ee(H,f,O)),O.if&&(O=I(O,f)),O.display==="hidden")return null;const s=Oe(O.type);if(!s)return console.error(`workflow ui element unknown: ${JSON.stringify(O)}`),null;const n=s.render(O,S);return n?(0,L.cloneElement)(n,{key:O.id,outset:f.outset}):null})}const le=function(b){let{config:f,surfaceRouteConfig:S,surfaceConfig:R,envVars:O,site:H,account:s,surfaceData:n,displayOnly:i,outset:o,onChange:a,integrationSlug:h,surfaceInputsData:_,surfaceHandler:x}=b;const Y={enabled:!0,key:(f==null?void 0:f.packageId)||"",name:(f==null?void 0:f.package)||"",friendlyName:(f==null?void 0:f.friendlyName)||""};return(0,d.jsx)(d.Fragment,{children:Q(S,{envVars:O,site:H,account:s,packageContext:Y,surfaceData:n,displayOnly:i,outset:o,onChange:a,integrationSlug:h,surfaceInputsData:_,surfaceRouteConfig:S,surfaceConfig:R,surfaceHandler:x})})}},78290:(ye,se,l)=>{l.d(se,{K:()=>r});var d=l(24246),L=l(27378),$=l(45180),N=l(55492),M=l(35284),T=l(30677),G=l(46917),k=l(19349),W=l(83611);function J(u,{terminate:c=!0,targetOrigin:m="*"}={}){if(typeof window=="undefined")throw new Error("You can only run fromIframe() in a browser context, but no window was found.");const v=new WeakMap;let C;function Z(B){var g;B.source===u.contentWindow&&((g=B.data)==null?void 0:g.eventName)==="WFUI_IFRAME_LOADED"&&(window.removeEventListener("message",Z),C())}const te=new Promise(B=>{C=B,window.addEventListener("message",Z)});return{async postMessage(B,g){var K;await te,(K=u.contentWindow)==null||K.postMessage(B,m,g)},addEventListener(B,g){const K=A=>{var E,P;A.source===u.contentWindow&&((P=(E=A.data)==null?void 0:E.eventName)!=null&&P.startsWith("WFUI")&&console.log(A.data),g(A))};v.set(g,K),window.addEventListener(B,K)},removeEventListener(B,g){const K=v.get(g);K!=null&&(v.delete(g),window.removeEventListener(B,K))},terminate(){window.removeEventListener("message",Z),c&&u.remove()}}}var q=l(16467);class D{constructor({surfaceName:c,exposedFunctions:m,envVarHandlers:v,surfaceData:C,accountId:Z,siteId:te,siteName:B,queryParams:g,serverUrl:K,isPreview:A},E){this.updater=null,this.mounted=!0,this.iframeEndpoint=null,this.iframe=null,this.elementDirectory=new Map,this.getOAuthConnection=async P=>{const V=await fetch(`/.netlify/functions/identeer-proxy/connections/${P}`);if(V.ok){const{token:X}=await V.json();return console.log("token",X),X}},C&&(this.state={surfaceData:C}),this.surfaceName=c,this.updater=E,this.exposedFunctions=m,this.envVarHandlers=v,this.accountData={accountId:Z},this.siteId=te,this.siteName=B,this.queryParams=g,this.serverUrl=K,this.isPreview=A}updateSurfaceHandlerProps({exposedFunctions:c,envVarHandlers:m,surfaceData:v}){c&&(this.exposedFunctions=c),v&&(this.state||(this.state={}),this.state.surfaceData=v),m&&(this.envVarHandlers=m)}save(c){var m;if(!this.mounted)return;const v=typeof c=="function"?c(this.state):c;this.state={...this.state,...v},(m=this.updater)==null||m.call(this)}getEnvVarValue(c){if(!this.envVarHandlers)return null;const m=this.envVarHandlers.reader.getEnvVar(c);return m?m.envVar.values[0].value:null}async onConfigLoaded({surfaceConfig:c,surfaceRouteConfig:m,elementDirectory:v,config:C,matchedRouteKey:Z}){var te,B,g,K,A,E;let P;const{useIdentity:V,integrationSlug:X}=C;if(X){const re=await fetch("/integration-auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ownerId:(te=this.siteId)!=null?te:this.accountData.accountId,integrationSlug:this.isPreview?"netlify-preview":X})});if(re.ok){const{token:he}=await re.json();P=he}}this.state={...this.state,surfaceConfig:c,surfaceRouteConfig:m,integrationContext:{siteId:this.siteId,siteName:this.siteName,accountId:this.accountData.accountId,netlifyToken:P,isConnected:(g=(B=this.state)==null?void 0:B.integrationContext)==null?void 0:g.isConnected,serverUrl:this.serverUrl}},this.elementDirectory=v,(0,q.CS)(this.surfaceName,this);const ne={};v.forEach(re=>{const{persistAs:he,id:de}=re;if(!he||!de)return;const[fe,...pe]=he.split(".");if(fe!=="$ENV"){console.warn("WFUI - persistAs key other than $ENV is not supported:",fe);return}const _e=pe.join("."),be=this.getEnvVarValue(_e);ne[de]=be});let ce;if(V){if(!X)throw new Error("Integration ID is required for identity");ce=await this.getOAuthConnection(X)}const ae={...this.state,integrationContext:{siteId:this.siteId,siteName:this.siteName,accountId:this.accountData.accountId,netlifyToken:P,providerOAuthToken:ce,isConnected:((K=this.state.integrationContext)==null?void 0:K.isConnected)||!!ce,serverUrl:this.serverUrl},surfaceInputsData:ne};if(!((A=c.surfaceScripts)!=null&&A.length)){this.save(ae);return}const y=await U({surfaceScripts:c.surfaceScripts,surfaceName:this.surfaceName,queryParams:this.queryParams});if(!y){this.save(ae);return}this.iframe=y,this.iframeEndpoint=J(this.iframe,{terminate:!0,targetOrigin:"*"}),this.iframeEndpoint.addEventListener("message",re=>{re.data.eventName.replace("_RESULT","").endsWith("_UICALLBACK")&&re.data.uiState&&this.save(re.data.uiState)}),this.iframeEndpoint.addEventListener("message",async re=>{var he,de;if(re.data.eventName==="WFUI_CALL_EXPOSED_FUNCTION"){const{functionName:fe,args:pe,id:_e}=re.data;let be;try{be={status:"success",data:await((he=this.exposedFunctions)==null?void 0:he[fe](...pe))}}catch(me){console.error("oops",me),be={status:"error",data:me}}(de=this.iframeEndpoint)==null||de.postMessage({eventName:"WFUI_ASYNC_REQUEST_SETTLES",response:be,id:_e})}}),this.exposedFunctions&&this.iframeEndpoint.postMessage({eventName:"WFUI_SEND_EXPOSED_FUNCTIONS",surfaceName:this.surfaceName,exposedFunctions:Object.keys(this.exposedFunctions)});const p={...this.state,integrationContext:{siteId:this.siteId,siteName:this.siteName,accountId:this.accountData.accountId,netlifyToken:P,providerOAuthToken:ce,isConnected:((E=this.state.integrationContext)==null?void 0:E.isConnected)||!!ce,serverUrl:this.serverUrl},surfaceInputsData:ne};let z;X&&(z=await this.postEventWithResponse(`WFUI_ESTABLISH_CONNECTION_${Z}`,p));const ie=await this.postEventWithResponse(X?`WFUI_LOAD_${Z}`:"WFUI_LOAD",z||p);this.save({...p,...ie})}async onSurfaceSave(c,m){var v;if(!this.state)return console.error("onSurfaceSave called with no ui state"),this.state;m&&(this.state={...this.state,surfaceInputsData:m});const C=await this.postEventWithResponse(`WFUI_SAVE_${c}:submit`,this.state);if(C&&this.save(C),!this.envVarHandlers)return this.state;const{reader:Z,writer:te}=this.envVarHandlers,B=[],g=[];return Object.entries((v=this.state.surfaceInputsData)!=null?v:{}).forEach(([K,A])=>{const E=this.elementDirectory.get(K);if(!(E!=null&&E.persistAs))return;const P=k.qY.map(ne=>ne.value),[V,...X]=E.persistAs.split(".");switch(V.toUpperCase()){case"$ENV":{const ne=X.join(".");if(!ne){console.error("No environment variable key specified for element",E);return}if(Array.isArray(A))throw new Error(`${K} should not be an array type for an environment variable`);const ce={key:ne,scopes:P,values:[{context:"all",value:A}]};Z.isExistingEnvVar(ne)?B.push(ce):g.push(ce)}break;default:console.warn("Unknown persistAs key:",V)}}),await Promise.all([te.createEnvVars(g),te.updateEnvVars(B)]),this.state}async onDisable(){if(!this.state){console.error("onDisable called with no ui state");return}const c=await this.postEventWithResponse("WFUI_PKG_DISABLED",this.state);if(this.save({...c,surfaceInputsData:{}}),!this.envVarHandlers)return;const{writer:m}=this.envVarHandlers,v=[];this.elementDirectory.forEach(C=>{if(!C.persistAs)return;const[Z,...te]=C.persistAs.split(".");switch(Z.toUpperCase()){case"$ENV":{const B=te.join(".");if(!B){console.error("No environment variable key specified for element",C);return}v.push(B)}break;default:console.warn("Unknown persistAs key:",Z)}}),await m.deleteEnvVars(v)}async onEnable(){if(!this.state){console.error("onEnable called with no ui state");return}const c=await this.postEventWithResponse("WFUI_PKG_ENABLED",this.state);c&&this.save(c)}cleanup(){var c;(c=this.iframeEndpoint)==null||c.terminate(),this.iframe=null,this.mounted=!1,this.updater=null,(0,q.IC)(this.surfaceName)}postEventWithResponse(c,m){return this.iframeEndpoint?new Promise(v=>{const C=Z=>{var te,B;((te=Z.data)==null?void 0:te.eventName)===`${c}_RESULT`&&(v(j(Z.data.uiState)),(B=this.iframeEndpoint)==null||B.removeEventListener("message",C))};this.iframeEndpoint?(this.iframeEndpoint.addEventListener("message",C),this.iframeEndpoint.postMessage({eventName:c,uiState:m})):v(void 0)}):Promise.resolve(void 0)}}function j(u){if(!u)return;const c={surfaceRouteConfig:u.surfaceRouteConfig,surfaceConfig:u.surfaceConfig,surfaceInputsData:u.surfaceInputsData,integrationContext:u.integrationContext};return Object.entries(c).forEach(([m,v])=>{v||delete c[m]}),c}async function F(u,c){var m;const v=await fetch(u);if(!v.ok)throw new Error(`WFUI - Unable to load script contents for "${u}"`);if(!((m=v.headers.get("content-type"))!=null&&m.includes("javascript")))throw new Error(`WFUI - Script "${u}" was not javascript`);const C=await v.text();return`<script type="${c}">${C}<\/script>`}async function U({surfaceName:u,surfaceScripts:c,queryParams:m}){var v;if(!(c!=null&&c.length)||document.querySelector(`iframe[data-surface-name="${u}"]`))return null;const[C,Z]=await Promise.all([F("/workflow-ui/netlify-context.js","text/javascript"),e({surfaceScripts:c})]);if(!Z.length)return null;const B=(K=>`
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta http-equiv="Content-Security-Policy" content="default-src *; script-src 'self' 'unsafe-inline' ${W.xw}">${m?`<script>window.location.search = '${m.toString()}';<\/script>`:""}
      </head>
      <body>
        ${K}
      </body>
    </html>
    `)([C,Z.toString()].join("")),g=document.createElement("iframe");return g.srcdoc=B,(v=g.sandbox)==null||v.add("allow-scripts"),g.setAttribute("data-surface-name",u),g.setAttribute("data-testid",`workflowui-${u}`),g.setAttribute("style","display: none;"),document.body.appendChild(g),g}async function e({surfaceScripts:u}){const c=(u==null?void 0:u.flatMap(async v=>{let C;try{C=new URL(v,window.location.origin)}catch{return console.log("WorkflowUI - Invalid path given. Please ensure it is a valid path (ie. no path traversal):",v),null}if(C.origin===window.location.origin)return console.log("WorkflowUI - Script paths must be absolute. Please ensure the path is correct:",v),null;const Z=new RegExp("netlify-integration-([a-zA-Z0-9-]+).netlify.app");return C.hostname!=="localhost"&&!Z.test(C.hostname)?(console.log("WorkflowUI - Script paths must be from localhost or a netlify-integration-*.netlify.app domain. Please ensure the path is correct:",v),null):await F(v,"module")}))||[];return(await Promise.all(c)).filter(Boolean)}const t=D,r=u=>{let{surfaceName:c,packageKey:m,envVars:v,site:C,account:Z,notFoundFallbackComponent:te,renderErrorFallback:B,host:g,routeSplat:K,surfaceData:A,displayOnly:E,exposedFunctions:P,outset:V,isPreview:X}=u;var ne,ce,ae;const y=Z==null?void 0:Z.get("id"),p=(0,N.I)(),[z,ie]=(0,L.useState)(!1),[re,he]=(0,L.useState)(null),[de,fe]=(0,L.useState)(null),pe=(0,$.P)("project_paras_ui"),_e=(0,L.useMemo)(()=>C&&y?{reader:(0,G.g)({site:C,envVars:v}),writer:(0,G.S)({accountId:y,site:C,dispatch:p,envVars:v})}:void 0,[y,p,v,C]),[,be]=(0,L.useState)({}),[me]=(0,L.useState)(()=>new t({queryParams:pe?new URLSearchParams(window.location.search):void 0,surfaceName:c,exposedFunctions:P,envVarHandlers:_e,surfaceData:A,accountId:y,integrationSlug:re==null?void 0:re.integrationSlug,useIdentity:re==null?void 0:re.useIdentity,siteId:C==null?void 0:C.get("id"),siteName:C==null?void 0:C.get("name"),serverUrl:g,isPreview:X},()=>be({}))),Se=we=>{let{name:ve,value:w}=we;me.save(function(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{surfaceInputsData:Ee}=oe;return{...oe,surfaceInputsData:{...Ee,[ve]:w}}})};return(0,L.useEffect)(()=>{me.updateSurfaceHandlerProps({exposedFunctions:P,surfaceData:A,envVarHandlers:_e})},[me,P,A,_e]),(0,L.useEffect)(()=>()=>{me.cleanup()},[me]),(0,L.useEffect)(()=>{(async()=>{const ve=await(0,q.uF)({surfaceName:c,host:g,packageKey:m,routeSplat:K});if(!ve){ie(!0);return}const{config:w,surfaceRouteConfig:oe,surfaceConfig:Ee,matchedRouteKey:Ae,elementDirectory:Re}=ve;if(!w||!oe||!Ee){ie(!0);return}await me.onConfigLoaded({config:w,surfaceConfig:Ee,surfaceRouteConfig:oe,matchedRouteKey:Ae,elementDirectory:Re}),he(w||null),ie(!0)})().catch(ve=>fe(ve))},[m,K,c,me,g]),de?(0,d.jsx)("div",{className:V,children:(B==null?void 0:B(de))||(0,d.jsx)(M.Z,{error:de})}):z?!re||!((ne=me.state)!=null&&ne.surfaceConfig)||!((ce=me.state)!=null&&ce.surfaceRouteConfig)?(0,d.jsx)("div",{className:V,children:te||"surface package not found"}):(0,d.jsx)(T.Z,{integrationSlug:re.integrationSlug,config:re,surfaceRouteConfig:me.state.surfaceRouteConfig,envVars:v,account:Z,site:C,displayOnly:E,outset:V,onChange:Se,surfaceInputsData:(ae=me.state.surfaceInputsData)!=null?ae:{},surfaceConfig:me.state.surfaceConfig,surfaceData:me.state.surfaceData,surfaceHandler:me}):(0,d.jsx)("div",{className:V,children:"loading..."})}},35037:(ye,se,l)=>{l.d(se,{ZP:()=>J});var d=l(63851),L=l(26527),$=l(7857),N=l(83081);const M="http://analytics.services.netlify.com",T="v2",G=6,k=15,W=(0,L.cv)((0,$.EP)(new Date));class J{constructor(D){this.apiVersion=T,this.root=`${D.get("analyticsClientApiBase")}/${this.apiVersion}`||`${M}/${this.apiVersion}`}headers(D={}){return{"Content-Type":"application/json",...D}}parseJsonResponse(D){let j=!1;return D.json().then(F=>(j=!0,D.ok?F:Promise.reject(new d.Z(F||"Error fetching analytics data")))).catch(F=>j?Promise.reject(F):Promise.reject({status:D.status}))}parsePaginatedJsonResponse(D){let j=!1;return D.json().then(F=>{j=!0;const U=(0,N.f8)(F==null?void 0:F.next);return D.ok?{pagination:U,data:F}:Promise.reject(new d.Z(F||"Error fetching analytics data"))}).catch(F=>j?Promise.reject(F):Promise.reject({status:D.status}))}request(D,j={}){const F=j.parseJsonResponse||this.parseJsonResponse,U=this.headers(j.headers||{}),e=this.root+D;return fetch(e,{...{credentials:"include"},...j,headers:U}).then(F).catch(r=>{const{status:u,code:c,...m}=r,v=new d.Z({code:u||c,...m});return Promise.reject(v)})}pageviews(D,{from:j,to:F,resolution:U="day"}){return this.request(`/${D}/pageviews?from=${j}&to=${F}&timezone=${W}&resolution=${U}`)}uniqueVisitors(D,{from:j,to:F,resolution:U="day"}){return this.request(`/${D}/visitors?from=${j}&to=${F}&timezone=${W}&resolution=${U}`)}topLocations(D,{from:j,to:F,resolution:U="day"}){return this.request(`/${D}/ranking/countries?from=${j}&to=${F}&timezone=${W}`)}topSources(D,{from:j,to:F}){return this.request(`/${D}/ranking/sources?from=${j}&to=${F}&timezone=${W}&limit=${G}`)}topPages(D,{from:j,to:F}){return this.request(`/${D}/ranking/pages?from=${j}&to=${F}&timezone=${W}&limit=${k}`)}bandwidthUsed(D,{from:j,to:F,resolution:U="day"}){return this.request(`/${D}/bandwidth?from=${j}&to=${F}&timezone=${W}&resolution=${U}`)}realUserMetric(D,j,F="",{from:U,to:e,resolution:t="hour"}){const r=[`from=${U}`,`to=${e}`,`timezone=${W}`,`resolution=${t}`,F&&`device_type=${F}`].filter(Boolean);return this.request(`/${D}/rum/${j}?${r.join("&")}`)}notFound(D,{from:j,to:F}){return this.request(`/${D}/ranking/not_found?from=${j}&to=${F}&timezone=${W}&limit=${k}`)}async historicalFunctionLogs(D){const{branch:j,site_id:F,name:U,from:e,to:t,next_cursor:r,search:u}=D,c=(0,L.b4)({...r&&{cursor:r},...u&&{search:u},...e&&{from:String(e)},...t&&{to:String(t)}}),m=j?`branch/${(0,L.cv)(j)}/`:"";return this.request(`/sites/${F}/${m}function_logs/${(0,L.cv)(U)}?${c}`,{parseJsonResponse:this.parsePaginatedJsonResponse})}async historicalEdgeFunctionLogs(D){const{site_id:j,from:F,to:U,next_cursor:e,search:t}=D,r=(0,L.b4)({...e&&{cursor:e},...t&&{search:t},...F&&{from:String(F)},...U&&{to:String(U)}});return this.request(`/sites/${j}/edge_function_logs?${r}`,{parseJsonResponse:this.parsePaginatedJsonResponse})}}},88317:(ye,se,l)=>{l.d(se,{Lz:()=>$,TP:()=>k,V_:()=>W,Wc:()=>M,_w:()=>N,aN:()=>T,au:()=>G});var d=l(90046),L=l.n(d);const $={github:"github",bitbucket:"bitbucket",bitbucket_self_hosted:"bitbucket_self_hosted",gitlab:"gitlab",gitlab_self_hosted:"gitlab_self_hosted",github_app:"github_app",github_enterprise:"github_enterprise",google:"google",email:"email",azure_devops:"azure_devops"},N=(0,d.fromJS)({github:{id:$.github,name:"GitHub",description:"Authenticate users with GitHub and access GitHub\u2019s REST API",iconName:"github",labels:{api_id:"Client ID",client_id:"Client ID",secret:"Client secret"},active:!0,supports:{search:!0}},bitbucket:{id:$.bitbucket,name:"Bitbucket",description:"Authenticate users with Bitbucket and access their REST API",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Key",client_id:"Key",secret:"Secret"},active:!0,supports:{search:!0},hideGitUserFromRepoList:!0},bitbucket_self_hosted:{id:$.bitbucket_self_hosted,name:"Bitbucket Data Center and Server",shortName:"Bitbucket",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Application ID",client_id:"Client ID",secret:"Secret"},active:!1,selfhosted:!0,supports:{search:!0},hideGitUserFromRepoList:!0},gitlab:{id:$.gitlab,name:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},active:!0,supports:{search:!0}},gitlab_self_hosted:{id:$.gitlab_self_hosted,name:"GitLab self-managed",shortName:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},selfhosted:!0,supports:{search:!0},active:!1},github_app:{id:$.github_app,name:"GitHub App",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},active:!1},github_enterprise:{id:$.github_enterprise,name:"GitHub Enterprise",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},selfhosted:!0,active:!1},google:{id:$.google,name:"Google",iconColoredName:"google-colored",labels:{client_id:"Client ID",secret:"Client secret"},active:!1},email:{id:$.email,name:"Email",active:!1},azure_devops:{id:$.azure_devops,name:"Azure DevOps",iconName:"azure-devops",iconColoredName:"azure-devops-colored",active:!1,supports:{search:!0},hideGitUserFromRepoList:!0}}),M=N.toList().filter(J=>J.get("active")),T=N.toList().filter(J=>J.get("selfhosted")),G=J=>M.filterNot(q=>J&&J.find(D=>D.get("name")===q.get("id"))),k=J=>N.get(J)||(0,d.Map)({id:J,name:J,active:!1}),W=J=>{if(!J)return"";const q=N.get(J);return q==null?void 0:q.get("iconName")}},37306:(ye,se,l)=>{l.d(se,{Z:()=>W});var d=l(5780),L=l.n(d),$=l(25994),N=l.n($);function M(){return/^deploy-preview-/.test(window.location.hostname)?"deploy-preview":/--app.netlify.app$/.test(window.location.hostname)?"branch-deploy":(["staging","prod"].includes("prod"),"production")}const T={apiKey:"9b0542315c347c80d64e228583ec6dc2",appVersion:"6491e387b5341c0008548707",releaseStage:M(),collectUserIp:!1,enabledReleaseStages:["production","staging","branch-deploy","deploy-preview"],onError:J=>{var q;if(/pbjs\.|MetaMask/.test(J.errors[0].errorMessage)||J.errors[0].errorClass==="ChunkLoadError")return!1;const D=sessionStorage.getItem("routePath");D&&(J.context=D),(q=J.request.url)!=null&&q.includes("#")&&(J.request.url=J.request.url.split("#")[0])}};["development","test"].includes("production")&&(T.enabledBreadcrumbTypes=[]),T.enabledReleaseStages.includes("production")||(T.logger=null);const W={start:()=>{L().start({...T,plugins:[new(N())]})}}},54856:(ye,se,l)=>{l.d(se,{Z:()=>W});var d=l(34740),L=l(17552),$=l(28739),N=l(72746);const M="af6750c6",T=(...J)=>{};class G{constructor(){this.context={},this.didInit=!1,this.instance={addCallback:T,addContext:(q,D,j)=>{this.context[q]={value:D,searchOptions:j}},addEventHandler:T,addRouter:T,boot:T,open:T,removeContext:q=>{delete this.context[q]},shutdown:T,setCustomComponent:T,setSummonHotkey:T,setTheme:T,shareCallbacks:T}}setInstance(q){this.instance=q}async launch({accountSlug:q,dispatch:D,themePreference:j,setThemePreference:F,user:U}){if(this.didInit)return;this.didInit=!0;const e=U.get("id");if(!e){console.error("Attempted to launch command bar without a user id");return}const t=U.get("command_bar_signed_user_id"),{init:r}=await l.e(9016).then(l.t.bind(l,78767,23));await r(M),this.setInstance(window.CommandBar),Object.entries(this.context).forEach(([v,C])=>{const{value:Z,searchOptions:te}=C;this.instance.removeContext(v),this.instance.addContext(v,Z,te)}),this.setContext("accountSlug",q),this.setContext("add",[{label:"Add site from git",route:"/start"},{label:"Add site from a template",route:"/start-with-template"},{label:"Add site by manual deploy (drag and drop)",route:"/drop"}]),this.setContext("docs",[],N.$o),this.setContext("support",[],N.NK);const{Dark:u,Light:c,OS:m}=$.ThemePreference;return this.instance.addContext("theme",j),this.setTheme((0,L.g)(j)),this.instance.addCallback("theme",(v,C)=>{const te=(0,L.g)(C.theme)===u?c:u;F(te),this.setContext("theme",te),this.setTheme(te)}),this.instance.addCallback("theme-os",(v,C)=>{F(m);const Z=(0,L.g)(m);this.setContext("theme",Z),this.setTheme(Z)}),this.setContext("internal",(U.get("email")||"").endsWith("@netlify.com")),this.instance.addCallback("feedback",(v,C)=>{this.instance.shareCallbacks()["commandbar-open-feedback"]()}),this.instance.setCustomComponent("footer",N._7),this.instance.addEventHandler((v,C)=>(0,N.Zm)(D,{eventType:v,eventData:C,userId:e,accountSlug:q})),this.instance.addRouter(v=>d.mW.push(v)),this.instance.boot(e,{},{hmac:t})}setContext(q,D,j){this.instance.removeContext(q);const F=j?{searchOptions:{searchFunction:j}}:void 0;this.instance.addContext(q,D,F)}setTheme(q){this.instance.setTheme(`netlify-theme-${q}`)}setSummonHotkey(q){this.instance.setSummonHotkey(q)}open(){this.instance.open()}shutdown(){this.instance.shutdown(),this.didInit=!1}}const W=new G},95972:(ye,se,l)=>{l.d(se,{Ck:()=>J,DA:()=>k,L9:()=>K,N9:()=>q,Sd:()=>$,X:()=>L,ZP:()=>W,cz:()=>M,hh:()=>A,kB:()=>E,me:()=>T,p4:()=>D,sC:()=>G,ub:()=>P,w6:()=>j,yz:()=>N});var d=l(5837);const L="INVALID_FQDN",$="^[a-zA-Z0-9-.]+$",N="NETLIFY_ADDRESS_ERROR",M="NETLIFY",T="NETLIFYv6",G="MX",k="SPF",W="TXT",J="SRV",q="CAA",D="CNAME",j="tag",F="hostname",U="value",e="(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9(\\-)]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9](\\.?))$",t=`^${e}`,r=`^@$|^(\\*)$|^(\\*\\.)?${e}`,u=`^@$|${t}`,c="^(\\*)$|^(\\*\\.)?(([a-zA-Z0-9_]|[a-zA-Z0-9_][a-zA-Z0-9_\\-]*[a-zA-Z0-9_])\\.)*([A-Za-z0-9_]|[A-Za-z0-9_][A-Za-z0-9_\\-]*[A-Za-z0-9_](\\.?))$",m=`^@$|${c}`,v="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$",C="^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$",Z="(^issue$)|(^issuewild$)|(^iodef$)",B={A:v,AAAA:C,ALIAS:t,CNAME:c,MX:t,NS:t,SPF:"^(v=spf1).*$",SRV:t},g={CNAME:c,TXT:m,NS:u};function K(ae,y=U){switch(y){case U:return B[ae]||"";case j:return Z;case F:return g[ae]||r;default:return""}}function A(ae){return ae?Promise.all([l.e(7802).then(l.bind(l,19496)),Promise.resolve().then(l.bind(l,28770))]).then(([y,p])=>[y.default||y,p.default||p]).then(([y,p])=>{const z=y.parseDomain(y.fromUrl(ae));if(z.type!==d.xj.Listed)return null;let{subDomains:ie,domain:re,topLevelDomains:he}=z;return re||(ie=z.icann.subDomains,re=z.icann.domain,he=z.icann.topLevelDomains),re?{subdomain:p.toASCII(ie.join(".")),domain:p.toASCII(re),tld:p.toASCII(he.join("."))}:null}):Promise.resolve(null)}function E(ae){return A(ae).then(y=>{const{subdomain:p,domain:z,tld:ie}=y||{};return z?p==="www"?`${z}.${ie}`:p?null:`www.${z}.${ie}`:null})}function P(ae){return A(ae).then(y=>y?Promise.resolve(y):Promise.reject(L))}function V(ae){return(ae||"").toLowerCase().replace(/[^a-z0-9-]/,"").substr(0,35)}function X(ae){return(ae||"").toLowerCase().replace(/[^a-z0-9*.\n-]/,"").substr(0,255)}function ne(ae){const y=(ae||"").toLowerCase().replace(/[^0-9]+/,"").substr(0,255);return y?parseInt(y):0}function ce(ae){return ae}},39063:(ye,se,l)=>{l.d(se,{t:()=>L});function d($,N){return`/favicon-prod-remote-${$}-${N}.png`}function L($){var N;const M=document.querySelector("link[rel='icon'][type='image/x-icon']");M&&((N=M.parentNode)==null||N.removeChild(M));const T="link[rel='icon'][sizes]";(document.querySelectorAll(T)||[]).forEach(k=>{const W=k.getAttribute("sizes");k.setAttribute("href",d($,W))})}},25169:(ye,se,l)=>{l.d(se,{Ev:()=>R,Wx:()=>O,TR:()=>H,yU:()=>S});var d=l(65628),L=l(88317),$=l(26527);const N="https://app.vssps.visualstudio.com",M="https://dev.azure.com",T="7.0";function G(s){return{login:s.id,full_name:s.displayName,name:s.displayName}}function k(s){return{id:s.accountId,api_id:s.accountName,login:s.accountName,full_name:s.accountName}}function W(s){return s.value.map(k)}function J(s){return n=>{var i,o,a;return{id:n.id,api_id:n.id,full_name:`${s}/${n.project.name}/_git/${n.name}`,full_name_encoded:`${s}/${(0,$.cv)(n.project.name)}/_git/${(0,$.cv)(n.name)}`,full_name_ui:`${s}/${n.project.name}/${n.name}`,name:n.name,default_branch:U(n.defaultBranch),private:((i=n.project)==null?void 0:i.visibility)!=="public",project_name:(o=n.project)==null?void 0:o.name,project_id:(a=n.project)==null?void 0:a.id,organization_name:s}}}function q(s){return n=>{var i;return(i=n.value)==null?void 0:i.map(J(s))}}const D=["git.push","git.pullrequest.created","git.pullrequest.merged","git.pullrequest.updated"];function j(s){return U(s.name)}function F(s){var n;return(n=s.value)==null?void 0:n.map(j)}function U(s){return s==null?void 0:s.replace(/^refs\/heads\//,"")}function e(s){var n;return(n=s.value)==null?void 0:n.filter(i=>i.gitObjectType==="blob").map(i=>({...i,path:i.path.replace(/^\//,"")}))}function t(s){return s.content}function r(s){const n=s.headers.get("x-ms-continuationtoken");return n?{next:n}:null}class u{constructor(n,i,o){this.addDeployKey=(a,h,_)=>Promise.resolve(h),this.token=n,this.root=i||N,this.apiVersion=o||T}headers(n={}){return new Headers({"Content-Type":"application/json",Authorization:`Bearer ${this.token}`,...n})}parseJsonResponse(n,i){return n.json().then(o=>n.ok?{data:i?i(o):o,pagination:r(n)}:Promise.reject(o))}request(n,i={}){const o=this.headers(i.headers||{}),a=(0,$.b4)({...i.queryParams||{},"api-version":this.apiVersion});return fetch(`${i.root||this.root}${n}?${a}`,{method:i.method||"GET",headers:o,...i.body&&{body:i.body}}).then(h=>{var _,x;return(x=(_=h.headers)==null?void 0:_.get("Content-Type"))!=null&&x.match(/json/)?this.parseJsonResponse(h,i.format):h.text().then(Y=>({data:Y}))})}user(){return this.request("/_apis/profile/profiles/me",{format:G})}organizations({userLogin:n}){return this.request("/_apis/accounts",{queryParams:{memberId:n},format:W})}repos({organization:n}){return this.request(`/${(0,$.cv)(n)}/_apis/git/repositories`,{root:M,format:q(n)}).catch(()=>({data:[]}))}searchRepos(n){const{search:i}=n;return this.repos(n).then(o=>typeof o.data=="string"?o:{data:o.data.filter(({name:a,organization_name:h,project_name:_})=>`${h}/${_}/${a}`.toLowerCase().includes(i.toLowerCase()))})}branches({api_id:n,page:i,organization_name:o}){const a={$top:1e3,filter:"heads"};return i&&(a.continuationToken=i),this.request(`/${(0,$.cv)(o)}/_apis/git/repositories/${(0,$.cv)(n)}/refs`,{root:M,queryParams:a,format:F})}addWebhook({api_id:n,site:i,organization_name:o,project_id:a}){const h=Y=>this.request(`/${(0,$.cv)(o)}/_apis/hooks/subscriptions`,{method:"GET",root:M,queryParams:{publisherId:"tfs",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:Y}}).then(ue=>({eventType:Y,subscriptions:ue==null?void 0:ue.data})),_=({subscriptions:Y})=>Array.isArray(Y==null?void 0:Y.value)?!Y.value.some(ue=>{var ge,$e,Ie;return((ge=ue==null?void 0:ue.publisherInputs)==null?void 0:ge.projectId)===a&&(($e=ue==null?void 0:ue.publisherInputs)==null?void 0:$e.repository)===n&&((Ie=ue==null?void 0:ue.consumerInputs)==null?void 0:Ie.url)===i.deploy_hook}):!0,x=({eventType:Y})=>{const ue={publisherId:"tfs",resourceVersion:"1.0",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:Y,publisherInputs:{projectId:a,repository:n},consumerInputs:{url:i.deploy_hook}};return Y==="git.pullrequest.updated"&&(ue.publisherInputs.notificationType="PushNotification"),this.request(`/${(0,$.cv)(o)}/_apis/hooks/subscriptions`,{method:"POST",body:JSON.stringify(ue),root:M})};return Promise.all(D.map(h)).then(Y=>Y.filter(_)).then(Y=>Promise.all(Y.map(x))).then(()=>i).catch(function(Y){return Y.typeKey==="AccessCheckException"?{...i,webhooks_inactive:!0}:Promise.reject(Y)})}dir({organization_name:n,api_id:i,branch:o,filepath:a=""}){return this.request(`/${(0,$.cv)(n)}/_apis/git/repositories/${(0,$.cv)(i)}/items`,{root:M,queryParams:{"versionDescriptor.version":o,scopePath:a,recursionLevel:"oneLevel"},format:e})}read({organization_name:n,api_id:i,branch:o,filepath:a}){return this.request(`/${(0,$.cv)(n)}/_apis/git/repositories/${(0,$.cv)(i)}/items`,{root:M,queryParams:{"versionDescriptor.version":o,path:a,$format:"json",includeContent:!0},format:t})}}const c="https://api.bitbucket.org";function m(s){return s}function v(s){const{page:n,next:i,previous:o}=s;if(n&&(i||o))return{current:n,next:n+1,nextUrl:i}}function C(s){var n;return{id:s.full_name,api_id:s.full_name,full_name:s.full_name,name:s.name,description:s.description,private:s.is_private,scm:s.scm,default_branch:(n=s.mainbranch)==null?void 0:n.name,language:s.language,updated_at:s.updated_at}}function Z(s){return{data:s.data.values.map(C),pagination:s.pagination}}function te(s){return{id:s.slug,api_id:s.slug,login:s.slug,full_name:s.name,avatar:s.links.avatar.href}}function B(s){return{data:s.data.values.map(te).reverse(),pagination:s.pagination}}function g({data:s,pagination:n}){return{data:s.values.map(i=>i.name),pagination:n}}function K(s){return{data:s.data.values}}function A(s){return{login:s.username,full_name:s.username,name:s.display_name,avatar:s.links.avatar.href}}class E{constructor(n){this.token=n,this.root=c}headers(n={}){return{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json",...n}}parseJsonResponse(n,i){return n.json().then(o=>{if(!n.ok)return Promise.reject(o);const a=v(o);return{data:i(o),pagination:a}})}request(n,i={}){const o=this.headers(i.headers||{});return fetch(this.root+n,{...i,headers:o}).then(a=>{var h,_,x;return(x=(_=(h=a.headers).get)==null?void 0:_.call(h,"Content-Type"))!=null&&x.match(/json/)?this.parseJsonResponse(a,i.format||m):a.text().then(Y=>({data:Y}))})}user(){return this.request("/2.0/user",{format:A})}repos({organization:n,page:i,per_page:o,search:a}){const h="/2.0/repositories";let x=n?`${h}/${n}?pagelen=100&role=admin`:`${h}?pagelen=100&role=admin`;return a&&(x+=`&q=${(0,$.cv)(`name~"${a}"`)}`),this.request(x).then(Z)}repo(n){return this.request(`/2.0/repositories/${n}`,{format:C})}searchRepos(n){return this.repos(n)}branches({api_id:n,page:i=1}){return this.request(`/2.0/repositories/${n}/refs/branches?pagelen=100&page=${i}`).then(g)}organizations(){return this.request("/2.0/workspaces").then(B)}fetchAndFormatDir(n,i,o="",a="",h=[]){const _=a?`?page=${a}`:"";return this.request(`/2.0/repositories/${n}/src/${i}/${o}${_}`).then(x=>{var Y;const ue=K(x),ge=(Y=x.pagination)==null?void 0:Y.nextUrl,$e=ge&&new URLSearchParams(ge.split("?")[1]).get("page");return $e?this.fetchAndFormatDir(n,i,o,$e,h.concat(ue.data)):{data:h.concat(ue.data)}})}dir({full_name:n,branch:i,filepath:o=""}){return this.fetchAndFormatDir(n,i,o,"",[])}read({full_name:n,branch:i,filepath:o=""}){return this.request(`/2.0/repositories/${n}/src/${i}/${o}`).then(a=>({data:a.data,path:o}))}addDeployKey(n,i){return this.request(`/2.0/repositories/${n}/deploy-keys`,{method:"POST",body:JSON.stringify({label:"Netlify Deploy Key",key:i.public_key})}).then(()=>i)}addWebhook({api_id:n,site:i}){const o=`/2.0/repositories/${n}/hooks`;return this.request(o).then(a=>{if(a.data==="Forbidden")return Promise.reject(new Error("We couldn\u2019t set up continuous deployment for this repository. This typically happens when you don\u2019t have admin rights to the repository."));const h=a.data.values.find(x=>x.url===i.deploy_hook),_=["repo:push","pullrequest:created","pullrequest:updated","pullrequest:fulfilled","pullrequest:rejected","pullrequest:comment_created","pullrequest:comment_deleted","pullrequest:comment_updated"];return h&&_.sort().toString()!==h.events.sort().toString()?this.request(`${o}/${h.uuid}`,{method:"PUT",body:JSON.stringify({description:"Netlify Deploy Hook",url:i.deploy_hook,active:!0,events:_})}).then(()=>i):h?i:this.request(o,{method:"POST",body:JSON.stringify({description:"Netlify Deploy Hook",url:i.deploy_hook,active:!0,events:_})}).then(()=>i)})}}function P(s){return s}function V(s){const{start:n,isLastPage:i,limit:o,nextPageStart:a}=s,h=Math.floor(n/o);if(!(h===0&&i))return{current:h+1,isLastPage:i,next:h+2,nextPageStart:a}}function X(s){return{id:s.id,api_id:s.slug,organization_name:s.project.key,full_name:`${s.project.key}/${s.name}`,name:s.name,description:s.name,private:!s.public,scm:s.scmId}}function ne(s){return{data:s.data.values.map(X),pagination:s.pagination}}function ce(s){return{id:s.key,api_id:s.key,login:s.name,full_name:s.name}}function ae(s){return{data:s.data.values.map(ce),pagination:s.pagination}}function y({data:s,pagination:n}){return{data:s.values.map(i=>i.displayId),pagination:n}}function p(s){return{data:s.data.values.map(n=>({path:n}))}}function z(s){return{login:s.values[0].slug,full_name:s.values[0].displayName,name:s.values[0].name}}class ie{constructor(n,i,o){this.token=n,this.root=i,this.instanceUrl=o}parseJsonResponse(n,i){return n.json().then(o=>{if(!n.ok)return Promise.reject(o);const a=V(o);return{data:i(o),pagination:a}})}request(n,i){return fetch("/.netlify/functions/bitbucket-self-hosted",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:`${this.instanceUrl}${n}`,method:(i==null?void 0:i.method)||"GET",token:this.token,payload:i==null?void 0:i.payload})}).then(o=>{var a,h;return(h=(a=o==null?void 0:o.headers)==null?void 0:a.get("Content-Type"))!=null&&h.match(/json/)?this.parseJsonResponse(o,(i==null?void 0:i.format)||P):o.text().then(_=>({data:_}))})}user(){return this.request("plugins/servlet/applinks/whoami").then(n=>this.request(`users?filter=${n.data}`,{format:z}))}repos({organization:n,page:i=1,per_page:o=25,search:a}){let h;const _="repos";return a?h=`rest/api/latest/${_}?name=${(0,$.cv)(a)}&`:h=n?`projects/${n}/${_}?`:`${_}?`,h+=`limit=${o}&start=${(i-1)*o}`,this.request(h).then(ne)}repo({organization:n,full_name:i}){return this.request(`projects/${n}/repos/${i}`,{format:X})}searchRepos(n){return this.repos(n)}async branches({api_id:n,page:i=1,organization_name:o}){return this.request(`projects/${o}/repos/${n}/branches?pagelen=100&page=${i}`).then(y)}async organizations(){const i=async x=>this.request(`projects?limit=100&start=${x}`).then(ae);let o=0;const a=[];let h=!1,_;for(;!h;){const{data:x,pagination:Y}=await i(o);a.push(...x),Y!=null&&Y.nextPageStart?o=Y.nextPageStart:(h=!0,_={data:a,pagination:Y})}return _}fetchAndFormatDir(n,i,o,a="",h="",_=[]){const x=h?`?page=${h}`:"",Y=`projects/${n}/repos/${i}/files/${a}${x}`;return this.request(Y).then(ue=>{var ge;const $e=p(ue);return((ge=ue.pagination)==null?void 0:ge.nextPageStart)&&h?this.fetchAndFormatDir(n,i,o,a,String(parseInt(h)+1),_.concat($e.data)):{data:_.concat($e.data)}})}dir({organization_name:n,api_id:i,full_name:o,branch:a,filepath:h=""}){return this.fetchAndFormatDir(n,i,a,h,"",[])}read({organization_name:n,api_id:i,branch:o,filepath:a=""}){return this.request(`projects/${n}/repos/${i}/browse/${a}`).then(h=>({data:h.data.lines.map(x=>x.text).join(`
`),path:a}))}addDeployKey(n,i,o,a){return this.request(`rest/keys/latest/projects/${a}/repos/${n}/ssh`,{method:"POST",payload:{key:{text:i.public_key,label:"Netlify Deploy Key"},permission:"REPO_READ"}}).then(()=>i)}addWebhook({api_id:n,site:i,organization_name:o}){const a=`projects/${o}/repos/${n}/webhooks`;return this.request(a).then(h=>{if(h.data==="Forbidden")return Promise.reject(new Error("We couldn\u2019t set up continuous deployment for this repository. This typically happens when you don\u2019t have admin rights to the repository."));const _=h.data.values.find(Y=>Y.url===i.deploy_hook),x=["repo:refs_changed","pr:opened","pr:from_ref_updated","pr:modified","pr:merged","pr:comment:added","pr:comment:edited","pr:comment:deleted"];return _&&x.sort().toString()!==_.events.sort().toString()?this.request(`${a}/${_.uuid}`,{method:"PUT",payload:{description:"Netlify Deploy Hook",url:i.deploy_hook,active:!0,events:x}}).then(()=>i):_?i:this.request(a,{method:"POST",payload:{description:"Netlify Deploy Hook",url:i.deploy_hook,active:!0,events:x}}).then(()=>i)})}}var re=l(63851),he=l(83081);const de="https://api.github.com";function fe(s){return s}function pe(s){return{id:s.id,api_id:s.full_name,full_name:s.full_name,name:s.name,description:s.description,private:s.private,default_branch:s.default_branch,owner_type:s.owner.type,language:s.language,updated_at:s.updated_at}}function _e(s){return s.map(pe)}function be(s){return _e(s.items)}function me(s){return{id:s.id,api_id:s.login,login:s.login,full_name:s.full_name,avatar:s.avatar_url}}function Se(s){return s.map(me)}function we(s){return{login:s.login,full_name:s.login,name:s.name,avatar:s.avatar_url}}class ve{constructor(n,i){this.token=n,this.root=(i||de).replace(/\/$/,"")}headers(n={}){const i=new Headers({"Content-Type":"application/json",...n});return this.token&&i.set("Authorization",`token ${this.token}`),i}parseJsonResponse(n,i){return n.json().then(o=>{if(!n.ok)return Promise.reject(o);const a=(0,he.ot)(n);return{data:i(o),pagination:a}})}request(n,i={}){const o=this.headers(i.headers||{});return fetch(this.root+n,{...i,headers:o}).then(a=>{var h,_;return(_=(h=a.headers)==null?void 0:h.get("Content-Type"))!=null&&_.match(/json/)?this.parseJsonResponse(a,i.format||fe):a.text().then(x=>({data:x}))})}user(){return this.request("/user",{format:we})}repos({organization:n,page:i,per_page:o}){let a=n?`/orgs/${n}/repos`:"/user/repos";return a+=`?page=${i}&per_page=${o}`,this.request(a,{format:_e})}repo(n){return this.request(`/repos/${n}`,{format:pe})}searchRepos({search:n,organization:i}){let o=`/search/repositories?q=${(0,$.cv)(n)}`;return i?(o+=`+user:${i}+fork:true`,this.request(o,{format:be})):this.user().then(a=>(o+=`+user:${a.data.login}+fork:true`,this.request(o,{format:be})))}branches({api_id:n,page:i=1}){return this.request(`/repos/${n}/branches?page=${i}&per_page=100`).then(({data:o,pagination:a})=>({data:o.map(h=>h.name),pagination:a}))}organizations(){return this.request("/user/orgs?page=1&per_page=100",{format:Se})}dir({full_name:n,branch:i,filepath:o=""}){let a=`/repos/${n}/contents/${o}`;return i&&(a+=`?ref=${i}`),this.request(a)}read({full_name:n,branch:i="",filepath:o=""}){const a={Accept:"application/vnd.github.VERSION.raw"};let h=`/repos/${n}/contents/${o}`;return i&&(h+=`?ref=${i}`),this.request(h,{headers:a}).then(_=>({data:_.data,path:o}))}addDeployKey(n,i,o){const a={title:"Netlify Deploy Key",key:i.public_key,read_only:o};return this.request(`/repos/${n}/keys`,{method:"POST",body:JSON.stringify(a)}).then(()=>i)}addWebhook({api_id:n,site:i}){const o={name:"web",active:!0,events:["delete","push","pull_request","create","issue_comment","pull_request_review","pull_request_review_comment"],config:{url:i.deploy_hook,content_type:"json"}};return this.request(`/repos/${n}/hooks`,{method:"POST",body:JSON.stringify(o)}).then(()=>i).catch(a=>a.errors&&a.errors[0]&&a.errors[0].message&&a.errors[0].message.match(/already/)?i:Promise.reject(a))}createRepo(n){const i={name:n.name,description:n.description,homepage:n.url,private:!!n.private};return this.request("/user/repos",{method:"POST",body:JSON.stringify(i)}).then(o=>pe(o.data)).catch(o=>{const a=o.errors&&o.errors[0]&&/already exists/.test(o.errors[0].message)?"Repository name already exists on this account":o.message||"Repository creation failed";throw new re.Z(a)})}}const w=s=>n=>({id:n.id,api_id:n.full_name,full_name:n.full_name,name:n.name,description:n.description,private:n.private,installation_id:s,default_branch:n.default_branch,owner_type:n.owner.type,language:n.language,updated_at:n.updated_at}),oe=s=>n=>n.repositories.map(w(s)),Ee=(s,n)=>{const i=new RegExp(s,"i");return o=>a=>a.repositories.reduce((h,_)=>(i.test(_.full_name)&&h.push(w(o)(_)),h),n)},Ae=s=>{const n=s.account;return{id:s.id,api_id:n.login,login:n.login,full_name:n.login,avatar:n.avatar_url,installation_id:s.id,target_type:s.target_type,repository_selection:s.repository_selection}},Re=s=>s.installations.map(Ae),De=(s,n)=>{const i=s.full_name.toUpperCase(),o=n.full_name.toUpperCase();return i<o?-1:i>o?1:0},Te=()=>new Date().getTime();class Oe{constructor(n,i){this.request=(o,a)=>this.github.request(o,a),this.installations=()=>this.request(`/user/installations?page=1&per_page=100&v=${Te()}`,{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:Re}).catch(o=>({data:[],pagination:{}})),this.findInstallation=(o,a)=>this.installations().then(h=>h.data).then(h=>h.find(_=>o===_.login)||a&&h.find(_=>_.target_type==="Organization")),this.findInstallationId=o=>{let{login:a,installationId:h}=o;return h?Promise.resolve(h):this.findInstallation(a).then(_=>_&&_.id)},this.findInstallationRepos=o=>{let{installationId:a,page:h,per_page:_,format:x}=o;return a?this.request(`/user/installations/${a}/repositories?page=${h}&per_page=${_}&v=${Te()}`,{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:x(a)}).catch(Y=>({data:[],pagination:{}})):Promise.resolve({data:[],pagination:{}})},this.user=()=>this.github.user().then(o=>{let{data:a}=o;return this.findInstallation(a.login,!0).then(h=>({data:{...a,installation_id:h&&h.login===a.login&&h.id,installation:h}}))}),this.organizations=()=>this.installations().then(o=>({data:o.data.filter(a=>a.target_type==="Organization"),pagination:{}})),this.repos=o=>{let{organization:a,page:h,per_page:_,installationId:x,gitUser:Y,format:ue=oe}=o;return this.findInstallationId({login:a||Y.get("login"),installationId:x}).then(ge=>this.findInstallationRepos({installationId:ge,page:h,per_page:_,format:ue}))},this.searchRepos=o=>{let{search:a,...h}=o;if(!a)return this.repos(...h);const _=[],x={...h,per_page:100,format:Ee(a,_)};return this.repos({...x,page:1}).then(Y=>{let{pagination:ue}=Y;const ge=[],$e=(ue==null?void 0:ue.last)||1;for(let Ie=2;Ie<=$e;Ie++)ge.push(this.repos({...x,page:Ie}));return Promise.all(ge)}).then(Y=>({data:_.sort(De),pagination:{}}))},this.repo=o=>this.github.repo(o),this.createRepo=o=>o.template?this.github.createRepo(o):this.user().then(a=>{const{installation_id:h,repository_selection:_}=a.data;if(_!=="all")throw new re.Z("Can't create a repo for the current app installation.");return this.request("/user/repos",{method:"POST",body:JSON.stringify({name:o.name,description:o.description,homepage:o.url})}).then(x=>w(h)(x.data))}),this.dir=o=>{let{full_name:a,branch:h,filepath:_}=o;return this.github.dir({full_name:a,branch:h,filepath:_})},this.read=o=>{let{full_name:a,branch:h,filepath:_}=o;return this.github.read({full_name:a,branch:h,filepath:_})},this.branches=o=>{let{api_id:a,page:h}=o;return this.github.branches({api_id:a,page:h})},this.addDeployKey=(o,a,h)=>Promise.resolve(a),this.addWebhook=o=>{let{site:a}=o;return Promise.resolve(a)},this.github=new ve(n,i)}}const Ne="https://gitlab.com/api/v4";function ke(s){return s}function Ce(s){return{id:s.id,api_id:s.id,full_name:s.path_with_namespace,name:s.name,description:s.description,default_branch:s.default_branch,private:s.visibility==="private",updated_at:s.updated_at}}function I(s){return s.map(Ce)}function ee(s){return{id:String(s.id),api_id:String(s.id),login:s.name,full_name:s.full_name,avatar:s.avatar_url}}function Q(s){return s.map(ee)}function le(s){return{login:s.username,full_name:s.username,name:s.name,avatar:s.avatar_url}}class b{constructor(n,i){this.token=n,this.root=i||Ne}headers(n={}){return{"Content-Type":"application/json",...this.token?{Authorization:`Bearer ${this.token}`}:{},...n}}parseJsonResponse(n,i){return n.json().then(o=>{if(!n.ok)return Promise.reject(o);const a=(0,he.ot)(n);return{data:i(o),pagination:a}})}request(n,i={}){const o=this.headers(i.headers||{});return fetch(this.root+n,{...i,headers:o}).then(a=>{var h,_;return(_=(h=a==null?void 0:a.headers)==null?void 0:h.get("Content-Type"))!=null&&_.match(/json/)?this.parseJsonResponse(a,i.format||ke):a.text().then(x=>({data:x}))})}user(){return this.request("/user",{format:le})}repos({organization:n,page:i,per_page:o,search:a,scopeCurrentUser:h=!0}){let _=n?`/groups/${n}/projects?`:"/projects?min_access_level=40&";return _+=`page=${i}&per_page=${o}`,a&&(_+=`&search=${(0,$.cv)(a)}`),h&&!n?this.user().then(x=>{const Y=`/users/${x.data.login}${_}`;return this.request(Y,{format:I})}):this.request(_,{format:I})}repo(n){return this.request(`/projects/${(0,$.cv)(n)}`,{format:Ce})}searchRepos(n){return this.repos(n)}branches({api_id:n,page:i=1}){return this.request(`/projects/${(0,$.cv)(n)}/repository/branches?per_page=100&page=${i}`).then(({data:o,pagination:a})=>({data:o.map(h=>h.name),pagination:a}))}organizations({per_page:n=100,prefetchedData:i=[],page:o=1}={}){return this.request(`/groups?per_page=${n}&page=${o}`,{format:Q}).then(({data:a,pagination:h})=>{const _=h==null?void 0:h.next,x=i.concat(a);return _?this.organizations({per_page:n,prefetchedData:x,page:_}):{data:x,pagination:h}})}dir({full_name:n,branch:i,filepath:o=""}){let a=`/projects/${(0,$.cv)(n)}/repository/tree?per_page=100`,h="";const _=[];return i&&_.push(`ref=${i}`),o&&(_.push(`path=${o}`),h=o+"/"),_&&(a+=`&${_.join("&")}`),this.request(a).then(x=>({data:x.data.map(Y=>({path:h+Y.name}))}))}read({full_name:n,branch:i,filepath:o=""}){let a;return new RegExp(/^.*\.[^\\]+$/).test(o)?(a=`/projects/${(0,$.cv)(n)}/repository/files`,o&&(a+=`/${(0,$.cv)(o)}`),a+=`?ref=${i}`):(a=`/projects/${(0,$.cv)(n)}/repository/tree?path=${o}`,a+=`&ref=${i}`),this.request(a).then(_=>{if(_.data.length){const x=_.data.find(Y=>(Y==null?void 0:Y.type)==="tree");return{data:[{path:x==null?void 0:x.path,type:"dir"}],path:o}}return{data:window.atob(_.data.content),path:o}})}addDeployKey(n,i,o){const a=`/projects/${(0,$.cv)(n)}/deploy_keys`,h={title:"Netlify Deploy Key",key:i.public_key,can_push:!o};return this.request(a,{method:"POST",body:JSON.stringify(h)}).then(new Promise(_=>{setTimeout(()=>{_(i)},1e4)})).then(()=>i)}addWebhook({api_id:n,site:i}){const o=`/projects/${(0,$.cv)(n)}/hooks`,a={url:i.deploy_hook,push_events:!0,merge_requests_events:!0,note_events:!0,enable_ssl_verification:!0};return this.request(o,{method:"POST",body:JSON.stringify(a)}).then(()=>i).catch(function(h){return Promise.reject(h)})}checkErrorForInvalidToken(n){if(n.error==="invalid_token")return{code:401,message:"Your access token has expired. Please reconnect to GitLab to continue."}}createRepo(n){const i={name:n.name,description:n.description};return n.private&&(i.visibility="private"),this.request("/projects",{method:"POST",body:JSON.stringify(i)}).then(o=>Ce(o.data)).catch(o=>{const a=this.checkErrorForInvalidToken(o);if(a)throw new re.Z(a);const h=o.message&&/taken/.test(String(o.message.name))?"Repository name already exists on this account":"Repository creation failed";throw new re.Z(h)})}}const f={github:ve,github_app:Oe,github_enterprise:Oe,gitlab:b,gitlab_self_hosted:b,bitbucket:E,bitbucket_self_hosted:ie,azure_devops:u};function S(s){return{"github.com":L.Lz.github,"gitlab.com":L.Lz.gitlab,"bitbucket.org":L.Lz.bitbucket,"dev.azure.com":L.Lz.azure_devops}[s]}function R(s){const n=(0,d.oI)(s),i=(0,d.Gu)(s),o=(0,d.qq)(s),a=(0,d.HN)(s);return O(n,i,o,a)}function O(s,n,i,o){if(s){const a=f[s];if(a){const h=new a(n,i,o);return h.provider=s,h}}}function H(s,n){return{github:`https://github.com/${n}`,gitlab:`https://gitlab.com/${n}`,bitbucket:`https://bitbucket.org/${n}`,azure_devops:void 0}[s]}},17749:(ye,se,l)=>{l.d(se,{q:()=>$});var d=l(40917);function L(){}class ${constructor({appId:M,onAppInstall:T,enterpriseUrl:G=""}){this.messageHandler=k=>{const W=k&&k.data;if(/^installation:ready:/.test(W)){const[J,q,D]=W.match(/^installation:ready:(\d+):([\w-]+)$/);this.onAppInstall({installationId:Number(q),login:D}),this.close()}},this.open=()=>{window.addEventListener("message",this.messageHandler,!1),(0,d.xw)({provider:this.provider,url:this.url})},this.close=()=>{this.cleanup()},this.cleanup=()=>{window.removeEventListener("message",this.messageHandler,!1),(0,d.on)()},this.appId=M||"netlify",this.onAppInstall=T||L,this.url=G?`${G.replace(/\/$/,"")}/github-apps/netlify/installations/new`:`https://github.com/apps/${this.appId}/installations/new`,this.provider=G?"github_enterprise":"github_app"}}},22616:(ye,se,l)=>{l.d(se,{ZP:()=>K,yl:()=>k});var d=l(5780),L=l.n(d),$=l(75033),N=l.n($);const M=()=>l.e(9689).then(l.t.bind(l,92133,23)),G={listFrameworks:async function(A){return(await M()).listFrameworks(A)}},k=["netlify.toml","package.json",".nvmrc",".node_version","netlify","functions",".lfsconfig","Gemfile"],W="dist/",J="v16.19.1",q={"jekyll with no gemfile":`It looks like this is a **Jekyll** site, but you don't have a **Gemfile**.
This will most likely lead to a broken build.
Check out our [Migrating your Jekyll site to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your site.`,"jekyll not in gemfile":`It looks like this is a **Jekyll** site, but your **Gemfile** doesn\u2019t list
Jekyll as a dependency. This will most likely lead to a broken build.
Check out our [Migrating your Jekyll site to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your site.`,"error parsing package.json":`You have a malformed package.json in your folder. This will most likely lead to a
broken build when attempting to install your npm dependencies.`,"repository uses large media":`**This repository uses Netlify Large Media**

Repository files tracked by the Large Media service are stored with the original site. These files cannot be accessed in clones or forks. Contact the original repository owner for possible alternatives.`},U=[(A,E)=>{if(E["package.json"])try{JSON.parse(E["package.json"])}catch{return q["error parsing package.json"]}},(A,E)=>{if(A.includes("_config.yml")&&!(A.includes("_config.yml")&&E["package.json"]&&E["package.json"].match(/hexo/))){if(!E.Gemfile)return q["jekyll with no gemfile"];if(!E.Gemfile.match(/('jekyll'|"jekyll"|'github-pages'|"github-pages")/))return q["jekyll not in gemfile"]}},(A,E,P)=>{if(!E[".lfsconfig"]||!P)return;if(/\.netlify\/large-media/.test(E[".lfsconfig"]))return q["repository uses large media"]}];function e(A=[],E={},P){for(const V in U){const X=U[V](A,E,P);if(X)return X}}const t=({plugins:A=[],context:E={}})=>{const P=A;return Object.keys(E).forEach(V=>{E[V].plugins&&P.push(...E[V].plugins)}),[...new Set(P.map(V=>V.package))]},r=A=>{var E,P;if(!A)return{};const V={};let X;try{X=N().parse(A)}catch(ce){return L().notify(ce,ae=>{ae.context="getNetlifyTomlSettings => TOML.parse",ae.severity="info"}),V}X!=null&&X.build&&(V.cmd=X.build.command,V.dir=X.build.publish),V.functions_dir=((E=X==null?void 0:X.build)==null?void 0:E.functions)||((P=X==null?void 0:X.functions)==null?void 0:P.directory),X!=null&&X.template&&(V.template=X.template);const ne=t(X);return ne.length&&(V.plugins_installed=ne),V},u=(A,E)=>{var P;if(!E["package.json"])return{};let V;try{V=JSON.parse(E["package.json"])}catch{return{}}const X=A.includes("yarn.lock")?"yarn":"npm run";return(P=V==null?void 0:V.scripts)!=null&&P.build?{cmd:`${X} build`}:{}},c=(A,E)=>{var P;const V=ce=>{const ae=ce.startsWith("./")?ce.slice(2):ce;return A.includes(ae)},X=((P=E[".nvmrc"])==null?void 0:P.trim())||J;let ne;try{ne=E["package.json"]?JSON.parse(E["package.json"]):{}}catch{ne={}}return{pathExists:V,packageJson:ne,nodeVersion:X}},m=async(A,E)=>{try{const P=c(A,E),V=await G.listFrameworks(P),X={};if(V.length){const{build:ne,id:ce,name:ae,plugins:y}=V[0];X.cmd=ne.commands[0],X.dir=ne.directory,X.framework=ce,X.frameworkName=ae,X.plugins_recommended=y}return X}catch(P){throw new Error(`Error getting framework information: ${P}`)}};function v(A){const E=A.netlify,P=A.functions;if((!E||!Array.isArray(E))&&(!P||!Array.isArray(P)))return null;if(E){for(const V of E)if(V.path==="netlify/functions"&&V.type==="dir")return{functions_dir:V.path};if(!P)return null}return{functions_dir:"functions"}}const C=A=>{const E={},P=v(A);return P||E},Z=(A,E,P,V)=>{const X=[A,E,P,V],ne={cmd:void 0,dir:void 0,template:void 0,functions_dir:void 0,plugins_installed:void 0,plugins_recommended:void 0,framework:void 0,frameworkName:void 0};return X.forEach(ce=>{ce&&Object.keys(ce).forEach(ae=>{ne[ae]=ne[ae]||ce[ae]})}),!ne.dir&&ne.cmd&&(ne.dir=W),ne},te=(A=[],E=[],P=[])=>E.reduce((V,X)=>A.includes(X)&&!P.includes(X)?V:[...V,{package:X}],[]),B=async(A=[],E={})=>{const P=r(E["netlify.toml"]),V=u(A,E),X=await m(A,E),ne=C(E),ce=Z(P,V,X,ne),ae=["@netlify/plugin-nextjs"];return ce.plugins=te(P==null?void 0:P.plugins_installed,X==null?void 0:X.plugins_recommended,ae),ce},K=async(A,E,P)=>{const V=e(A,E,P);return{settings:await B(A,E),warning:V}}},83360:(ye,se,l)=>{l.d(se,{R:()=>L});var d=l(52552);class L extends d.Wd{constructor(N,M){super(),this.git=N,this.details=M,this.fileCache=new Map,this.dirCache=new Map,this.pending=new Map}changeBranch(N){this.details.branch=N,this.fileCache=new Map,this.dirCache=new Map,this.pending=new Map}getEnvironment(){return"browser"}isAbsolute(N){return N.startsWith("/")}resolve(...N){const M=this.join(...N);return this.isAbsolute(M)?M:this.join(this.cwd,M)}async fileExists(N){try{return this.readFile(N),!0}catch{return!1}}async readDir(N,M){const T=this.resolve(N).replace(/^\//,""),G=this.dirCache.get(T);let k;if(G)k=G;else{const W=this.pending.get(T);if(W)k=await Promise.resolve(W);else{const J=this.git.dir({...this.details,filepath:T}).then(q=>q.data);this.pending.set(T,J),k=await J,this.dirCache.set(T,k),this.pending.delete(T)}}return M?k.reduce((W,J)=>({...W,[J.name]:J.type==="dir"?"directory":"file"}),{}):k.map(({name:W})=>W)}async readFile(N){const M=this.resolve(N).replace(/^\//,""),T=this.fileCache.get(M);if(T)return T;const G=this.pending.get(M);if(G)return await Promise.resolve(G);const k=this.git.read({...this.details,filepath:M}).then(J=>J.data);this.pending.set(M,k);const W=await k;return this.fileCache.set(M,W),this.pending.delete(M),W}}},46822:(ye,se,l)=>{l.d(se,{u:()=>U});var d=l(63851);const L=2e4,$={authDomain:"netlify.firebaseapp.com",projectId:"firebase-netlify",storageBucket:"firebase-netlify.appspot.com",messagingSenderId:"344466503271"};function N(e){const{databaseURL:t}=e;return new Promise((r,u)=>{Promise.all([l.e(1326).then(l.bind(l,25353)),l.e(1326).then(l.bind(l,76545))]).then(([c,m])=>{const{getApp:v,initializeApp:C}=c;let Z;try{Z=v(t)}catch{Z=C({...$,...e},t)}return[Z,m]}).then(r).catch(c=>{console.error("Error loading Firebase",c),u(c)})})}function M(e){console.error(e)}class T{constructor(t){this.endpoint=t.endpoint,this.path=t.path.replace(/\./g,"-"),this.startAt=t.startAt,this.token=t.token}listen(t,r=M){let u=!1;setTimeout(()=>{!u&&r(new d.Z("Connection timed out"))},L);const c={apiKey:this.token,databaseURL:this.endpoint};N(c).then(([m,v])=>{const{getDatabase:C,query:Z,ref:te,orderByChild:B,startAt:g,onChildAdded:K,onValue:A}=v,E=C(m);this.api=Z(te(E,this.path),B("ts"),g(this.startAt)),K(this.api,P=>{u=!0,t(P.val())}),A(this.api,()=>{u||(u=!0,t())})})}close(){this.api&&this.api.off&&this.api.off()}}var G=l(40917),k=l(32587);function W(e){console.error(e)}const J="/build/logs",q="/function/logs",D="/edge-function/logs";class j{constructor(t){switch(t.resource){case k.Z.BUILD:this._initBuildLog(t);break;case k.Z.FUNCTION:this._initFunctionLog(t);break;case k.Z.EDGE_FUNCTION:this._initEdgeFunctionLog(t);break;default:throw new Error("unknown log type")}}_initBuildLog(t){this.path=J,this.subscribeMsg={deploy_id:t.deployId,site_id:t.siteId}}_initFunctionLog(t){this.path=q,this.subscribeMsg={account_id:t.awsAccountId,function_id:t.functionId,site_id:t.siteId,from:t.fromDatetime,to:t.toDatetime}}_initEdgeFunctionLog(t){this.path=D,this.subscribeMsg={deploy_id:t.deployId,site_id:t.siteId,since:new Date(Date.now()-5*60*1e3).toISOString(),use_v2:t.useV2}}async _getAccessControlToken(){return(0,G.z9)()?(0,G.$f)().then(t=>{this.subscribeMsg&&t&&(this.subscribeMsg.access_token=t)},t=>{console.error(t)}):Promise.resolve()}listen(t,r=W){const u=`wss://socketeer.services.netlify.com${this.path}`;this.ws=new WebSocket(u),this.ws.addEventListener("open",()=>{this._getAccessControlToken().then(()=>{this.ws.send(JSON.stringify(this.subscribeMsg))}).catch(c=>{console.error(c)})}),this.ws.addEventListener("message",({data:c})=>{try{const{ts:m,message:v,type:C,request_id:Z,level:te,request_path:B,function:g,section:K}=JSON.parse(c);if(C==="start")return;t({ts:m,type:C,log:v,requestId:Z,level:te,requestPath:B,functionName:g,...K&&{section:K}})}catch(m){r(m)}}),this.ws.addEventListener("error",r)}close(){!this.ws||this.ws.readyState===WebSocket.CLOSED||(this.ws.close(),this.ws=null)}}const F={firebase:T,socketeer:j};function U(e){const t=F[e.type];return t&&new t(e)}},32587:(ye,se,l)=>{l.d(se,{Z:()=>L});const L={BUILD:"build",FUNCTION:"function",EDGE_FUNCTION:"edgeFunction"}},21805:(ye,se,l)=>{l.d(se,{EN:()=>k,TH:()=>M,hZ:()=>d,iJ:()=>$,nU:()=>L,oF:()=>G});const d="Owner",L="Collaborator",$="Controller",N="Git Contributor",M="Reviewer",T=(W,J)=>{const q=W.find(D=>D.role===J);return q?q.counts.total:0},G=({memberRoles:W,excludeActive:J=!1})=>W.reduce((q,D)=>{var j;return D.billable?((j=D.counts)==null?void 0:j.active)!==void 0?J?q:q+D.counts.active:q+D.counts.total:q},0),k=W=>T(W,M)},13332:(ye,se,l)=>{l.d(se,{Z:()=>F});var d=l(63851),L=l(82214),$=l(26527),N=l(53562),M=l(21805),T=l(83081);const G="https://api.netlify.com",k="/api/v1",W="/api/experiments",J="netlify.app",q=15,D=["headers","parseJsonResponse","request","postRequest"],j=`We\u2019re having some trouble connecting you to Netlify.

This error may be caused by an ad blocker or browser extension. You can try disabling blocking on this page or running in incognito`;class F{constructor(e){return this.token=e.get("accessToken"),this.apiBase=e.get("apiBase"),this.root=e.get("clientApiBase")||e.get("apiBase")||G,this.mockRoot=e.get("mockApiBase"),this.siteDomain=e.get("siteDomain")||J,this.siteId=e.get("siteId"),new Proxy(this,{get(t,r,...u){if(typeof t[r]=="function"&&!D.includes(r.toString())){const c=Reflect.get(t,r,...u),m=r.toString();return function(...C){const Z=(0,N.I7)(`api-${m}-start`),te=c.apply(t,C);return te.then?new Promise((B,g)=>{te.then(K=>{const A=(0,N.I7)(`api-${m}-end`,{rejected:!1});return(0,N.KT)(`api-${m}-complete`,Z,A),B(K)}).catch((...K)=>{const A=(0,N.I7)(`api-${m}-end`,{rejected:!0});return(0,N.KT)(`api-${m}-complete`,Z,A),g(...K)})}):te}}return Reflect.get(t,r,...u)}})}headers(e={},t,r){const u={};return(this.token||r)&&!t&&(u.Authorization=`Bearer ${r||this.token}`),{"Content-Type":"application/json",...u,...e}}parseJsonResponse(e){let t=!1;return e.json().then(r=>(t=!0,e.ok?{data:r,pagination:(0,T.ot)(e)}:Promise.reject(r))).catch(r=>t?Promise.reject(r):Promise.reject({status:e.status}))}async request(e,t={}){const r=!t.forceUseApiBase;let u;t.forceUseApiBase&&(0,L.W8)()&&(u=await(0,L.ZD)());const c=this.headers(t.headers||{},r,u);c["Content-Type"]==="delete"&&delete c["Content-Type"];let m=t.forceUseApiBase&&this.apiBase?this.apiBase:this.root;t.retryWithMockServer&&this.mockRoot&&(m=this.mockRoot);let v=t.noPrefix?m+e:m+(t.prefix||k)+e;const C={};return r&&(C.credentials="include"),fetch(v,{...C,...t,headers:c}).then(Z=>{if(t.raw&&Z.ok)return Z.arrayBuffer();const te=Z.headers.get("Content-Type");if(te&&te.match(/json/))return this.parseJsonResponse(Z);const B=te&&te.match(/(text|javascript|xml|svg)/i)?"text":"arrayBuffer";return Z[B]().then(g=>Z.ok?{data:g}:Promise.reject(Z))}).catch(Z=>{let te;if(/Failed to fetch/.test(Z))te=new d.Z(j);else{const{status:B,code:g,...K}=Z;te=new d.Z({code:B||g,...K})}return Promise.reject(te)})}postRequest(e,t){const r={method:"POST"};return t&&(r.body=t),this.request(e,r)}enableAnalytics(e){return this.request(`/sites/${e}/analytics`,{method:"POST"})}deleteAnalytics(e,t){return this.request(`/sites/${e}/analytics/${t}`,{method:"DELETE"})}site(e){return this.request(`/sites/${e}.${this.siteDomain}`)}siteFirewallRuleSet(e){return this.request(`/sites/${e}/firewall_rule_set`)}updateSiteFirewallRuleSet(e,t){return this.request(`/sites/${e}/firewall_rule_set`,{method:"PUT",body:JSON.stringify(t)})}unlinkSiteRepository(e){return this.request(`/sites/${e}/unlink_repo`,{method:"PUT"})}siteById(e){return this.request(`/sites/${e}`)}sites({page:e,perPage:t,searchTerm:r,searchGlobally:u,sortBy:c,accountSlug:m,token:v}){let C="";return!u&&m&&(C+=`/${m}`),C+=`/sites?filter=all&sort_by=${c||"updated_at"}&page=${e||1}&per_page=${t||q}`,r&&(C+=`&name=${r}`),v&&(C+=`&token=${v}`),C+="&include_favorites=true",this.request(C)}siteSnippets(e){return this.request(`/sites/${e}/snippets`)}siteSnippetRemove(e,t){return this.request(`/sites/${e}/snippets/${t}`,{method:"DELETE"})}siteSnippetAdd(e,t){return this.postRequest(`/sites/${e}/snippets`,JSON.stringify(t))}siteBuildHooks(e){return this.request(`/sites/${e}/build_hooks`)}addBuildHook(e,t){return this.request(`/sites/${e}/build_hooks`,{method:"POST",body:JSON.stringify(t)})}removeBuildHook(e,t){return this.request(`/sites/${e}/build_hooks/${t}`,{method:"DELETE"})}branches(e){return this.request(`/sites/${e}/deployed-branches`)}getEnvVars({accountId:e="",siteId:t="",scope:r="all",context:u="all",merge:c=!0}){const m=[t&&`site_id=${t}`,`scope=${r}`,`context=${u}`,c&&"level=all"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env?${m}`)}createEnvVars({accountId:e="",siteId:t="",envVars:r=[]}){const u=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env?${u}`,{method:"POST",body:JSON.stringify(r)})}updateEnvVar({accountId:e="",siteId:t="",oldKey:r="",newKey:u="",is_secret:c=!1,scopes:m=[],values:v=[]}){const C=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${r}?${C}`,{method:"PUT",body:JSON.stringify({key:u,is_secret:c,scopes:m,values:v})})}setEnvVarValue({accountId:e="",siteId:t="",key:r="",context:u="",context_parameter:c,value:m=""}){const v=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${r}?${v}`,{method:"PATCH",body:JSON.stringify({context:u,context_parameter:c,value:m})})}deleteEnvVar({accountId:e="",siteId:t="",key:r="",id:u=""}){const c=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${r}${u?`/value/${u}`:""}?${c}`,{method:"DELETE"})}deploy(e){return this.request(`/deploys/${e}`)}deploys(e,{page:t,perPage:r,filter:u,state:c,minimal:m,from:v}){let C=`/sites/${e}/deploys?page=${t||1}&per_page=${r||q}`;if(u)switch(u){case"deploy previews":C+="&deploy-previews=true";break;default:C+=`&branch=${u}`}return c&&(C+=`&state=${c}`),m&&(C+="&minimal=true"),v&&(C+=`&from=${v}`),this.request(C)}deployLog(e){return this.request(`/deploys/${e}/log`).then(t=>{var r;return((r=t==null?void 0:t.data)==null?void 0:r.url)&&fetch(t.data.url).then(u=>u.json())})}deploySummary(e){return this.request(`/deploys/${e}/summary`)}deployCommitters(e){return this.request(`/deploys/${e}/committers`,{prefix:W})}fetchPullRequest(e){return this.request(`/cdp/deploys/${e}`)}deployActivity(e){return this.request(`/cdp/deploys/${e}/events`)}inviteCommitter(e,t){return this.request(`/deploys/${e}/invite`,{prefix:W,method:"POST",body:JSON.stringify({committer:t})})}deployPluginRuns(e){return this.request(`/deploys/${e}/plugin_runs`)}buildHooks(e){return this.request(`/sites/${e}/build_hooks`)}publishDeploy(e){const t=`/deploys/${e}/restore`;return this.request(t,{method:"POST"})}triggerDeploy(e,t,r){return this.request(`/sites/${e}/builds`,{method:"POST",body:JSON.stringify({clear_cache:t,template_id:r})})}createDeployKey(){return this.request("/deploy_keys",{method:"POST"})}getDeployKey(e){return this.request(`/deploy_keys/${e}`)}createSite(e={}){const{account_slug:t}=e,r=t?`/${t}/sites`:"/sites";return this.request(r,{method:"POST",body:JSON.stringify(e)})}createDeploy(e,t={}){return this.request(`/sites/${e}/deploys`,{method:"POST",body:JSON.stringify(t)})}siteDeploy(e,t){return this.request(`/sites/${e}/deploys/${t}`)}updateSite(e,t){return this.request(`/sites/${e}`,{method:"PUT",body:JSON.stringify(t)})}deleteSite(e){return this.request(`/sites/${e}`,{method:"DELETE"})}uploadFile(e,t,r,u){const c=`/deploys/${e}/files${t}`,m={"Content-Type":"application/octet-stream"};return u&&(m.Authorization=`Bearer ${u}`),this.request(c,{method:"PUT",body:r,headers:m,forceUseApiBase:!0})}waitForDeploy(e){return new Promise((t,r)=>{const u=()=>{this.deploy(e).then(c=>{var m;if(((m=c.data)==null?void 0:m.state)==="ready")return t(c);setTimeout(u,1e3)}).catch(r)};u()})}waitForSiteDeploy(e){return new Promise((t,r)=>{const u=()=>{this.site(e).then(c=>{var m;if((m=c.data)!=null&&m.deploy_id)return t(c);setTimeout(u,1e3)}).catch(r)};u()})}dnsZones(e,t=1){return this.request(e?`/dns_zones?account_slug=${e}&page=${t}`:`/dns_zones?page=${t}`)}dnsZonePath(e){return`/dns_zones/${e.replace(/\./g,"_")}`}dnsZone(e){return this.request(this.dnsZonePath(e))}createDnsZone(e,t,r={}){return this.request("/dns_zones",{method:"POST",body:JSON.stringify({...r,name:e,account_slug:t})})}enableDnsZoneIPv6(e){const t=this.dnsZonePath(e);return this.request(`${t}/enable-ipv6`,{method:"PUT"})}enableDedicatedDns(e){const t=this.dnsZonePath(e);return this.request(`${t}/expand`,{method:"PUT"})}destroyDnsZone(e){return this.request(this.dnsZonePath(e),{method:"DELETE"})}transferDnsZone(e,{account_id:t,transfer_account_id:r,transfer_user_id:u}){return this.request(`${this.dnsZonePath(e)}/transfer`,{method:"PUT",body:JSON.stringify({account_id:t,transfer_account_id:r,transfer_user_id:u})})}domainsPath(e){return`/domains-next/${e.replace(/\./g,"_")}`}toggleDomainAutoRenew(e,t,r){return this.request(`${this.domainsPath(e)}/auto-renew`,{method:"PUT",body:JSON.stringify({account_id:t,auto_renew:r})})}dnsRecords(e){return this.request(`${this.dnsZonePath(e)}/dns_records`)}dnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records/${t}`)}createDnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records`,{method:"POST",body:JSON.stringify(t)})}destroyDnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records/${t}`,{method:"DELETE"})}deployFiles(e){return this.request(`/deploys/${e}/files`)}deployFile(e,t){return this.request(`/deploys/${e}/files${t}`,{forceUseApiBase:!0,raw:!0,headers:{"Content-Type":"application/vnd.bitballoon.v1.raw"}})}largeMediaAssets(e,{page:t,perPage:r,filter:u}){return this.request(`/large_media_assets/?site_id=${e}&page=${t||1}&per_page=${r||q}${u?`&name=${u}`:""}`)}user(){return this.request("/user")}updateUser(e){return this.request("/user",{method:"PUT",body:JSON.stringify(e)})}updateUserQuestionnaireTelemetry(e){return this.request(`/users/${e.userId}/questionnaire`,{method:"PUT",body:JSON.stringify(e)})}updateUserAvatar(e){const t=new FormData;t.append("file",e);const r={method:"POST",body:t,headers:{"Content-Type":"delete"}};return this.request("/users/avatar",r)}deleteUserAvatar(){return this.request("/users/avatar",{method:"DELETE"})}paymentMethods({provider:e,accountId:t}){return this.request(`/billing/payment_methods${e==="zuora"&&t?`?account_id=${t}`:""}`)}receiptPdf(e){return this.request(`/billing/receipts/${e}`,{raw:!0,headers:{Accept:"application/pdf"}})}getPromo(e){return this.request(`/billing/promo_codes/${e}`)}updateBilling(e){return this.request("/billing",{method:"PUT",body:JSON.stringify(e)})}getSubscriptions(e){return this.request(`/billing/subscriptions?site_id=${e}`)}cancelSubscription(e){return this.request(`/billing/subscriptions/${e}`,{method:"DELETE"})}newSubscription(e){return this.request("/billing/subscriptions",{method:"POST",body:JSON.stringify(e)})}updateSubscription(e,t){return this.request(`/billing/subscriptions/${e}`,{method:"PUT",body:JSON.stringify(t)})}paymentProviderToken({sandbox:e,accountId:t,enterpriseException:r,secure:u}){let c=`/billing/client_token?sandbox=${~~!!e}&legacy=0`;return t&&(c+=`&account_id=${t}`),r&&(c+=`&enterprise_exception=${~~!!r}`),u&&(c+="&token_type=rsa_signature"),this.request(c,{method:"POST"})}braintreeToken(){return this.request("/billing/client_token?legacy=1&sandbox=0",{method:"POST"})}paymentMethod(e){return this.request(`/billing/payment_methods/${e}`)}savePaymentMethod(e){const{customer_id:t,sandbox:r,enterpriseException:u}=e;if(!t)return Promise.reject("Missing customer_id in attributes");let c=`/accounts/payments?customer_id=${t}&gateway=zuora_${r?"sandbox":"production"}`;return u&&(c+=`&enterprise_exception=${~~!!u}`),this.postRequest(c,JSON.stringify(e))}removePaymentMethod(e){return this.request(`/billing/payment_methods/${e}`,{method:"DELETE"})}members(e){return this.request(`/sites/${e}/members`)}inviteMember(e,t){return this.postRequest(`/sites/${e}/members`,JSON.stringify({email:t}))}certificate(e){return this.request(`/sites/${e}/ssl`)}updateSsl(e,t,r){let u=`/sites/${e}/ssl`;return r&&(u+=`/${r}`),this.postRequest(u,JSON.stringify(t))}verifySsl(e){return this.request(`/sites/${e}/ssl/verify_custom_domain`)}removeMember(e,t){return this.request(`/sites/${e}/members/${t}`,{method:"DELETE"})}acceptInvite(e){return this.postRequest(`/invites/${e}/accept`)}hooks(e){return this.request(`/hooks?site_id=${e}`)}hookTypes(e){return this.request(`/hooks/types?site_id=${e}`)}addHook(e){return this.request("/hooks",{method:"POST",body:JSON.stringify(e)})}updateHook(e,t){return this.request(`/hooks/${e}`,{method:"PUT",body:JSON.stringify(t)})}deleteHook(e){return this.request(`/hooks/${e}`,{method:"DELETE"})}enableHook(e){return this.request(`/hooks/${e}/enable`,{method:"POST"})}siteForms(e){const t=`/sites/${e}/forms`;return this.request(t)}siteForm(e){return this.request(`/forms/${e}`)}formSubmissions(e,{formId:t,page:r,perPage:u,filter:c}){let m=t?`/sites/${e}/forms/${t}/submissions?`:`/sites/${e}/submissions?`;return m+=`state=${c||"ham"}&`,m+=`page=${r||1}&per_page=${u||q}`,this.request(m)}markSubmissionAsHam(e,t){return this.request(`/submissions/${t}/ham`,{method:"PUT"})}markSubmissionAsSpam(e,t){return this.request(`/submissions/${t}/spam`,{method:"PUT"})}functions(e,t){let r=`/sites/${e}/functions`;return t&&(r+=`?filter=${encodeURIComponent(t)}`),this.request(r)}fetchEdgeAccessToken(e,t){return this.request("/auth/edge-access",{noPrefix:!0,method:"POST",body:JSON.stringify({site_id:e,domain:t})})}edgeFunctions(e){const t=`/deploys/${e}/edge_functions`;return this.request(t)}authProviders(e){return this.request(`/sites/${e}/authentication_providers`)}createAuthProvider(e,t,r,u){return this.request(`/sites/${e}/authentication_providers`,{method:"POST",body:JSON.stringify({name:t,provider:t,api_id:r,api_secret:u})})}removeAuthProvider(e,t){return this.request(`/sites/${e}/authentication_providers/${t}`,{method:"DELETE"})}setupMultiFactorAuth(){return this.request("/user/multifactor_auth/setup")}enableMultiFactorAuth({otp:e,token:t}){return this.request("/user/multifactor_auth",{method:"POST",body:JSON.stringify({otp:e,token:t})})}disableMultiFactorAuth({otp:e}){return this.request("/user/multifactor_auth",{method:"DELETE",body:JSON.stringify({otp:e})})}verifyLogin({otp:e,token:t}){return this.request("/user/multifactor_auth/verify_login",{method:"POST",body:JSON.stringify({otp:e}),headers:{Authorization:`Bearer ${t}`}})}application(e){return this.request(`/oauth/applications/${e}`)}applications(){return this.request("/oauth/applications")}createApplication(e){return this.request("/oauth/applications",{method:"POST",body:JSON.stringify(e)})}updateApplication(e,t){return this.request(`/oauth/applications/${e}`,{method:"PUT",body:JSON.stringify(t)})}removeApplication(e){return this.request(`/oauth/applications/${e}`,{method:"DELETE"})}verifyUserByToken(e){const[t,r]=e.split("-");return this.request("/auth/verify",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:t,code:r})})}verifySamlUserByToken(e,t){return this.request("/auth/verify-saml",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:e,code:t})})}verifyUser(e,t){return this.request(`/users/${e}/confirm_email`,{method:"PUT",body:JSON.stringify({secret:t})})}resetPasswordEmail(e){return this.request("/password_reset",{method:"POST",body:JSON.stringify({email:e})})}resetPassword(e,t,r){const u={token:e,password:t,password_confirmation:r};return this.request("/password_reset",{method:"PUT",body:JSON.stringify(u)})}authorizeApplication(e){return this.request("/oauth/authorize",{noPrefix:!0,body:JSON.stringify({client_id:e.clientID,redirect_uri:e.redirectURI,response_type:e.responseType,scope:e.scope,state:e.state,grant_saml:e.grantSaml}),method:"POST"})}authorizedApplications(e){let t="/oauth/applications/authorized";return e&&(t+=`?administrator_id=${e}`),this.request(t)}revokeAuthorizedApplication(e,t){let r=`/oauth/applications/${e}/revoke`;return t&&(r+=`?administrator_id=${t}`),this.request(r,{method:"DELETE"})}createPersonalToken(e,t,r){const u="/oauth/applications/create_token";return this.postRequest(u,JSON.stringify({name:e,grant_saml:t,administrator_id:r||null}))}ticket(e){return this.request(`/oauth/tickets/${e}`)}authorizeTicket(e,t){let r=`/oauth/tickets/${e}/authorize`;return t&&(r+="?grant_saml=true"),this.request(r,{method:"POST"})}createTemplate(e){return this.postRequest("/templates",JSON.stringify(e))}verifyPubstorm(e){return this.postRequest("/pubstorm/verify",JSON.stringify(e))}claimPubstorm(e){return this.postRequest("/pubstorm/claim",JSON.stringify(e))}requestPubstormRecovery(e){return this.postRequest("/pubstorm/recover",JSON.stringify({email:e}))}deployLogLocation(e){return this.request(`/deploys/${e}/log`)}deployLogAccessCheck(e){return this.request(`/deploys/${e}/check_access`)}lockDeploy(e){return this.postRequest(`/deploys/${e}/lock`)}unlockDeploy(e){return this.postRequest(`/deploys/${e}/unlock`)}retryDeploy(e,t){return this.postRequest(`/deploys/${e}/retry`,JSON.stringify(t||{}))}acceptDeploy(e){return this.postRequest(`/deploys/${e}/accept`)}rejectDeploy(e){return this.postRequest(`/deploys/${e}/reject`)}cancelDeploy(e){return this.postRequest(`/deploys/${e}/cancel`)}deleteDeploy(e){return this.request(`/deploys/${e}`,{method:"DELETE"})}organizations(){return this.request("/organizations")}organization(e){return this.request(`/organizations/${e}`)}organizationAccounts(e){return this.request(`/organizations/${e}/accounts`)}organizationInvoices(e){return this.request(`/organizations/${e}/invoices`)}organizationInvoice(e,t){return this.request(`/organizations/${e}/invoices/${t}`)}organizationReceipts(e){return this.request(`/organizations/${e}/receipts`)}organizationReceipt(e,t){return this.request(`/organizations/${e}/receipts/${t}`,{raw:!0,headers:{Accept:"application/pdf"}})}organizationClientToken(e){return this.request(`/organizations/${e}/client_token`)}organizationSamlConnection(e){return this.request(`/organizations/${e}/workos`)}organizationScimConnection(e){return this.request(`/organizations/${e}/workos_scim`)}organizationCreateAccount(e,t){return this.postRequest("/accounts",JSON.stringify({name:t,organization_id:e}))}organizationSamlDashboard(e){return this.postRequest(`/organizations/${e}/workos`,JSON.stringify({}))}organizationScimDashboard(e){return this.postRequest(`/organizations/${e}/workos_scim`,JSON.stringify({}))}organizationScimStatus(e,t){return this.request(`/organizations/${e}/workos_scim`,{method:"PATCH",body:JSON.stringify({status:t})})}organizationScimMappings(e){return this.request(`/organizations/${e}/directory_sync_entities`)}organizationScimAddMapping(e,t){const{group_id:r,account_id:u,role:c,site_access:m,site_ids:v}=t;return this.request(`/organizations/${e}/directory_sync_entities/${r}/account_role_associations`,{method:"POST",body:JSON.stringify({account_id:u,role:c,site_access:m,site_ids:v})})}organizationScimUpdateMapping(e,t){const{group_id:r,account_id:u,role:c,site_access:m,site_ids:v}=t;return this.request(`/organizations/${e}/directory_sync_entities/${r}/account_role_associations/${u}`,{method:"PATCH",body:JSON.stringify({role:c,site_access:m,site_ids:v})})}organizationScimDeleteMapping(e,t){const{group_id:r,account_id:u}=t;return this.request(`/organizations/${e}/directory_sync_entities/${r}/account_role_associations/${u}`,{method:"DELETE"})}organizationSamlDeleteConnection(e){return this.request(`/organizations/${e}/workos`,{method:"DELETE"})}organizationScimDeleteConnection(e){return this.request(`/organizations/${e}/workos_scim`,{method:"DELETE"})}updateOrganization(e,t){return this.request(`/organizations/${e}`,{method:"PUT",body:JSON.stringify(t)})}updateOrganizationLogo(e,t){const r=new FormData;r.append("file",t);const u={method:"POST",body:r,headers:{"Content-Type":"delete"}};return this.request(`/organizations/${e}/logo`,u)}updateOrganizationPaymentMethod(e,t){return this.postRequest(`/organizations/${e}/payments`,JSON.stringify(t))}deleteOrganizationLogo(e){return this.request(`/organizations/${e}/logo`,{method:"DELETE"})}accounts(){return this.request("/accounts")}account(e){return this.request(`/accounts/${e}`)}accountFirewallRuleSet(e){return this.request(`/accounts/${e}/firewall_rule_set`)}updateAccountFirewallRuleSet(e,t){return this.request(`/accounts/${e}/firewall_rule_set`,{method:"PUT",body:JSON.stringify(t)})}accountJwt(e){return this.request(`/accounts/${e}/jwt`)}accountBandwidth(e){return this.request(`/accounts/${e}/bandwidth`)}accountBandwidthRanking(e,t){return this.request(`/accounts/${e}/bandwidth/ranking?limit=${t}`)}accountEdgeFunctionsUsage(e){return this.request(`/accounts/${e}/edge_functions`)}accountCompliance(e){return this.request(`/accounts/${e}/compliance`)}accountCommitters(e,t={}){return t.billingPeriod?this.request(`/accounts/${e}/committers?billing_period=current`):this.request(`/${e}/committers`)}createCommitter(e,t,r){return this.request(`/${e}/committers`,{method:"POST",body:JSON.stringify({build_id:t,member_id:r})})}updateCommitter(e,t,r,u){return this.request(`/${e}/committers/${t}`,{method:"PATCH",body:JSON.stringify({member_id:r,invite_id:u})})}deleteCommitter(e,t){return this.request(`/${e}/committers/${t}`,{method:"DELETE"})}accountTypes(){return this.request("/accounts/types")}createAccount(e){return this.request("/accounts",{method:"POST",body:JSON.stringify(e)})}deleteAccount(e){return this.request(`/accounts/${e}`,{method:"DELETE"})}disableUser(){return this.request("/users/disable",{method:"POST"})}updateAccount(e,t){return this.request(`/accounts/${e}`,{method:"PUT",body:JSON.stringify(t)})}updateAccountLogo(e,t){const r=new FormData;r.append("file",t);const u={method:"POST",body:r,headers:{"Content-Type":"delete"}};return this.request(`/accounts/${e}/logo`,u)}deleteAccountLogo(e){return this.request(`/accounts/${e}/logo`,{method:"DELETE"})}accountBuilds(e,t){return t={page:1,per_page:q,...t},this.request(`/${e}/builds?${(0,$.b4)(t)}`)}accountBuildStatus(e){return this.request(`/${e}/builds/status`)}accountBuildQueueBump(e,t){return this.postRequest(`/${e}/builds/${t}/prioritize`)}accountBuildStatusPerSite(e){return this.request(`/${e}/builds/per_site`)}accountBuildsPerDay(e){return this.request(`/${e}/builds/per_day`)}accountMember(e,t){return this.request(`/${e}/members/${t}`)}accountMembers(e,t={}){const r=[M.hZ,M.nU,M.iJ],{roles:u,...c}=t,v={sort_by:"updated_at","roles[]":(u!=null&&u.length?u:r).join(","),...c};return this.request(`/${e}/members?${(0,$.b4)(v)}`)}accountReviewerMembers(e,t={}){const r={sort_by:"created_at","roles[]":M.TH,...t};return this.request(`/${e}/members?${(0,$.b4)(r)}`)}inviteAccountMember(e,{email:t,role:r,site_ids:u,site_access:c,build_id:m}){return this.postRequest(`/${e}/members`,JSON.stringify({email:t,role:r,site_ids:u,site_access:c,build_id:m}))}removeAccountMember(e,t){return this.request(`/${e}/members/${t}`,{method:"DELETE"})}updateAccountMember(e,t,{role:r,site_access:u,site_ids:c}){return this.request(`/${e}/members/${t}`,{method:"PUT",body:JSON.stringify({role:r,site_access:u,site_ids:c})})}accountReviewers(e){return this.request(`/${e}/reviewers`)}updateAccountReviewer(e,t,{state:r,site_access:u}){return this.request(`/${e}/reviewers/${t}`,{method:"PUT",body:JSON.stringify({state:r,site_access:u})})}promoteAccountReviewer(e,t,{role:r}){return this.request(`/${e}/reviewers/${t}/promote`,{method:"POST",body:JSON.stringify({role:r})})}removeAccountReviewer(e,t){return this.request(`/${e}/reviewers/${t}`,{method:"DELETE"})}accountBillingSummary(e){return this.request(`/${e}/billing`)}accountSubscriptions(e){return this.request(`/${e}/billing/subscriptions`)}accountInvoices(e,t={}){return this.request(`/${e}/billing/invoices?${(0,$.b4)(t)}`)}accountReceipts(e){return this.request(`/${e}/receipts`)}accountReceiptPdf(e,t){return this.request(`/${e}/receipts/${t}`,{raw:!0,headers:{Accept:"application/pdf"}})}accountReceiptHtml(e,t){return this.request(`/${e}/receipts/${t}`,{headers:{Accept:"text/html"}})}transferSite(e,t){return this.postRequest(`/sites/${e}/transfer?account_id=${t}`)}trafficSplits(e){return this.request(`/sites/${e}/traffic_splits`)}trafficSplit(e,t){return this.request(`/sites/${e}/traffic_splits/${t}`)}createTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits`,JSON.stringify(t))}updateTrafficSplit(e,t,r){return this.request(`/sites/${e}/traffic_splits/${t}`,{method:"PUT",body:JSON.stringify(r)})}startTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits/${t}/publish`)}stopTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits/${t}/unpublish`)}teamAudit({page:e,perPage:t,search:r,accountId:u}){return this.request(`/accounts/${u}/audit?page=${e||1}&per_page=${t||q}${r?`&query=${r}`:""}`)}destroyAccessToken(){return this.request("/access_tokens/revoke",{method:"DELETE"})}identity(e,t){return this.request(`/sites/${e}/identity/${t}`)}createIdentity(e,t){return this.postRequest(`/sites/${e}/identity`,JSON.stringify(t))}updateIdentity(e,t,r){return this.request(`/sites/${e}/identity/${t}`,{method:"PUT",body:JSON.stringify(r)})}deleteIdentity(e,t){return this.request(`/sites/${e}/identity/${t}`,{method:"DELETE"})}identityUsers(e,t,{page:r,per_page:u,sort:c,filter:m}){return this.request(`/sites/${e}/identity/${t}/users?page=${r||1}&per_page=${u||q}&sort=${c||"created_at"}${m?`&filter=${m}`:""}`)}identityUser(e,t,r){return this.request(`/sites/${e}/identity/${t}/users/${r}`)}createIdentityUser(e,t,r){return this.postRequest(`/sites/${e}/identity/${t}/users`,JSON.stringify(r))}updateIdentityUser(e,t,r,u){return this.request(`/sites/${e}/identity/${t}/users/${r}`,{method:"PUT",body:JSON.stringify(u)})}deleteIdentityUser(e,t,r){return this.request(`/sites/${e}/identity/${t}/users/${r}`,{method:"DELETE"})}sendIdentityInvites(e,t,r){return this.postRequest(`/sites/${e}/identity/${t}/users/invite`,JSON.stringify(r))}sendIdentityRecovery(e,t,r){return this.postRequest(`/sites/${e}/identity/${t}/users/${r}/recover`)}identityAudit({page:e,perPage:t,search:r,siteId:u,identityId:c}){return this.request(`/sites/${u}/identity/${c}/audit?page=${e||1}&per_page=${t||q}${r?`&query=${r}`:""}`)}services(e){return this.request(`/sites/${e}/service-instances`)}createService(e,t,r={}){return this.postRequest(`/sites/${e}/services/${t}/instances`,JSON.stringify(r))}updateService(e,t,r,u){return this.request(`/sites/${e}/services/${t}/instances/${r}`,{method:"PUT",body:JSON.stringify(u)})}deleteService(e,t,r){return this.request(`/sites/${e}/services/${t}/instances/${r}`,{method:"DELETE"})}deleteForm(e,t){return this.request(`/sites/${e}/forms/${t}`,{method:"DELETE"})}deleteFormSubmission(e,t){return this.request(`/submissions/${t}`,{method:"DELETE"})}claim({id:e,token:t}){const r=e?`/sites/${e}/claim`:"/sites/claim";return this.postRequest(r,JSON.stringify({token:t}))}updateSamlConfig(e,t,r){return this.request(`/saml/${e}/parse-idp-metadata`,{method:"PUT",body:JSON.stringify({url:t,data:r})})}deleteSamlConfig(e){return this.request(`/saml/${e}`,{method:"DELETE"})}getSamlStartUrl(e){return this.request(`/saml/account-lookup?id=${e}`,{method:"GET"})}siteUsage(e){return this.request(`/sites/${e}/usage`)}changeAddonPlan(e,t,r){return this.request(`/usage_records/${e}/change_plan?plan=${t}&site_id=${r}`,{method:"PUT"})}billingPreview(e){return this.request(`/billing/subscriptions/preview?account_id=${e}`)}searchDomain(e,t){return this.request(`/domains-next/search?account_id=${t}&domain=${e}`)}buyDomain(e,t,r){return this.request("/domains-next",{method:"POST",body:JSON.stringify({account_id:t,domain:e,site_id:r})})}dropToken(){return this.request("/drop/token",{method:"POST"})}dropFiles(e,t){return this.request("/drop",{method:"POST",body:JSON.stringify({files:e,token:t})})}dropClaim(e,t){return this.request("/drop/claim",{method:"POST",body:JSON.stringify({site:e,token:t})})}authLink({provider:e}){return this.request(`/auth/link?provider=${e}&site_id=${this.siteId}`,{noPrefix:!0})}authUnlink({provider:e}){return this.request(`/auth/unlink?provider=${e}&site_id=${this.siteId}`,{method:"POST",noPrefix:!0})}updateSelfHostedGitConfig(e,t,r){const u=`/accounts/${e}/${r}_config`;return this.request(u,{method:"PUT",body:JSON.stringify(t)})}deleteSelfHostedGitConfig(e,t){const r=`/accounts/${e}/${t}_config`;return this.request(r,{method:"DELETE"})}logDrains(e){return this.request(`/sites/${e}/log_drains`)}async createLogDrain(e,t={}){try{return await this.postRequest(`/sites/${e}/log_drains`,JSON.stringify(t))}catch(r){throw/^access denied$/i.test(r.message)?new d.Z("You don't have the necessary permissions to create a log drain."):r}}async verifyLogDrain(e,t,r){try{return await this.postRequest(`/sites/${e}/log_drains/${t}/verify`,JSON.stringify({token:r}))}catch(u){throw/^access denied$/i.test(u.message)?new d.Z("You don't have the necessary permissions to verify a log drain."):u}}async updateLogDrain(e,t,r){try{return await this.request(`/sites/${e}/log_drains/${t}`,{method:"PUT",body:JSON.stringify(r)})}catch(u){throw/^access denied$/i.test(u.message)?new d.Z("You don't have the necessary permissions to edit a log drain."):u}}async deleteLogDrain(e,t){try{return await this.request(`/sites/${e}/log_drains/${t}`,{method:"DELETE"})}catch(r){throw/^access denied$/i.test(r.message)?new d.Z("You don't have the necessary permissions to delete a log drain."):r}}graphJwt(e){return this.request(`/sites/${e}/jwt`)}}},40917:(ye,se,l)=>{l.d(se,{$f:()=>u,ZP:()=>te,on:()=>C,sV:()=>t,vH:()=>r,xw:()=>v,z9:()=>c});var d=l(5780),L=l.n(d),$=l(34740),N=l(63851),M=l(68854),T=l(88317);const G="https://api.netlify.com";function k(){try{const{utm_campaign:B="",utm_source:g="",utm_medium:K=""}=window.location.search.substr(1).split("&").reduce((A,E)=>{const[P,V]=E.split("=");return A[P]=V,A},{});return B&&{utm_campaign:B,utm_source:g,utm_medium:K}}catch{return null}}function W(){try{const B=sessionStorage.getItem("nf.utm"),{utm_campaign:g="",utm_source:K="",utm_medium:A=""}=JSON.parse(B||"{}");return g&&{utm_campaign:g,utm_source:K,utm_medium:A}}catch{}}function J(B){(0,M.D9)("nf.utm",JSON.stringify(B))}function q(){const B=[],g=k()||W();if(g){J(g);for(const K in g)B.push(`${K}=${g[K]}`)}return B.join("&")}const D=k();D&&J(D);class j{constructor(g){this.err=g}toString(){return this.err&&this.err.message}}const F={[T.Lz.github_app]:{width:1200,height:800,closeWindow:!1},[T.Lz.github_enterprise]:{width:1200,height:800,closeWindow:!1},[T.Lz.github]:{width:960,height:600,closeWindow:!0},[T.Lz.gitlab]:{width:960,height:600,closeWindow:!0},[T.Lz.gitlab_self_hosted]:{width:960,height:600,closeWindow:!0},[T.Lz.bitbucket]:{width:1024,height:600,closeWindow:!0},[T.Lz.bitbucket_self_hosted]:{width:1024,height:600,closeWindow:!0},[T.Lz.azure_devops]:{width:960,height:600,closeWindow:!0},[T.Lz.email]:{width:500,height:400,closeWindow:!0}};function U(B){const g=F[B]||F.github,K=Math.min(window.screen.width,g.width),A=g.height,E=(window.screen.width-K)/2;return{top:Math.max((window.screen.height-A)/2,0),left:E,width:K,height:A}}function e({url:B,data:g,signup:K},A){return fetch(B,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then(E=>E.json()).then(E=>{if(E.state==="success"||E.redirect_uri)A(null,E.data||E);else{const P=E.message;K&&/No user found/.test(P)&&(E.message="An account with this email already exists"),A(new N.Z(E))}}).catch(E=>A(new N.Z(E)))}async function t({access_token:B}){if((await fetch("/access-control/set-auth",{headers:{Authorization:`Bearer ${B}`},credentials:"include"})).status!==200)throw new Error("failed to set-auth for user")}function r(){return document.cookie="_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=.netlify.com",document.cookie=`_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=${window.location.hostname}`,document.cookie=`_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=${window.location.hostname.split(".").slice(1).join(".")}`,t({access_token:"unset"})}async function u(){const B=await fetch("/access-control/generate-access-control-token",{credentials:"include"});if(B.status!==200)throw new Error("failed to access control token for user");const{accessControlToken:g}=await B.json();return g}function c(){return document.cookie.includes("_nf-auth-hint")}let m;function v({provider:B="github",url:g=""}){const{top:K,left:A,width:E,height:P}=U(B);m=window.open(g,"auth",`toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=${E},height=${P},top=${K},left=${A}`),m&&m.focus()}function C(){m&&m.close()}class Z{constructor(g){this.site_id=g.site_id||g.siteId,this.base_url=g.base_url||g.apiBase||G,this.useAuthWindow=g.useAuthWindow}open({url:g,provider:K},A){this.handshake(K,A),v({provider:K,url:g})}done({provider:g}){F[g].closeWindow&&C()}postMessage(g,K){try{m.postMessage(g,K)}catch(A){L().notify(A,E=>{E.context="netlify-auth \uFE65 postMessage"})}}handshake(g,K){const A=E=>{const{origin:P,data:V}=E;P===this.base_url&&V===`authorizing:${g}`&&(window.removeEventListener("message",A,!1),this.authorize(g,K),this.postMessage(V,P))};window.addEventListener("message",A,!1)}authorize(g,K){const A=E=>{const{origin:P,data:V}=E;if(P===this.base_url){if(V.indexOf(`authorization:${g}:success:`)===0){const X=JSON.parse(V.match(new RegExp(`^authorization:${g}:success:(.+)$`))[1]);window.removeEventListener("message",A,!1),this.done({provider:g}),K(null,X)}if(V.indexOf(`authorization:${g}:error:`)===0){const X=JSON.parse(V.match(new RegExp(`^authorization:${g}:error:(.+)$`))[1]);window.removeEventListener("message",A,!1),this.done({provider:g}),K(new j(X))}}};window.addEventListener("message",A,!1)}getSiteID(){if(this.site_id)return this.site_id;const g=document.location.host.split(":")[0];return g==="localhost"?null:g}authenticate(g,K){const A=this.getSiteID(),E=g.provider,P=!this.useAuthWindow&&g.redirect,V=q(),X=(0,M.St)("tracking_session_id");let ne;if(!E)return K(new j({message:"You must specify a provider when calling netlify.authenticate"}));if(!A)return K(new j({message:'You must set a site_id with netlify.configure({site_id: "your-site-id"}) to make authentication work from localhost'}));if(P&&E==="email"&&!g.email)return ne=g.signup?"/signup":"/login",ne+="/email",V&&(ne+="?"+V),$.mW.push(ne);if(ne=`${this.base_url}/auth`,P&&E==="email"&&(ne+=g.reviewer?"/signup":"/login"),ne+=`?provider=${E}&site_id=${A}&tracking_session_id=${X}`,g.accountId&&(ne+="&account_id="+g.accountId),g.scope&&(ne+="&scope="+g.scope),g.login===!0&&(ne+="&login=true"),g.beta_invite&&(ne+="&beta_invite="+g.beta_invite),g.invite_code&&(ne+="&invite_code="+g.invite_code),V&&(ne+="&"+V),P){const y=/^http/.test(P)?window.encodeURIComponent(P):`${window.location.origin}${P===!0?"/":P}`;ne+="&redirect="+y}const ce={email:g.email,password:g.password,no_autosignup:!g.signup,redirect:window.location.origin};g.reviewer&&(ce.full_name=g.full_name,ce.jobrole=g.jobrole,ce.reviewer_signup=g.reviewer_signup,ce.redirect=g.redirect),P?E==="email"?e({url:ne,data:ce,signup:g.signup},K):window.location.href=ne:this.open({url:ne,provider:E},K)}}const te=Z},83081:(ye,se,l)=>{l.d(se,{f8:()=>d,ib:()=>$,ot:()=>L});const d=N=>{const M={};return N&&(M.next=N),M},L=N=>{var M,T;let G=N.headers.get("Link");if(!G)return null;const k={};let W,J,q,D,j;G=G.split(",");for(let U=0,e=G.length;U<e;U++)W=G[U].replace(/(^\s*|\s*$)/,""),[J,q]=W.split(";"),D=J.match(/\bpage=(\d+)/),j=D&&Number(D[1]),q.match(/next/)?(k.next=j,k.current=j-1):q.match(/prev/)?(k.prev=j,k.current=j+1):q.match(/last/)&&(k.last=j);const F=Number(N.headers.get("Total"));if(F){const U=Number((T=(M=G[0])==null?void 0:M.match(/per_page=(\d+)/))==null?void 0:T[1]);U>0&&(k.page_count=Math.ceil(F/U),k.total=F)}return k},$=N=>N==null?void 0:N.get("current")},13287:(ye,se,l)=>{l.d(se,{$Z:()=>we,AB:()=>g,BM:()=>X,CY:()=>v,D5:()=>B,Dy:()=>D,F0:()=>z,F9:()=>Se,Md:()=>C,Nx:()=>E,P8:()=>V,Qu:()=>A,S8:()=>fe,U6:()=>ie,Vc:()=>de,Yz:()=>he,ZE:()=>ae,Zw:()=>P,am:()=>be,cF:()=>p,cJ:()=>ce,f1:()=>_e,fd:()=>Z,gK:()=>K,iv:()=>re,kg:()=>me,mH:()=>ne,r:()=>ve,vp:()=>r,yz:()=>y,zv:()=>u});const d=null,L=["user_capabilities","sites","d"],$=["user_capabilities","sites","u"],N=["user_capabilities","sites","c"],M=["user_capabilities","deploys","r"],T=null,G=["user_capabilities","accounts","u"],k=["user_capabilities","accounts","d"],W=["user_capabilities","billing","u"],J=["user_capabilities","members","r"],q=["user_capabilities","members","u"],D=["enforced_strict","enforced_with_fallback"],j="active",F="final_notice",U="hibernating";function e(w,oe,Ee=[]){return!!(w&&oe&&!w.get("public")&&oe.getIn(Ee))}function t(w,oe=[]){return w&&w.getIn(oe)}function r(w,oe){return e(w,oe,L)}function u(w){var oe;return w?((oe=w.get("user_capabilities"))==null?void 0:oe.size)===0:!1}function c(w,oe){return r(w,oe)}function m(w,oe){return e(w,oe,d)}function v(w,oe){return e(w,oe,$)}function C(w,oe){return e(w,oe,M)||w&&w.get("public")}function Z(w){return t(w,N)}function te(w){return t(w,T)}function B(w){return t(w,G)}function g(w){return!p(w)&&t(w,k)}function K(w,oe){return oe?!0:t(w,W)}function A(w){return t(w,q)}function E(w){return t(w,J)}function P(w){return w?D.includes(w.get("enforce_saml")):!1}function V(w,oe){return w?w&&!P(w)||oe&&oe.get("saml_enabled")||w&&w.get("org_saml_enabled"):!1}function X(w){return K(w)}function ne(w){return!p(w)&&K(w)}function ce(w){return w==="Controller"?"Billing Admin":w}function ae(w){return w==="all"?"All sites":w==="selected"?"Specific sites":w==="none"?"No sites":""}function y(w,oe){const Ee=w&&w.get("account_slug");return oe&&oe.find(Ae=>Ae.get("slug")===Ee)}function p(w){const oe=w&&w.get("lifecycle_state");return oe&&oe!==j}function z(w){const oe=w&&w.get("lifecycle_state");return oe===F||oe===U}function ie(w,oe){return w&&(w.getIn(["capabilities",oe])||w.getIn(["site_capabilities",oe]))}function re(w){return!w||!w.getIn(["capabilities","self_hosted_git_support","included"])?!1:t(w,G)}function he(w){return w&&w.get("site_access")==="all"&&!z(w)}const de=(w,oe)=>({account:Ee})=>Ee&&Ee.getIn(["user_capabilities",w,oe]),fe=w=>de("sites","c")({account:w}),pe=w=>de("sites","r")({account:w}),_e=w=>de("sites","u")({account:w}),be=w=>de("sites","d")({account:w}),me=w=>de("deploys","c")({account:w}),Se=w=>de("deploys","r")({account:w}),we=w=>de("account_firewall","u")({account:w}),ve=w=>de("site_firewall","u")({account:w})},31948:(ye,se,l)=>{l.d(se,{j:()=>W});var d=l(2417),L=l.n(d),$=l(24398),N=l.n($),M=l(62326);const T="https://api.gatsbyjs.com",G=({accountId:J})=>{async function q(D,j){let F;try{F=`Bearer ${(await(0,M.Z)({accountId:J})).jwt}`}catch{F=void 0}const U=new URL("/graphql",T);return U.search=new URLSearchParams({operationName:D.name,show_metrics:"false",netlify_account_id:J}).toString(),await(await fetch(U,{method:"POST",headers:{Authorization:F,"Content-Type":"application/json",Accept:"application/json",serviceid:"94103628-541d-4cbd-8273-16850b910ebc"},body:JSON.stringify({query:D.text,doc_id:D.id,variables:j})})).json()}return async function(j,F){return q(j,F)}},k=()=>{const J=new URL("/graphql/subscriptions",T);J.protocol="wss";const q=new $.SubscriptionClient(J.href,{reconnect:!0});return(j,F)=>{const U=q.request({query:j.text,operationName:j.name,variables:F});return d.Observable.from(U)}},W=({accountId:J})=>{const q=G({accountId:J}),D=k();return new d.Environment({network:d.Network.create(q,D),store:new d.Store(new d.RecordSource)})}},53562:(ye,se,l)=>{l.d(se,{_z:()=>Te,AC:()=>Oe,ao:()=>De,zP:()=>Re,KT:()=>ie,I7:()=>z,yN:()=>ke,Fk:()=>Ne});var d=l(37632),L=l(61712),$=l(58302),N=l(68854);const M=["api-aws.netlify.com","api.netlify.com","api-staging.netlify.com","www.netlify.com","www.netlify.app","app.netlifystg.com","app.netlifystg.app","app.netlify.com","analytics.services.netlify.com","analytics-staging.services.netlify.com","supportapi.services.netlify.com","list-v2--netlify-plugins.netlify.app","localhost","d33wubrfki0l68.cloudfront.net"],T=["commandbar","github","zuora","bitbucket","gitlab","firebase","gravatar"];function G(I){if(I==null)return!1;const ee=new URL(I||"",window.location.origin);return ee.hostname.toLowerCase().endsWith(".netlify.com")||M.includes(ee.hostname.toLowerCase())||k(I)}function k(I){return I==null?!1:new URL(I||"",window.location.origin).origin===window.location.origin}function W(I){return I==null?!1:new URL(I||"",window.location.origin).pathname.startsWith("/.netlify/functions/")}function J(I){if(I==null)return!1;const ee=new URL(I||"",window.location.origin);return T.some(Q=>ee.hostname.toLowerCase().includes(Q))}function q(I){const ee={};return Array.isArray(I)&&I.forEach(({name:Q,duration:le,description:b})=>{le&&(ee[`st_${Q}_duration`]=le),b&&(ee[`st_${Q}_desc`]=b)}),ee}function D(I){if(!I)return{};const ee={...I,...q(I==null?void 0:I.serverTiming)};return delete ee.name,delete ee.serverTiming,delete ee.entryType,ee}function j(){const I="ntl_device_loads",Q=(parseInt((0,N.le)(I)||"0",10)||0)+1;return Promise.resolve().then(()=>{(0,N.D$)(I,Q)}),Q}const F="ErrorPageHit",U="DataFullyLoadedTimeout",e="viewInitialRender",t="viewDataFullyLoaded",r="viewChanged",u="errorPageHit",c="viewInitialRender",m="viewDataFullyLoaded",v="viewIRDFLDelta",C="viewDepth",Z=["user"],te="featureName",B="featureLoadTimingListener",g="featureSpecificDFLListener";var K=l(62935);let A=[],E=0,P=[],V=[],X=window,ne=window.location;function ce(I){A.push(I),P.length>0&&requestIdleCallback(()=>{P=P.filter(({whenMadeCallback:ee,markNamesToWaitFor:Q,startOffset:le,verifyMark:b})=>{const f=re(Q,A,le,b);return f?(ee(f),!1):!0})},{timeout:2e3}),V.forEach(ee=>ee(I))}function ae(){return{pageUrl:ne.href,pageIsIframed:X.top!==X.self}}function y(){return A}function p(){A=[],E=0,P=[],V=[],X=window,ne=window.location}function z(I,ee){let Q=X.performance.mark(I);const le=ee==null?void 0:ee.overrideTimeMarked;Q||(Q=performance.getEntriesByName(I).pop());const b=(!le||le===0?le:!1)||(Q==null?void 0:Q.startTime)||performance.now(),f={name:I,props:ee,timeMarked:b,index:E++,env:ae()};return ce(f),f}function ie(I,ee,Q){let le=X.performance.mark(I);le||(le=performance.getEntriesByName(I).pop());const b={name:I,duration:Q.timeMarked-ee.timeMarked,timeMarked:(le==null?void 0:le.startTime)||performance.now(),index:E++,env:ae()};return ce(b),b}function re(I,ee,Q,le){const b=ee.reduce((f,S,R)=>(Q!==void 0&&R<Q||I.includes(S.name)&&(!le||le(S))&&(f[S.name]=S),f),{});return Object.keys(b).length===I.length?b:null}function he({markNamesToWaitFor:I,whenMadeCallback:ee,startOffset:Q,verifyMark:le,listenerClass:b}){const f=re(I,A,Q,le);f?requestIdleCallback(()=>{ee(f)},{timeout:2e3}):P.push({whenMadeCallback:ee,markNamesToWaitFor:I,startOffset:Q,verifyMark:le,listenerClass:b})}function de(I){P=P.filter(({listenerClass:ee})=>ee!==I)}function fe(I){V.push(I)}window._rum=window._rum||{},window._rum.markers={getAllMarks:y,markTime:z,markMeasurement:ie,whenAllMarksMade:he,onMarkAdded:fe};const pe=[];window._rum=window._rum||{},window._rum.timings=[];function _e(I){if(pe.length===0)return;if(pe.length===1)return pe[0].featureName;const ee=pe.reduceRight((Q,le,b)=>(!Q&&b===0&&(Q=le),!Q&&I>le.viewStartTime&&(Q=le),Q),void 0);return ee?ee.featureName:void 0}const be=[];let me="unset",Se=!0;function we(I,ee){var Q,le,b,f;let S={};I.view&&I.view.url.includes("#")&&(I.view.url=I.view.url.split("#")[0]),(le=(Q=I.view)==null?void 0:Q.referrer)!=null&&le.includes("#")&&(I.view.referrer=I.view.referrer.split("#")[0]);const R=I.resource;if(R&&R.url&&R.url.includes("#")&&(R.url=R.url.split("#")[0]),I.type==="resource"){const O=G(I.resource.url);if(S={...S,requestIsInternal:O,requestIsSameOrigin:k(I.resource.url),requestIsExternalDep:!O&&J(I.resource.url),requestApiType:W(I.resource.url)?"function":"server"},R!=null&&R.url.includes("#access_token")&&(S.resourceHasAccessToken=!0),R!=null&&R.url.includes("#token")&&(S.resourceHasToken=!0),"performanceEntry"in ee&&ee.performanceEntry!==void 0&&(S={...S,...D(ee.performanceEntry)}),I.resource.type==="fetch"||I.resource.type==="xhr"){const H=ee,s=H==null?void 0:H.response,n=(0,L.RR)();let i=null,o=null;if(s!=null&&s.headers&&(i=s.headers.get("x-request-id"),o=s.headers.get("x-nf-srv-version")),(b=H.performanceEntry)!=null&&b.startTime&&O){const a=_e((f=H.performanceEntry)==null?void 0:f.startTime);n!==a&&(S.featureName=a,S.respondedAfterViewChange=!0)}S={...S,requestId:i,requestNFServerVersion:o}}}else I.type==="view"&&(be.includes(I.view.id)||(me=I.view.id,be.push(I.view.id),Se=I.view.loading_type==="initial_load"));I.context={...I.context,...S}}function ve(){return me}function w(){fe(I=>{var ee,Q,le;if(I.name===r){const b=[e],f=I,S=(0,L.UC)((ee=I.props)==null?void 0:ee.featureName),R=S.name;(Q=S==null?void 0:S.networkingRules)!=null&&Q.skipMeasuringCriticalPathData||b.push(t),(le=I.props)!=null&&le.featureName&&pe.push({featureName:R,viewStartTime:I.timeMarked}),de(B),he({listenerClass:B,markNamesToWaitFor:b,startOffset:y().length-1,whenMadeCallback:O=>{var H,s;const n=O[e],i=O[t],o=Se?0:f.timeMarked,a=n.timeMarked-o,h=i?i.timeMarked-o:-1,_=i?i.timeMarked-n.timeMarked:-1;d.v.addTiming(c,a),d.v.addTiming(m,h),d.v.addTiming(v,_),i&&((H=i.props)==null?void 0:H.viewDFLTimedOut)===!0&&d.v.addAction(U,{featureName:R,viewInitialRender:a,viewDataFullyLoaded:h,delta:_}),window._rum.timings.push({featureName:R,viewInitialRender:a,viewDataFullyLoaded:h,delta:_,viewDFLTimedOut:!!((s=i==null?void 0:i.props)!=null&&s.viewDFLTimedOut)})},verifyMark:O=>{var H;return((H=O.props)==null?void 0:H.viewId)===ve()}})}})}const oe=!window.Cypress;let Ee=0,Ae;window._rum=window._rum||{},window._rum.waiters=[];function Re(){const I="abb8711a-ca04-44e2-bbd6-df0e07a7f3f8",ee="pubd771a23f8cb1e4f45f24b5fd37e11a96",Q="netlify-react-ui";oe&&I&&ee&&Q&&!window.Cypress&&(d.v.init({applicationId:I,clientToken:ee,site:"datadoghq.com",service:Q,version:"6491e387b5341c0008548707",env:"production",sampleRate:100,trackInteractions:!1,trackViewsManually:!0,enableExperimentalFeatures:["feature_flags"],beforeSend:(le,b)=>{var f,S;if(le.type==="error"&&((f=le.error)==null?void 0:f.source)==="report"||le.type==="error"&&(((S=le.error)==null?void 0:S.message)||"").toLowerCase().includes("userflow"))return!1;we(le,b)}}),d.v.addRumGlobalContext("suspiciousUsage",$.s),d.v.addTiming("deviceLoadCount",j()),w())}function De({routePath:I}){const ee=(0,L.WV)(I),Q=(0,L.UC)(ee),le=ve(),b=Ce();let f=!1,S=!1;return{markInitialRender:R=>{f||(f=!0,z(e,{viewId:le,featureName:ee,...R||{}}))},markDataFullyLoaded:R=>{S||(S=!0,z(t,{viewId:le,featureName:ee,...R||{}}))},whenDataFullyLoaded:({whenDFLCallback:R,timeout:O=15e3})=>{var H,s,n,i,o;de(g);let a=[];const h={viewDFLTimedOut:!1};if(b&&(0,N.le)("nf-session")&&(a=[...a,...Z]),(H=Q==null?void 0:Q.networkingRules)!=null&&H.criticalPathAPICalls&&(Array.isArray((s=Q==null?void 0:Q.networkingRules)==null?void 0:s.criticalPathAPICalls)?a=[...a,...(n=Q==null?void 0:Q.networkingRules)==null?void 0:n.criticalPathAPICalls]:typeof((i=Q==null?void 0:Q.networkingRules)==null?void 0:i.criticalPathAPICalls)=="function"&&(a=[...a,...(o=Q==null?void 0:Q.networkingRules)==null?void 0:o.criticalPathAPICalls()])),window._rum.waiters.push({featureName:ee,apiMarksToWaitFor:a}),a.length===0){R==null||R(h);return}const _=setTimeout(()=>{h.viewDFLTimedOut=!0,R==null||R(h),R=null},O);he({listenerClass:g,markNamesToWaitFor:a.map(x=>`api-${x}-complete`),startOffset:b?0:Ae==null?void 0:Ae.index,whenMadeCallback:()=>{clearTimeout(_),R==null||R(h),R=null}})}}}function Te(I,ee){oe&&d.v.addRumGlobalContext(I,ee)}function Oe({id:I,plan:ee,accountId:Q,email:le}){if(oe){const b={id:I,plan:ee,accountId:Q};typeof le=="string"&&(b.isInternalUser=le.endsWith("@netlify.com")),d.v.setUser(b)}}function Ne(I){if(oe){Ee++;const ee=(0,L.bl)(I);d.v.addRumGlobalContext(te,ee),d.v.startView(I),Ae=z(r,{urlTrackPath:I,featureName:(0,L.WV)(I)}),z(r,{urlTrackPath:I,featureName:ee}),d.v.addTiming(C,Ee)}}function ke(I){if(oe){let ee="internal-nav";Ce()&&(ee="page-load-nav");const Q={pathname:window.location.pathname,errorPageType:I,navType:ee};d.v.addAction(F,Q),z(u,Q)}}const Ce=()=>Ee<=1},68187:(ye,se,l)=>{l.d(se,{$2:()=>e,A$:()=>ne,BO:()=>E,Bj:()=>k,EZ:()=>K,MR:()=>T,Qc:()=>m,Qy:()=>c,TQ:()=>y,VH:()=>t,We:()=>X,_4:()=>j,g$:()=>ce,hA:()=>g,i7:()=>J,lR:()=>D,n4:()=>B,nu:()=>F,pC:()=>C,pn:()=>G,s8:()=>P,tJ:()=>ae,yp:()=>u,z0:()=>v,zJ:()=>r,zu:()=>te});var d=l(90046),L=l.n(d),$=l(66520),N=l(77962),M=l(88317);const T="success",G="error",k="in-progress",W="blank",J={SUCCESS:T,ERROR:G,IN_PROGRESS:k,BLANK:W},q={[T]:"Site is live",[G]:"Site deploy failed",[k]:"Site deploy in progress",[W]:"Site has not yet been deployed"};function D(p){return p.get("deploy_id")?T:p.get("error_message")?G:p.get("build_id")||p.get("state")!=="current"?k:W}function j(p){return q[D(p)]}function F(p){const{siteDomain:z}=$.default;return`${p.get("name")||p.get("subdomain")}.${z}`}function U(p){return`https://${p.get("default_domain")||F(p)}`}function e(p){return p.get("custom_domain")?p.get("url"):U(p)}function t(p){return p&&p.getIn(["build_settings","provider"])}function r(p){const z=t(p);return z&&M._w.getIn([z,"name"])||z}function u(p){return/^gitlab/.test(t(p))?"merge request":"pull request"}function c(p){return/^gitlab/.test(t(p))?"MR":"PR"}function m(p){return!!p.getIn(["build_settings","repo_branch"])}function v(p){return m(p)&&(p.getIn(["build_settings","allowed_branches"])||(0,d.List)()).size!==1}function C(p,z){return`https://${Z(p,z)}`}function Z(p,z){return`${z}--${F(p)}`}function te(p){return p.get("custom_domain")||A(p)}function B(p){return p.get("custom_domain")}function g(p){return p.get("account_subdomain")||p.get("name")}function K(p){return p.get("site_id")}function A(p){return p.get("default_domain")||F(p)}function E(p){const[z,...ie]=A(p).split(".");return ie.join(".")}function P(p){return!(p!=null&&p.getIn(["build_settings","repo_url"])||p!=null&&p.get("repo_url")||p!=null&&p.get("deploy_hook"))}const V=["trusty","production",null];function X(p){if(P(p))return!1;const z=p==null?void 0:p.get("build_image");return V.includes(z)}function ne(p){return P(p)?!1:(p==null?void 0:p.get("build_image"))==="xenial"}function ce(p){return!!(p!=null&&p.getIn(["build_settings","stop_builds"]))}function ae(p){return p.getIn(["build_settings","provider"])===M.Lz.github&&p.getIn(["build_settings","repo_owner_type"])==="Organization"&&!p.getIn(["build_settings","public_repo"])}const y=p=>{const z=[],ie={deploy_preview_custom_domain:"Deploy Preview",branch_deploy_custom_domain:"branch deploy"};if(Object.entries(p).reverse().forEach(([re,he])=>{const de=ie[re];he.forEach(fe=>{if(fe!=null&&fe.includes("has invalid characters"))return z.push(`Additional subdomain for ${de}s should only contain letters, numbers, hyphens, or dots. It must end with a letter or number.`);if(fe!=null&&fe.includes("exceeds the permitted length of 225 chars"))return z.push(`The combined length of your ${de} domain exceeds the permitted length of 225 characters.`);if(fe!=null&&fe.includes("exceeds the permitted length of 63 chars"))return z.push(`Additional subdomain for ${de}s exceeds the permitted subdomain length of 63 characters.`);if(fe!=null&&fe.includes("the subdomain or apex domain has not been added to this site's team with Netlify DNS"))return z.push(`The ${de} domain is not set up to use Netlify DNS.`);if(fe!=null&&fe.includes("This automatic deploy subdomain is already used on site ")){const pe="This automatic deploy subdomain is already used on site ",_e=pe.replace("automatic deploy subdomain",`${de} domain`),be=fe.split(pe)[1],me=(0,N.DD)((0,d.fromJS)({name:be}),"settings","domain#automatic-deploy-subdomains");return z.push(`${_e}[${be}](${me})`)}return z.push(fe)})}),z.length>0)return z.join(`

`)}},16136:(ye,se,l)=>{l.d(se,{F:()=>N});var d=l(37632),L=l(1886),$=l(58302);function N(M){if($.s){const T={message:"Userflow has failed to load due to the browser being sus",errorType:"UserflowError"};d.v.addAction("CustomError",T);return}L.Z.load().then(M,T=>{T.errorType="UserflowError",d.v.addAction("CustomError",T)})}},83611:(ye,se,l)=>{l.d(se,{A8:()=>$,KS:()=>N,SP:()=>T,Sg:()=>L,oi:()=>G,xw:()=>k});const d="workflow-ui",L=`/${d}/surfaces`,$=`/${d}/package`,N="site-settings",M="preview",T="log-drains-settings",G="integrations-settings",k="http://localhost:35472"},46917:(ye,se,l)=>{l.d(se,{S:()=>$,g:()=>L});var d=l(61097);function L({site:N,envVars:M}){return{isExistingEnvVar(T){var G;return(G=M==null?void 0:M.some(k=>k.key===T))!=null?G:!1},getEnvVar(T){const G=M==null?void 0:M.find(k=>k.key===T);return G?{envVar:G}:null}}}function $({dispatch:N,site:M,accountId:T}){const G=M.get("id");return{async createEnvVars(k){if(k.length)return N((0,d.f6)({accountId:T,siteId:G,envVars:k}))},async deleteEnvVars(k){k.length&&k.forEach(W=>{N((0,d.Y0)({accountId:T,siteId:G,key:W}))})},async updateEnvVars(k){k.length&&k.forEach(W=>{N((0,d.bJ)({accountId:T,siteId:G,oldKey:W.key,newKey:W.key,scopes:W.scopes,values:W.values}))})}}}},16467:(ye,se,l)=>{l.d(se,{CS:()=>q,IC:()=>D,S0:()=>J,uF:()=>F,k3:()=>j});var d=l(31425),L=l(68854),$=l(83611);const N=async(U,e,t)=>{const r=e?`${e}/integration-ui.json`:new URL([$.Sg,U,t].filter(Boolean).join("/"),window.location.origin),u=await fetch(r);if(!u.ok){if(u.status===404)return null;throw new Error("Unable to load Workflow UI config!")}try{const c=await u.json();return Object.keys(c).length?c:null}catch{return console.error("Workflow UI Config is not valid JSON"),null}};function M(U,e){const t=U.surfaces.map(r=>({...r,routes:T(r.routes,e)}));return{...U,surfaces:t}}function T(U,e){return Object.entries(U).reduce((t,[r,u])=>(t[r]=u.map(c=>G(c,e)),t),{})}function G(U,e){var t;const r="contents"in U?(t=U.contents)==null?void 0:t.map(m=>G(m,e)):void 0,u=U.id||(0,d.Z)(),c={...U,id:u,...r&&{contents:r}};return e.set(u,c),c}async function k(U){let e;try{e=JSON.parse((0,L.le)("wui-dev-mode")||"{}")}catch{}const t=e==null?void 0:e.packages;if(!(Array.isArray(t)&&t.length>0))return null;const u=(...Z)=>(console.error(...Z),null),c=`${$.xw}/workflow-ui.json`,m=await fetch(c);let v;if(m.ok&&(v=await m.json()),!v)return u(`No local config found at ${c}`);if(typeof v.packageId!="string")return u(`Config doesn't have a "packageId" at root level`,v);if(!t.includes(v.package))return u(`Config loaded locally is for a different package (${v.package}) than what's in dev mode: ${t.join(",")}`);if(!Array.isArray(v.surfaces))return u(`Config doesn't have a "surfaces" array field at root level`,v);let C=null;return U!=null&&U.surfaceName&&v.surfaces.length>0&&v.surfaces.some(te=>te.surfaceName===U.surfaceName)&&(C=v),C}const W=new Map,J=U=>W.get(U),q=(U,e)=>{W.set(U,e)},D=U=>{W.delete(U)},j=async U=>N(U),F=async({surfaceName:U,host:e,routeSplat:t="",packageKey:r})=>{const u=`iframe[data-surface-name="${U}"]`;if(document.querySelector(u))return;let c=await N(U,e,r);const m=await k({surfaceName:U,packageKey:r});m&&(c=m);const v=new Map,C=c?M(c,v):void 0,Z=t==null?void 0:t.split("/").filter(Boolean),te=C==null?void 0:C.surfaces.find(E=>E.surfaceName===U),B=Z==null?void 0:Z.reduce((E,P,V)=>{const X=E[V]||"";return E.push(`${X}/${P}`.replace("//","/")),E},["/"]).reverse(),g=(B==null?void 0:B.find(E=>!!(te!=null&&te.routes[E])))||"",K=te==null?void 0:te.routes[g];return{config:C,surfaceConfig:te,surfaceRouteConfig:K,matchedRouteKey:g,useDevMode:!!m,elementDirectory:v}}},22386:(ye,se,l)=>{l.d(se,{ZP:()=>ae});var d=l(5780),L=l.n(d),$=l(63851),N=l(63733),M=l(1329),T=l(807);const G="001",k="002",W="003",J="004",q="unknown",D=y=>y?y===J?"CVV code":y===k?"card number":y===W?"card type":"":"",j=y=>{switch(y){case"creditCardExpirationMonth":return"card expiration month";case"creditCardExpirationYear":return"card expiration year";case"cardSecurityCode":return"CVV code";case"creditCardHolderName":return"cardholder name";case"creditCardCountry":return"country";case"creditCardState":return"state";case"creditCardAddress1":case"creditCardAddress2":return"address";case"creditCardCity":return"city";case"creditCardPostalCode":return"zip/postal code";default:return""}},F=y=>y?y.includes("creditCardExpirationMonth")?"card expiration month":y.includes("creditCardExpirationYear")?"card expiration year":y.includes("cardSecurityCode")?"CVV code":y.includes("creditCardHolderName")?"cardholder name":y.includes("creditCardCountry")?"country":y.includes("creditCardState")?"state":y.includes("creditCardAddress1")||y.includes("creditCardAddress2")?"address":y.includes("creditCardCity")?"city":y.includes("creditCardPostalCode")?"zip/postal code":"":"",U=y=>y?y.includes("Submit_Too_Quick")?"You have submitted this form too many times. Please try again later.":y.includes("Authentication failed, please check your password")?"Verification step failed because the authentication was incorrect or the authentication was canceled.":y.includes("card_error/card_declined")?"Your card was declined.":`Validation failed on server-side, Please check your input values. Internal message: ${y}`:"Validation failed on server-side, Please check your input values.";function e(y){if(!(y!=null&&y.directResults))return y;const{key:p,message:z,code:ie}=y.directResults,re=D(ie);if(re)return{...y,displayMessage:`The provided ${re} is invalid.`};const he=j(p);if(he)return{...y,displayMessage:`The provided ${he} is invalid.`};const de=F(z);return de?{...y,displayMessage:`The provided ${de} is invalid.`}:"key"in y.directResults&&p==="error"?{...y,displayMessage:U(z)}:y}const t="1.3.1",r="8ad088718045e6340180479027db13c7",u="8a12892d804132bf01804c4c9bb718d7";let c,m=!1;const v=()=>window.Z||null,C=async y=>{m||(await new Promise((p,z)=>{m=!0;const ie=document.createElement("script");ie.type="text/javascript",ie.async=!0,ie.onload=()=>p(),ie.onerror=()=>z("Failed to load zuora"),ie.src=`https://static.zuora.com/Resources/libs/hosted/${t}/zuora-min.js`,document.getElementsByTagName("head")[0].appendChild(ie)}),window.addEventListener("message",y))},Z=y=>({id:y.hosted_page_id,key:y.key,signature:y.signature,style:"overlay",submitEnabled:!0,tenantId:y.tenantId,token:y.token,url:y.uri,field_accountId:y.zuora_id,param_supportedTypes:"AmericanExpress,Visa,MasterCard,Discover,Dankort"}),te=({key:y,card:p})=>{const z=new M.Z;return z.setPublicKey(y),{creditCardExpirationMonth:z.encrypt(parseInt(p.expirationMonth)<10?`0${parseInt(p.expirationMonth)}`:`${p.expirationMonth}`),creditCardExpirationYear:z.encrypt(""+p.expirationYear),creditCardNumber:z.encrypt(p.creditCardNumber.replace(/\s/gi,"")),cardSecurityCode:z.encrypt(p.securityCode),creditCardHolderName:p.cardHolderInfo.cardHolderName,creditCardCountry:T.vU[p.cardHolderInfo.country]||p.cardHolderInfo.country,creditCardState:(0,T.H8)(p.cardHolderInfo.state),creditCardAddress1:p.cardHolderInfo.addressLine1,creditCardAddress2:p.cardHolderInfo.addressLine2,creditCardCity:p.cardHolderInfo.city,creditCardPostalCode:p.cardHolderInfo.zipCode}};async function B({rendererParams:y,rendererPrepopulateFields:p,onSubmissionSuccess:z,onSubmissionError:ie,onRenderError:re,onRenderSuccess:he}){try{let fe=function(Q){ie==null||ie(e(Q)),E()};var de=fe;const{key:pe,signature:_e,style:be,submitEnabled:me,tenantId:Se,token:we,url:ve,sandbox:w,passthroughParams:oe,zuoraPayload:Ee,zuora_id:Ae,hosted_page_id:Re}=y,De=Date.now();c=De;const Te=()=>c===De;A(),await C(Q=>{Te()&&Q.origin.endsWith(".zuora.com")&&console.log("[Zuora event]",Q)});const Ne=Q=>{Te()&&(console.log("[Zuora callback invoked]",Q),["true",!0].includes(Q==null?void 0:Q.success)?z==null||z(Q):Q.responseFrom==="Response_From_Submit_Page"?fe({displayMessage:"Failed to process payment",directResults:Q}):re==null||re("Failed to load page"),E())},ke=(Q,le,b,f)=>{Te()&&(console.error("[Zuora client error message invoked]",{key:Q,code:le,message:b,rawGatewayInfo:f}),fe==null||fe({displayMessage:b,directResults:{key:Q,code:le,message:b,rawGatewayInfo:f}}))},Ce=Q=>{Te()&&(console.log("[Zuora showing challenge modal]",Q),K())},I=(oe||[]).reduce((Q,le,b)=>(b<15?Q[`field_passthrough${b+1}`]=le:console.error("[Zuora Passthrough Error] Only 15 passthrough params allowed"),Q),{}),ee=te({key:pe,card:Ee});v().setEventHandler("onloadCallback",()=>{Te()&&(v().setAgreement("External","Recurring","Visa,Mastercard,Discover",""),v().allowScroll(),g(),he==null||he(),setTimeout(()=>{v().submit()},2e3))}),v().renderWithErrorHandler({id:Re||(w?r:u),key:pe,signature:_e,style:be,submitEnabled:me,tenantId:Se,token:we,url:ve,field_accountId:Ae,...I},ee,Ne,ke,null,null,Ce)}catch(fe){console.error("[Unknown error rendering Zuora page]",fe),re==null||re(fe)}}const g=()=>{const y=document.querySelector("#zuora_payment iframe");y&&(y.style.width="100%")},K=()=>{const y=document.getElementById("zuora_form_container");y&&(y.style.marginTop="1rem",y.style.opacity="1",y.style.height="auto")},A=()=>{const y=document.getElementById("zuora_form_container");y&&(y.style.marginTop="0",y.style.opacity="0",y.style.height="0")},E=()=>{const y=document.querySelector("#zuora_payment iframe");y&&y.remove(),A()},P={amex:"AmericanExpress",discover:"Discover",mastercard:"MasterCard",visa:"Visa",jcb:"JCB",diners:"Diners"},V=y=>{const p=(0,N._O)(y.number)||{};return P[p.type]},X=y=>{var p,z;const ie=((z=(p=y==null?void 0:y.reasons)==null?void 0:p[0])==null?void 0:z.message)||"Unable to process transaction",re=ie.split(".").shift(),he=/PROCESSOR_DECLINED/.test(ie)?". Please contact your bank for more information.":"";return`${re}${he}`},ne=({card:y,token:p})=>{const{month:z,year:ie}=(0,N.qj)(y.expiration),re=V(y);return{accountKey:p.payment_gateway_id,cardHolderInfo:{cardHolderName:y.name,addressLine1:y.addressLine1||"placeholder",addressLine2:y.addressLine2,city:y.city,country:y.country,state:y.state,zipCode:y.zipCode},creditCardNumber:y.number,creditCardType:re,defaultPaymentMethod:!0,expirationMonth:z,expirationYear:ie,securityCode:y.cvv}},ce=({token:y,zuoraPayload:p,zuoraResponse:z})=>{if(!z.success)throw new $.Z(X(z));try{const ie=z.paymentMethodId;if(!ie)throw new Error("Missing paymentMethodId in Zuora response");const re=y.customer_id,he=y.organization_id;if(!re&&!he)throw new Error("Missing customer_id or organization_id in token bundle from API");const de={type:"card",zuora_id:ie,customer_id:re,data:{card_type:p.creditCardType,name:p.cardHolderInfo.cardHolderName,last4:p.creditCardNumber.substr(p.creditCardNumber.length-4),country:p.cardHolderInfo.country,state:p.cardHolderInfo.state,auth_transaction_id:z.authTransactionId},sandbox:y.sandbox,enterpriseException:y.enterpriseException};return Promise.resolve(de)}catch(ie){throw L().notify(ie,re=>{re.context="zuora-client \uFE65 zuoraResponseToPaymentMethod"}),new $.Z("Unable to process transaction")}};class ae{constructor(p,z){this.hasRequiredFields=ie=>{const{accountKey:re,cardHolderInfo:he,creditCardType:de,expirationMonth:fe,expirationYear:pe}=ie;return![re,he,de,fe,pe].some(_e=>!_e)},this.createPaymentMethod=ie=>{const re=ne({card:ie,token:this.tokenBundle});if(!this.hasRequiredFields(re))throw new $.Z("Unsupported payment method");try{const{signature:he,token:de,secure:fe}=this.tokenBundle;if(!he)throw new Error("Missing signature in token bundle from API");if(!de)throw new Error("Missing token in token bundle from API");return fe?this.perform3DSecureHostedFrameSequence(re).then(pe=>ce({token:this.tokenBundle,zuoraPayload:re,zuoraResponse:pe})):fetch(this.tokenBundle.uri,{body:JSON.stringify(re),headers:{Accept:"application/json","Content-Type":"application/json",signature:he,token:de},method:"POST",mode:"cors"}).then(pe=>pe.json()).then(pe=>ce({token:this.tokenBundle,zuoraPayload:re,zuoraResponse:pe}))}catch(he){throw L().notify(he,de=>{de.context="zuora-client \uFE65 createPaymentMethod"}),new $.Z("Unable to process transaction")}},this.perform3DSecureHostedFrameSequence=async ie=>{const{sandbox:re,uri:he,key:de,tenantId:fe,signature:pe,token:_e,zuora_id:be,hosted_page_id:me}=this.tokenBundle;if(!fe||!de||!pe||!_e)throw console.error("perform3DSecureHostedFrameSequence did not receive all of the data needed",this.tokenBundle),L().notify({errorClass:"invalid-3d-response",errorMessage:"Insufficient parameters received for 3D Secure"},Se=>{Se.context="zuora-client \uFE65 perform3DSecureHostedFrameSequence"}),new $.Z("Unable to process transaction");return new Promise((Se,we)=>{B({rendererParams:{sandbox:re,url:he,key:de,tenantId:fe,signature:pe,token:_e,submitEnabled:!0,style:"inline",passthroughParams:[this.options.darkMode?"theme-dark":"theme-light"],zuoraPayload:ie,zuora_id:be,hosted_page_id:me},rendererPrepopulateFields:{},onRenderSuccess:()=>{console.log("[Zuora iframe rendered]")},onRenderError:ve=>console.error("[Zuora failed to render]",ve),onSubmissionError:ve=>{console.error("[Zuora failed to process]",ve),we(new $.Z(ve.displayMessage))},onSubmissionSuccess:ve=>{if(!(ve!=null&&ve.refId))return we(new $.Z("Internal Error: Failed to get a refId > paymentMethodId"));Se({paymentMethodId:ve.refId,authTransactionId:ve.zThreeDs2TxId,success:!0})}})})},this.tokenBundle=p,this.options=z||{}}}},807:(ye,se,l)=>{l.d(se,{H8:()=>M,hU:()=>L,vU:()=>d,zN:()=>$});const d={AF:"AFG",AX:"ALA",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BQ:"BES",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CW:"CUW",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SX:"SXM",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},L={AA:"Armed Forces America",AE:"Armed Forces",AK:"Alaska",AL:"Alabama",AP:"Armed Forces Pacific",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"Washington DC",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},$={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"},N=[...Object.values(L),...Object.values($)];function M(T){let G="";if(T.length===2)G=L[T.toUpperCase()]||$[T.toUpperCase()];else if(T){const k=T.toLowerCase().replace(/\W/gi,"");G=N.find(W=>{const J=W.toLowerCase().replace(/\W/gi,"");return k===J})||""}return G||T}}}]);})();
